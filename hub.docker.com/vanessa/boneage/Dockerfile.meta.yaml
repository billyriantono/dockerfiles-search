MetaArgs: null
Stages:
- BaseName: tensorflow/tensorflow:0.9.0
  Commands:
  - Maintainer: vsochat@stanford.edu
    Name: maintainer
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libtiff5-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libtiff5-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install build-essential
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install cmake
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libgtk2.0-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libjpeg8-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install zlib1g-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libfreetype6-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install liblcms2-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libwebp-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install tcl8.6-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install tk8.6-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install wget
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install unzip
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install python-tk
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install python-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install pkg-config
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libffi-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libssl-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install qt-sdk
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libavcodec-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libavformat-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libswscale-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libjpeg-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libpng-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libtiff-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libjasper-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install --upgrade pip
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install cycler==0.10.0
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install h5py==2.6.0
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install matplotlib==1.5.3
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install nose==1.3.7
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install numpy==1.11.0
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install pandas==0.18.1
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install Pillow==3.2.0
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install pydicom==0.9.9
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install pyparsing==2.1.10
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install python-dateutil==2.5.3
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install pytz==2016.4
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install runcython==0.2.5
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install scipy==0.18.1
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install six==1.10.0
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install simplejson
    Name: run
    PrependShell: true
  - CmdLine:
    - wget https://github.com/Itseez/opencv/archive/3.1.0.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip 3.1.0.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - rm 3.1.0.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - wget https://github.com/Itseez/opencv_contrib/archive/3.1.0.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip 3.1.0.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p opencv-3.1.0/build
    Name: run
    PrependShell: true
  - Name: workdir
    Path: opencv-3.1.0/build
  - CmdLine:
    - cmake -D CMAKE_BUILD_TYPE=RELEASE     -D CMAKE_INSTALL_PREFIX=/usr/local     -D
      INSTALL_PYTHON_EXAMPLES=ON     -D INSTALL_C_EXAMPLES=OFF     -D OPENCV_EXTRA_MODULES_PATH=../../opencv_contrib-3.1.0/modules     -D
      PYTHON_EXECUTABLE=/usr/bin/python     -D BUILD_EXAMPLES=ON ..
    Name: run
    PrependShell: true
  - CmdLine:
    - make -j4
    Name: run
    PrependShell: true
  - CmdLine:
    - make install
    Name: run
    PrependShell: true
  - CmdLine:
    - ldconfig
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /code
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /data
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - .
    - /code
  - CmdLine:
    - wget https://stanford.box.com/shared/static/t8hvcgy4m5kh5m76pt9kg9s71kjmik6c.meta
      -O /code/boneage/data/bone-age-checkpoint.ckpt-19999.meta
    Name: run
    PrependShell: true
  - CmdLine:
    - wget https://stanford.box.com/shared/static/5936ydxx4qjk9rjkm1aun5fa9g5h27tt.ckpt-19999
      -O /code/boneage/data/bone-age-checkpoint.ckpt-19999
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get autoremove -y
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get clean
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod u+x /code/boneage/cli.py
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /code/boneage
  - CmdLine:
    - /usr/bin/python
    - /code/boneage/cli.py
    Name: entrypoint
    PrependShell: false
  From:
    Image: tensorflow/tensorflow:0.9.0
  Name: ""
  Platform: ""
  SourceCode: FROM tensorflow/tensorflow:0.9.0
