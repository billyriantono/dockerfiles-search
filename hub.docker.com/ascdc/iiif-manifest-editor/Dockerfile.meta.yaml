MetaArgs: null
Stages:
- BaseName: ubuntu:xenial
  Commands:
  - Maintainer: ASCDC <ascdc@gmail.com>
    Name: maintainer
  - CmdLine:
    - mkdir /script
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - run.sh
    - /script/run.sh
  - CmdLine:
    - "DEBIAN_FRONTEND=noninteractive && \tchmod +x /script/*.sh && \tapt-get -qq
      update && \tapt-get -y -qq dist-upgrade && \tapt-get -y -qq install locales
      apt-utils && \tlocale-gen en_US.UTF-8 && \texport LANG=en_US.UTF-8"
    Name: run
    PrependShell: true
  - CmdLine:
    - "DEBIAN_FRONTEND=noninteractive && \tapt-get -qq update && \tapt-get -y -qq
      dist-upgrade && \tapt-get -y -qq install vim curl wget git python build-essential
      && \tmkdir -p /var/www/iiif-manifest-editor && \tcurl -o- https://raw.githubusercontent.com/creationix/nvm/master/install.sh
      | bash && \texport NVM_DIR=\"/root/.nvm\" && \t[ -s \"$NVM_DIR/nvm.sh\" ] &&
      . \"$NVM_DIR/nvm.sh\" && \tgit clone https://github.com/bodleian/iiif-manifest-editor.git
      /var/www/iiif-manifest-editor && \tcd /var/www/iiif-manifest-editor && \tnvm
      install v8.1.4 && \tnvm use v8.1.4 && \tnpm config set unsafe-perm true && \tnpm
      install -g node-sass && \tnpm install"
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /var/www/iiif-manifest-editor
  - CmdLine:
    - /script/run.sh
    Name: entrypoint
    PrependShell: false
  From:
    Image: ubuntu:xenial
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:xenial
