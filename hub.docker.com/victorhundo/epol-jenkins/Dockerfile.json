{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "jenkins:latest",
      "SourceCode": "FROM jenkins:latest",
      "Platform": "",
      "From": {
        "Image": "jenkins:latest"
      },
      "Commands": [
        {
          "Name": "user",
          "User": "root"
        },
        {
          "CmdLine": [
            "echo \"deb http://ftp.br.debian.org/debian/ jessie main non-free contrib\" \u003e  /etc/apt/sources.list  \u0026\u0026 echo \"deb http://security.debian.org/ jessie/updates main contrib non-free\" \u003e\u003e /etc/apt/sources.list  \u0026\u0026 echo \"deb http://http.debian.net/debian jessie-backports main contrib non-free\" \u003e\u003e /etc/apt/sources.list  \u0026\u0026 echo \"deb http://packages.linuxmint.com debian import\" \u003e\u003e /etc/apt/sources.list  \u0026\u0026 echo \"deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" \u003e\u003e /etc/apt/sources.list  \u0026\u0026 echo \"deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main\" \u003e\u003e /etc/apt/sources.list  \u0026\u0026 apt-key adv --recv-keys --keyserver keyserver.ubuntu.com 3EE67F3D0FF405B2  \u0026\u0026 apt-key adv --recv-keys --keyserver keyserver.ubuntu.com EEA14886"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "echo \"oracle-java8-installer shared/accepted-oracle-license-v1-1 select true\" | debconf-set-selections"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "echo \"oracle-java8-installer shared/accepted-oracle-license-v1-1 seen true\" | debconf-set-selections"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "apt-get update \u0026\u0026 apt-get install -y    oracle-java8-installer    oracle-java8-set-default    maven    wkhtmltopdf    nodejs    npm    firefox    xvfb    xfonts-75dpi    sshpass    apt-transport-https    ca-certificates    gnupg2    software-properties-common    lsb-release"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "wget http://ftp.br.debian.org/debian/pool/main/libj/libjpeg8/libjpeg8_8d1-2_amd64.deb  \u0026\u0026 wget http://download.gna.org/wkhtmltopdf/0.12/0.12.2.1/wkhtmltox-0.12.2.1_linux-jessie-amd64.deb  \u0026\u0026 dpkg -i libjpeg8_8d1-2_amd64.deb  \u0026\u0026 dpkg -i wkhtmltox-0.12.2.1_linux-jessie-amd64.deb  \u0026\u0026 rm libjpeg8_8d1-2_amd64.deb  \u0026\u0026 rm wkhtmltox-0.12.2.1_linux-jessie-amd64.deb"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "ln -s /usr/bin/nodejs /usr/bin/node  \u0026\u0026 npm cache clean -f  \u0026\u0026 npm install -g n  \u0026\u0026 n stable  \u0026\u0026 npm install -g gulp-cli  \u0026\u0026 npm install -g gulp"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "curl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add -  \u0026\u0026 apt-key fingerprint 0EBFCD88  \u0026\u0026 add-apt-repository   \"deb [arch=amd64] https://download.docker.com/linux/debian   $(lsb_release -cs)   stable\"  \u0026\u0026 apt-get update \u0026\u0026 apt-get install -y docker-ce  \u0026\u0026 usermod -aG docker jenkins  \u0026\u0026 touch /var/run/docker.sock  \u0026\u0026 chown root:docker /var/run/docker.sock"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "rm -rf /var/lib/apt/lists  \u0026\u0026 apt-get autoclean -y  \u0026\u0026 apt-get autoremove -y  \u0026\u0026 rm -rf /var/lib/apt/lists/*"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "mkdir /local_home  \u0026\u0026 chown -R jenkins /local_home  \u0026\u0026 Xvfb :10 -ac\u0026"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "ln -sf /usr/share/zoneinfo/America/Recife /etc/localtime  \u0026\u0026 echo \"America/Recife\" \u003e /etc/timezone  \u0026\u0026 export TZ=America/Recife"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "user",
          "User": "jenkins"
        },
        {
          "CmdLine": [
            "echo \"export JBOSS_HOME=/local_home/epol/wildfly-10.0.0.Final\" \u003e\u003e ~/.bashrc  \u0026\u0026 export JBOSS_HOME=/local_home/epol/wildfly-10.0.0.Final"
          ],
          "Name": "run",
          "PrependShell": true
        }
      ]
    }
  ]
}