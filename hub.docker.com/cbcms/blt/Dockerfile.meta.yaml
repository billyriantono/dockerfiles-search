MetaArgs: null
Stages:
- BaseName: php:7.3
  Commands:
  - Maintainer: Doug Groene <dgroene@collegeboard.org>
    Name: maintainer
  - Env:
    - Key: SONAR_SCANNER_VERSION
      Value: 3.0.3.778-linux
    - Key: SONAR_SCANNER_HOME
      Value: /opt/sonar-scanner
    Name: env
  - CmdLine:
    - apt-get update && apt-get install -y --no-install-recommends apt-utils
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /usr/share/man/man1 &&   apt-get update -y &&   apt-get install -y
      openjdk-11-jdk
    Name: run
    PrependShell: true
  - CmdLine:
    - set -ex   && apt-get update -yqq   && apt-get install -yqq   git   unzip   wget   curl   rsync   libmcrypt-dev   libgd-dev   libbz2-dev   libzip-dev   libcurl4-openssl-dev   openssh-client   libmagickwand-dev   default-mysql-client   default-libmysqlclient-dev   default-jre   gnupg   ca-certificates   apt-transport-https   ttf-wqy-zenhei   imagemagick   procps   &&
      curl -sL https://deb.nodesource.com/setup_11.x | bash -   && apt-get install
      -y nodejs   && docker-php-ext-configure gd --with-freetype-dir=/usr/include/
      --with-jpeg-dir=/usr/include/   && docker-php-ext-install -j$(nproc) bz2 gd
      pdo_mysql curl mbstring opcache zip   && pecl install xdebug imagick   && curl
      -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin
      --filename=composer   && composer global require "hirak/prestissimo:^0.3"   &&
      curl -fsSLO https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-${SONAR_SCANNER_VERSION}.zip   &&
      unzip sonar-scanner-cli-${SONAR_SCANNER_VERSION}.zip   && mv sonar-scanner-$SONAR_SCANNER_VERSION
      $SONAR_SCANNER_HOME   && rm sonar-scanner-cli-${SONAR_SCANNER_VERSION}.zip   &&
      ln -s $SONAR_SCANNER_HOME/bin/sonar-runner /usr/bin/sonar-runner  && ln -s $SONAR_SCANNER_HOME/bin/sonar-scanner
      /usr/bin/sonar-scanner   && ln -s $SONAR_SCANNER_HOME/bin/sonar-scanner-debug
      /usr/bin/sonar-scanner-debug   && apt-get purge -y --auto-remove -o APT::AutoRemove::RecommendsImportant=false
    Name: run
    PrependShell: true
  - CmdLine:
    - php
    - -a
    Name: cmd
    PrependShell: false
  From:
    Image: php:7.3
  Name: ""
  Platform: ""
  SourceCode: FROM php:7.3
