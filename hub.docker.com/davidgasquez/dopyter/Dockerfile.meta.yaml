MetaArgs: null
Stages:
- BaseName: debian:latest
  Commands:
  - CmdLine:
    - apt-get update -y &&     apt-get install --no-install-recommends --allow-unauthenticated
      -y -q     curl build-essential wget bzip2 sudo ca-certificates &&     apt-get
      clean &&     rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*
    Name: run
    PrependShell: true
  - Env:
    - Key: CONDA_DIR
      Value: /opt/conda
    Name: env
  - Env:
    - Key: PATH
      Value: $CONDA_DIR/bin:$PATH
    Name: env
  - Env:
    - Key: NB_USER
      Value: local
    Name: env
  - Env:
    - Key: NB_UID
      Value: "1000"
    Name: env
  - CmdLine:
    - useradd -m -s /bin/bash -N -u $NB_UID $NB_USER &&     mkdir -p $CONDA_DIR &&     chown
      $NB_USER $CONDA_DIR
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /work && chown $NB_USER /work
    Name: run
    PrependShell: true
  - Name: user
    User: $NB_USER
  - CmdLine:
    - mkdir /home/$NB_USER/work &&     mkdir /home/$NB_USER/.jupyter
    Name: run
    PrependShell: true
  - CmdLine:
    - wget --quiet http://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh
      -O ~/miniconda.sh &&     /bin/bash ~/miniconda.sh -f -b -p $CONDA_DIR &&     rm
      ~/miniconda.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - conda install --quiet --yes conda conda-env &&     conda clean -tipsy &&     conda
      config --add channels conda-forge
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - requirements.yml
    - /tmp/requirements.yml
  - CmdLine:
    - conda env update -f /tmp/requirements.yml &&     rm -rf /home/$NB_USER/.cache/pip/*
    Name: run
    PrependShell: true
  - CmdLine:
    - jupyter serverextension enable --py jupyterlab --sys-prefix
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/jupyter_notebook_config.py
    - /home/$NB_USER/.jupyter/
  - Name: workdir
    Path: /work
  - CmdLine:
    - jupyter lab
    Name: cmd
    PrependShell: true
  From:
    Image: debian:latest
  Name: ""
  Platform: ""
  SourceCode: FROM debian:latest
