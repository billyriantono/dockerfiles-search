MetaArgs: null
Stages:
- As: builder
  BaseName: ubuntu:16.04
  Commands:
  - Maintainer: Andrey Bronin <jonnib@yandex.ru>
    Name: maintainer
  - CmdLine:
    - apt-get update && apt-get install -y --no-install-recommends apt-utils ca-certificates
      build-essential git llvm-dev make cmake libclang-5.0-dev llvm-5.0-dev libboost-dev
      libboost-iostreams-dev nano mc
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /home && git clone --depth=1 https://github.com/google/googletest.git &&cd
      googletest && cmake . && make install -j5
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone --recursive https://github.com/flexferrum/autoprogrammer.git /repo
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /repo && git checkout 1d246b809f916b0aa06388b985b17cc6f6b9e842
    Name: run
    PrependShell: true
  - CmdLine:
    - cmake -H/repo -B/build
    Name: run
    PrependShell: true
  - CmdLine:
    - cmake --build /build
    Name: run
    PrependShell: true
  - CmdLine:
    - cmake --build /build --target test
    Name: run
    PrependShell: true
  - CmdLine:
    - cmake --build /build --target install
    Name: run
    PrependShell: true
  - CmdLine:
    - bash
    Name: cmd
    PrependShell: false
  From:
    Image: ubuntu:16.04
  Name: builder
  Platform: ""
  SourceCode: FROM ubuntu:16.04 as builder
