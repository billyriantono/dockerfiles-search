MetaArgs: null
Stages:
- BaseName: lakowske/k8s-keys
  Commands:
  - Maintainer: Seth Lakowske <lakowske@gmail.com>
    Name: maintainer
  - CmdLine:
    - mkdir /config-drive
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /iso
    Name: run
    PrependShell: true
  - CmdLine:
    - apk add --update cdrkit gettext curl && rm -rf /var/cache/apk/*
    Name: run
    PrependShell: true
  - CmdLine:
    - curl https://raw.githubusercontent.com/coreos/coreos-kubernetes/master/multi-node/generic/worker-install.sh
      > /worker-install.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - curl https://raw.githubusercontent.com/coreos/coreos-kubernetes/master/multi-node/generic/controller-install.sh
      > /controller-install.sh
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./create-config-drive
    - /
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./setup-node.sh
    - /
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./user_data
    - /
  - CmdLine:
    - chmod 755 /create-config-drive
    Name: run
    PrependShell: true
  - CmdLine:
    - /create-config-drive
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - /create-config-drive
    Name: cmd
    PrependShell: true
  From:
    Image: lakowske/k8s-keys
  Name: ""
  Platform: ""
  SourceCode: FROM lakowske/k8s-keys
