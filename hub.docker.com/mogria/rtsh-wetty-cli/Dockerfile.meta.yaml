MetaArgs: null
Stages:
- BaseName: node:latest
  Commands:
  - Maintainer: Mogria <m0gr14@gmail.com>
    Name: maintainer
  - CmdLine:
    - apt-get update && apt-get upgrade -y &&     apt-get install -y vim openssh-server
      &&     curl -o /usr/bin/gosu -fsSL "https://github.com/tianon/gosu/releases/download/1.7/gosu-$(dpkg
      --print-architecture)" &&     chmod +x /usr/bin/gosu
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - package.json
    - /app/package.json
  - Chown: ""
    Name: add
    SourcesAndDest:
    - bin/wetty.js
    - /app/bin/wetty.js
  - Chown: ""
    Name: add
    SourcesAndDest:
    - README.md
    - /app/README.md
  - Chown: ""
    Name: add
    SourcesAndDest:
    - .bowerrc
    - /app/.bowerrc
  - Chown: ""
    Name: add
    SourcesAndDest:
    - bower.json
    - /app/bower.json
  - Name: workdir
    Path: /app
  - CmdLine:
    - git config --global url."https://github.com".insteadOf "git://github.com" &&     npm
      install --production &&     npm install -g bower &&     mkdir -p /app/public/vendor
      &&     bower install --allow-root
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - start-script.sh
    - /usr/bin/start-script.sh
  - CmdLine:
    - echo 'export PATH="$PATH:/app/rts"' > /etc/profile.d/rts-path.sh &&     groupadd
      --gid 1312 rtshplayers &&     useradd --uid 1337 rtshsrv &&     mkdir /rtshwetty
      &&     useradd --uid 1338 rtshwetty --groups rtshplayers --home /rtshwetty &&     chown
      rtshwetty:rtshwetty /rtshwetty &&     chmod 700 /usr/bin/start-script.sh
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - bin
    - /app/bin
  - Chown: ""
    Name: add
    SourcesAndDest:
    - public
    - /app/public
  - Chown: ""
    Name: add
    SourcesAndDest:
    - rts
    - /app/rts/rts
  - Chown: ""
    Name: add
    SourcesAndDest:
    - app.js
    - /app/app.js
  - Chown: ""
    Name: add
    SourcesAndDest:
    - LICENSE
    - /app/LICENSE
  - Chown: ""
    Name: add
    SourcesAndDest:
    - motd
    - /etc/motd
  - Chown: ""
    Name: add
    SourcesAndDest:
    - start-script.sh
    - /app/start-script.sh
  - CmdLine:
    - ln -s /app/rts/rts /app/rts/cheat_create_unit &&     ln -s /app/rts/rts /app/rts/move_unit
      &&     ln -s /app/rts/rts /app/rts/build
    Name: run
    PrependShell: true
  - CmdLine:
    - chown -R rtshwetty:rtshwetty /app &&     find /app -type f -exec chmod -R 400
      '{}' \; &&     find /app -type d -exec chmod -R 500 '{}' \; &&     chown -R
      rtshsrv:rtshsrv /app/rts &&     chmod +x /app &&     chmod +r /app &&     chmod
      -R +x /app/rts &&     chmod -R +r /app/rts
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "3000"
  - Name: volume
    Volumes:
    - /world
    - /home
    - /app/public
  - CmdLine:
    - start-script.sh
    Name: entrypoint
    PrependShell: false
  From:
    Image: node:latest
  Name: ""
  Platform: ""
  SourceCode: FROM node:latest
