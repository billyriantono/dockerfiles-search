MetaArgs: null
Stages:
- BaseName: debian:stretch-slim
  Commands:
  - Key: BUILD_DATE
    Name: arg
    Value: null
  - Key: VCS_REF
    Name: arg
    Value: null
  - Labels:
    - Key: maintainer
      Value: '"Guillaume LAURENT <laurent.guillaume@gmail.com>"'
    Name: label
  - Labels:
    - Key: org.label-schema.build-date
      Value: $BUILD_DATE
    Name: label
  - Labels:
    - Key: org.label-schema.vcs-url
      Value: '"https://github.com/iamthemitch/docker-wemo.git"'
    Name: label
  - Labels:
    - Key: org.label-schema.vcs-ref
      Value: $VCS_REF
    Name: label
  - Labels:
    - Key: org.label-schema.name
      Value: '"Belkin WeMo"'
    Name: label
  - Labels:
    - Key: org.label-schema.description
      Value: '"Container to control Belkin WeMo devices, based on ouimeaux lib"'
    Name: label
  - Labels:
    - Key: org.label-schema.url
      Value: '"https://ouimeaux.readthedocs.io"'
    Name: label
  - Labels:
    - Key: org.label-schema.schema-version
      Value: '"1.0.0-rc1"'
    Name: label
  - CmdLine:
    - apt-get update &&   apt-get install -y     curl     git gcc     python python-pip
      python-dev &&   adduser --disabled-password --gecos "Belkin WeMo" wemo &&   pip
      install Flask==0.8 &&   pip install -e 'git+https://github.com/iancmcc/ouimeaux.git#egg=ouimeaux[server]'
      &&   sed -i 's#gevent.wsgi#gevent.pywsgi#' /src/ouimeaux/ouimeaux/subscribe.py
      &&   apt-get remove --purge -y git gcc &&   apt-get autoremove -y && apt-get
      clean &&   rm -rf /var/lib/apt/lists/* &&   echo DONE
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "5000"
  - Name: user
    User: wemo
  - Health:
      Interval: 300000000000
      Test:
      - CMD-SHELL
      - curl -f -X GET "http://127.0.0.1:5000/api/environment" || exit 1
      Timeout: 5000000000
    Name: healthcheck
  - CmdLine:
    - wemo
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - server
    Name: cmd
    PrependShell: false
  From:
    Image: debian:stretch-slim
  Name: ""
  Platform: ""
  SourceCode: FROM debian:stretch-slim
