MetaArgs: null
Stages:
- BaseName: alpine
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"blueapple <blueapple1120@qq.com>"'
    Name: label
  - Env:
    - Key: PROFTPD_VERSION
      Value: 1.3.6
    Name: env
  - Env:
    - Key: PROFTPD_DEPS
      Value: g++   gcc   libc-dev   make
    Name: env
  - CmdLine:
    - set -x     && apk add --no-cache --virtual .persistent-deps         ca-certificates         curl     &&
      apk add --no-cache --virtual .build-deps         $PROFTPD_DEPS     && curl -fSL
      ftp://ftp.proftpd.org/distrib/source/proftpd-${PROFTPD_VERSION}.tar.gz -o proftpd.tgz     &&
      tar -xf proftpd.tgz     && rm proftpd.tgz     && mkdir -p /usr/local     &&
      mv proftpd-${PROFTPD_VERSION} /usr/local/proftpd     && sleep 1     && cd /usr/local/proftpd     &&
      sed -i 's/__mempcpy/mempcpy/g' lib/pr_fnmatch.c     && ./configure     && make     &&
      cd /usr/local/proftpd && make install     && make clean     && apk del .build-deps
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "20"
  - Name: expose
    Ports:
    - "21"
  - CmdLine:
    - /usr/local/sbin/proftpd
    - -n
    - -c
    - /usr/local/etc/proftpd.conf
    Name: cmd
    PrependShell: false
  From:
    Image: alpine
  Name: ""
  Platform: ""
  SourceCode: FROM alpine
