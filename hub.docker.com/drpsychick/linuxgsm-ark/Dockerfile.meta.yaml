MetaArgs: null
Stages:
- BaseName: drpsychick/linuxgsm-ubuntu:latest
  Commands:
  - Labels:
    - Key: description
      Value: '"linuxgsm-docker tuned for a cluster of ARK: Survival Evolved"'
    - Key: maintainer
      Value: '"github@drsick.net"'
    Name: label
  - Name: user
    User: root
  - CmdLine:
    - apt-get update     && apt-get install -y git python-setuptools     && git clone
      https://github.com/barneygale/MCRcon     && (cd MCRcon; python setup.py install_lib)     &&
      rm -rf MCRcon     && apt-get autoremove -y     && apt-get clean -y     && rm
      -rf /var/lib/apt/lists/*     && rm -rf /tmp/*     && rm -rf /var/tmp/*
    Name: run
    PrependShell: true
  - Name: user
    User: lgsm
  - CmdLine:
    - ./linuxgsm.sh arkserver     && mkdir -p ./serverfiles ./serverfiles_saved ./serverfiles_config
      ./serverfiles_mods ./serverfiles_clusters     && ./arkserver && ./arkserver
      validate && rm -rf ./arkserver ./serverfiles/*     && mv ./lgsm/config-lgsm/arkserver/arkserver.cfg
      ./serverfiles_config/arkserver.cfg     && ln -s ../../../serverfiles_config/arkserver.cfg
      ./lgsm/config-lgsm/arkserver/arkserver.cfg
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - update_mods.sh
    - extract_mod.sh
    - container_init.sh
    - container_warmup.sh
    - rcon.py
    - /home/lgsm/
  - Name: volume
    Volumes:
    - /home/lgsm/serverfiles
    - /home/lgsm/serverfiles_saved
    - /home/lgsm/serverfiles_config
    - /home/lgsm/serverfiles_mods
    - /home/lgsm/serverfiles_clusters
  - Env:
    - Key: RCON_HOST
      Value: localhost
    - Key: RCON_PORT
      Value: "27020"
    - Key: RCON_PASS
      Value: password
    Name: env
  - Health:
      Interval: 10000000000
      Retries: 3
      Test:
      - CMD-SHELL
      - python /home/lgsm/rcon.py listplayers
      Timeout: 1000000000
    Name: healthcheck
  - Env:
    - Key: SERVERNAME
      Value: '"arkserver"'
    Name: env
  - Env:
    - Key: UPDATE_LGSM
      Value: '""'
    - Key: UPDATE_SERVER
      Value: '""'
    - Key: FORCE_VALIDATE
      Value: '""'
    - Key: UPDATE_MODS
      Value: '""'
    Name: env
  - Env:
    - Key: CONTAINER_INIT
      Value: '"yes"'
    - Key: CONTAINER_WARMUP
      Value: '"yes"'
    Name: env
  - CmdLine:
    - start
    Name: cmd
    PrependShell: false
  From:
    Image: drpsychick/linuxgsm-ubuntu:latest
  Name: ""
  Platform: ""
  SourceCode: FROM drpsychick/linuxgsm-ubuntu:latest
