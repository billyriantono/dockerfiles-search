{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "biowardrobe2/scidap:v0.0.3",
      "SourceCode": "FROM biowardrobe2/scidap:v0.0.3",
      "Platform": "",
      "From": {
        "Image": "biowardrobe2/scidap:v0.0.3"
      },
      "Commands": [
        {
          "Maintainer": "Michael Kotliar \"misha.kotliar@gmail.com\"",
          "Name": "maintainer"
        },
        {
          "Env": [
            {
              "Key": "DEBIAN_FRONTEND",
              "Value": "noninteractive"
            }
          ],
          "Name": "env"
        },
        {
          "Name": "workdir",
          "Path": "/tmp"
        },
        {
          "Env": [
            {
              "Key": "VERSION_BISMARK",
              "Value": "0.22.1"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "URL_BISMARK",
              "Value": "\"https://github.com/FelixKrueger/Bismark/archive/${VERSION_BISMARK}.tar.gz\""
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "VERSION_BOWTIE",
              "Value": "1.2.0"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "URL_BOWTIE",
              "Value": "\"https://github.com/BenLangmead/bowtie/archive/v${VERSION_BOWTIE}.tar.gz\""
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "VERSION_BOWTIE2",
              "Value": "2.3.5.1"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "URL_BOWTIE2",
              "Value": "\"https://github.com/BenLangmead/bowtie2/archive/v${VERSION_BOWTIE2}.tar.gz\""
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "VERSION_HTSLIB",
              "Value": "1.9"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "URL_HTSLIB",
              "Value": "\"https://github.com/samtools/htslib/releases/download/${VERSION_HTSLIB}/htslib-${VERSION_HTSLIB}.tar.bz2\""
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "VERSION_SAMTOOLS",
              "Value": "1.9"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "URL_SAMTOOLS",
              "Value": "\"https://github.com/samtools/samtools/releases/download/${VERSION_SAMTOOLS}/samtools-${VERSION_SAMTOOLS}.tar.bz2\""
            }
          ],
          "Name": "env"
        },
        {
          "CmdLine": [
            "apt-get update \u0026\u0026     apt-get install -y libtbb-dev libgd-dev \u0026\u0026     apt-get install -y libncurses5-dev libbz2-dev liblzma-dev \u0026\u0026     wget -q -O /opt/Bismark-${VERSION_BISMARK}.tar.gz ${URL_BISMARK} \u0026\u0026     cd /opt \u0026\u0026     tar xzf ./Bismark-${VERSION_BISMARK}.tar.gz \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/bismark /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/NOMe_filtering /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/bam2nuc /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/bismark2bedGraph /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/bismark2report /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/bismark2summary /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/bismark_genome_preparation /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/bismark_methylation_extractor /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/coverage2cytosine /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/deduplicate_bismark /usr/local/bin/ \u0026\u0026     ln -s /opt/Bismark-${VERSION_BISMARK}/filter_non_conversion /usr/local/bin/ \u0026\u0026     rm /opt/Bismark-${VERSION_BISMARK}.tar.gz \u0026\u0026     wget -q -O - $URL_BOWTIE | tar -zxv \u0026\u0026     cd bowtie-${VERSION_BOWTIE} \u0026\u0026     make -j 4 \u0026\u0026     make install \u0026\u0026     cd .. \u0026\u0026     rm -rf ./bowtie-${VERSION_BOWTIE} \u0026\u0026     wget -q -O - $URL_BOWTIE2 | tar -zxv \u0026\u0026     cd bowtie2-${VERSION_BOWTIE2} \u0026\u0026     make -j 4 \u0026\u0026     make install \u0026\u0026     cd .. \u0026\u0026     rm -rf ./bowtie2-${VERSION_BOWTIE2} \u0026\u0026     wget -q $URL_HTSLIB \u0026\u0026     bzip2 -d htslib-${VERSION_HTSLIB}.tar.bz2 \u0026\u0026     tar -xf htslib-${VERSION_HTSLIB}.tar \u0026\u0026     cd htslib-${VERSION_HTSLIB} \u0026\u0026     ./configure \u0026\u0026     make -j 4 \u0026\u0026     make install \u0026\u0026     cd .. \u0026\u0026     rm -rf ./htslib-${VERSION_HTSLIB} \u0026\u0026     rm -rf ./htslib-${VERSION_HTSLIB}.tar \u0026\u0026     wget -q $URL_SAMTOOLS \u0026\u0026     bzip2 -d samtools-${VERSION_SAMTOOLS}.tar.bz2 \u0026\u0026     tar -xf samtools-${VERSION_SAMTOOLS}.tar \u0026\u0026     cd samtools-${VERSION_SAMTOOLS} \u0026\u0026     ./configure \u0026\u0026     make -j 4 \u0026\u0026     make install \u0026\u0026    cd .. \u0026\u0026     rm -rf ./samtools-${VERSION_SAMTOOLS} \u0026\u0026     rm -rf ./samtools-${VERSION_SAMTOOLS}.tar \u0026\u0026     perl -MCPAN -e 'my $c = \"CPAN::HandleConfig\"; $c-\u003eload(doit =\u003e 1, autoconfig =\u003e 1); $c-\u003eedit(prerequisites_policy =\u003e \"follow\"); $c-\u003eedit(build_requires_install_policy =\u003e \"yes\"); $c-\u003ecommit' \u0026\u0026     cpan App::cpanminus \u0026\u0026     cpanm GD::Graph \u0026\u0026     apt-get clean \u0026\u0026     apt-get purge \u0026\u0026     rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* /usr/share/doc/* \u0026\u0026     strip /usr/local/bin/*; true"
          ],
          "Name": "run",
          "PrependShell": true
        }
      ]
    }
  ]
}