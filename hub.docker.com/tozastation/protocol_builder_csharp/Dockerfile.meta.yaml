MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Name: workdir
    Path: /tmp
  - CmdLine:
    - apt-get -y update && apt-get -y install wget && apt-get install -y unzip
    Name: run
    PrependShell: true
  - CmdLine:
    - wget -q https://packages.microsoft.com/config/ubuntu/16.04/packages-microsoft-prod.deb
    Name: run
    PrependShell: true
  - CmdLine:
    - dpkg -i packages-microsoft-prod.deb
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install apt-transport-https
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y update && apt-get install -y dotnet-sdk-2.2
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install mono-devel
    Name: run
    PrependShell: true
  - CmdLine:
    - wget https://github.com/google/protobuf/releases/download/v3.2.0/protoc-3.2.0-linux-x86_64.zip
      &&     unzip protoc-3.2.0-linux-x86_64.zip -d protoc3
    Name: run
    PrependShell: true
  - CmdLine:
    - mv protoc3/bin/* /usr/local/bin/ && mv protoc3/include/* /usr/local/include/
      && rm -rf protoc3
    Name: run
    PrependShell: true
  - CmdLine:
    - dotnet new console -o grpc; cd grpc; dotnet add package Grpc.Tools --version
      1.19.0
    Name: run
    PrependShell: true
  - Env:
    - Key: GRPC_PLUGIN_PATH
      Value: /root/.nuget/packages/grpc.tools/1.19.0/tools/linux_x64/grpc_csharp_plugin
    Name: env
  - Env:
    - Key: CSHARP_OUT_PATH
      Value: /tmp/grpc/model/.
    Name: env
  - Env:
    - Key: GRPC_OUT_PATH
      Value: /tmp/grpc/logic/.
    Name: env
  - Env:
    - Key: PROTO_PATH
      Value: /tmp/grpc/idl/
    Name: env
  - CmdLine:
    - apt-get autoclean
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get autoremove
    Name: run
    PrependShell: true
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
