{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "ubuntu:16.04",
      "SourceCode": "FROM ubuntu:16.04",
      "Platform": "",
      "From": {
        "Image": "ubuntu:16.04"
      },
      "Commands": [
        {
          "Maintainer": "Tatsuhiro Tsujikawa",
          "Name": "maintainer"
        },
        {
          "Env": [
            {
              "Key": "HOST",
              "Value": "i686-w64-mingw32"
            }
          ],
          "Name": "env"
        },
        {
          "CmdLine": [
            "apt-get update \u0026\u0026     apt-get install -y         make binutils autoconf automake autotools-dev libtool         pkg-config git curl dpkg-dev gcc-mingw-w64         autopoint libcppunit-dev libxml2-dev libgcrypt11-dev lzip"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "curl -L -O https://gmplib.org/download/gmp/gmp-6.1.2.tar.lz \u0026\u0026     curl -L -O http://downloads.sourceforge.net/project/expat/expat/2.2.4/expat-2.2.4.tar.bz2 \u0026\u0026     curl -L -O https://www.sqlite.org/2017/sqlite-autoconf-3200100.tar.gz \u0026\u0026     curl -L -O http://zlib.net/zlib-1.2.11.tar.gz \u0026\u0026     curl -L -O https://c-ares.haxx.se/download/c-ares-1.13.0.tar.gz \u0026\u0026     curl -L -O http://libssh2.org/download/libssh2-1.8.0.tar.gz"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "tar xf gmp-6.1.2.tar.lz \u0026\u0026     cd gmp-6.1.2 \u0026\u0026     ./configure         --disable-shared         --enable-static         --prefix=/usr/local/$HOST         --host=$HOST         --disable-cxx         --enable-fat         CFLAGS=\"-mtune=generic -O2 -g0\" \u0026\u0026     make install"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "tar xf expat-2.2.4.tar.bz2 \u0026\u0026     cd expat-2.2.4 \u0026\u0026     ./configure         --disable-shared         --enable-static         --prefix=/usr/local/$HOST         --host=$HOST         --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE` \u0026\u0026     make install"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "tar xf sqlite-autoconf-3200100.tar.gz \u0026\u0026     cd sqlite-autoconf-3200100 \u0026\u0026     ./configure         --disable-shared         --enable-static         --prefix=/usr/local/$HOST         --host=$HOST         --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE` \u0026\u0026     make install"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "tar xf zlib-1.2.11.tar.gz \u0026\u0026     cd zlib-1.2.11 \u0026\u0026     CC=$HOST-gcc     AR=$HOST-ar     LD=$HOST-ld     RANLIB=$HOST-ranlib     STRIP=$HOST-strip     ./configure         --prefix=/usr/local/$HOST         --libdir=/usr/local/$HOST/lib         --includedir=/usr/local/$HOST/include         --static \u0026\u0026     make install"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "tar xf c-ares-1.13.0.tar.gz \u0026\u0026     cd c-ares-1.13.0 \u0026\u0026     ./configure         --disable-shared         --enable-static         --without-random         --prefix=/usr/local/$HOST         --host=$HOST         --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE`         LIBS=\"-lws2_32\" \u0026\u0026     make install"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "tar xf libssh2-1.8.0.tar.gz \u0026\u0026     cd libssh2-1.8.0 \u0026\u0026     ./configure         --disable-shared         --enable-static         --prefix=/usr/local/$HOST         --host=$HOST         --build=`dpkg-architecture -qDEB_BUILD_GNU_TYPE`         --without-openssl         --with-wincng         LIBS=\"-lws2_32\" \u0026\u0026     make install"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Chown": "",
          "Name": "add",
          "SourcesAndDest": [
            "https://api.github.com/repos/ilanyu/aria2/git/refs/heads/master",
            "version.json"
          ]
        },
        {
          "CmdLine": [
            "git clone https://github.com/ilanyu/aria2 \u0026\u0026     cd aria2 \u0026\u0026 autoreconf -i \u0026\u0026 ./mingw-config \u0026\u0026 make \u0026\u0026     $HOST-strip src/aria2c.exe"
          ],
          "Name": "run",
          "PrependShell": true
        }
      ]
    }
  ]
}