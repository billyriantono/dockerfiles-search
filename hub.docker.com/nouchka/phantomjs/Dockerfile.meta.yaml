MetaArgs: null
Stages:
- BaseName: debian:stable-slim
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"Jean-Avit Promis docker@katagena.com"'
    Name: label
  - Labels:
    - Key: org.label-schema.vcs-url
      Value: '"https://github.com/nouchka/docker-phantomjs"'
    Name: label
  - Labels:
    - Key: version
      Value: '"latest"'
    Name: label
  - CmdLine:
    - "apt-get update --fix-missing && \tapt-get update && \tapt-get install -y -q
      wget ca-certificates bzip2 libfontconfig unzip cron"
    Name: run
    PrependShell: true
  - Key: PHANTOMJS_VERSION
    Name: arg
    Value: 2.1.1
  - Key: PHANTOMJS_FILE_SHA256SUM
    Name: arg
    Value: 86dd9a4bf4aee45f1a84c9f61cf1947c1d6dce9b9e8d2a907105da7852460d2f
  - Name: shell
    Shell:
    - /bin/bash
    - -o
    - pipefail
    - -c
  - CmdLine:
    - "cd /tmp && \twget https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-${PHANTOMJS_VERSION}-linux-x86_64.tar.bz2
      -O phantomjs.tar.bz2 && \techo \"${PHANTOMJS_FILE_SHA256SUM}  /tmp/phantomjs.tar.bz2\"|
      sha256sum -c -  && \tmkdir -p /tmp/phantomjs && \ttar xf /tmp/phantomjs.tar.bz2
      --strip-components=1 -C /tmp/phantomjs && \tcp /tmp/phantomjs/bin/phantomjs
      /usr/local/bin/ && \tchmod +x /usr/local/bin/phantomjs"
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - loadspeed.js
    - /usr/local/share/loadspeed.js
  - CmdLine:
    - chmod 777 /usr/local/share/loadspeed.js
    Name: run
    PrependShell: true
  - CmdLine:
    - "apt-get purge --auto-remove -y wget bzip2 unzip && \tapt-get clean && \trm
      -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*"
    Name: run
    PrependShell: true
  - CmdLine:
    - export uid=1000 gid=1000 &&     mkdir -p /home/developer/workspace &&     echo
      "developer:x:${uid}:${gid}:Developer,,,:/home/developer:/bin/bash" >> /etc/passwd
      &&     echo "developer:x:${uid}:" >> /etc/group &&     chown ${uid}:${gid} -R
      /home/developer
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /home/developer/workspace
  - Name: user
    User: developer
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - start.sh
    - /start.sh
  - CmdLine:
    - phantomjs
    Name: entrypoint
    PrependShell: false
  From:
    Image: debian:stable-slim
  Name: ""
  Platform: ""
  SourceCode: FROM debian:stable-slim
