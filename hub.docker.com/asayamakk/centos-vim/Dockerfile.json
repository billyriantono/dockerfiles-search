{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "centos:7",
      "SourceCode": "FROM centos:7",
      "Platform": "",
      "From": {
        "Image": "centos:7"
      },
      "Commands": [
        {
          "CmdLine": [
            "yum update -y \u0026\u0026     yum groupinstall -x ctags -y \"Development Tools\" \u0026\u0026     yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm \u0026\u0026     yum install -y ncurses-devel lua-devel ruby-devel python-devel python36-devel.x86_64"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "mkdir -p /data/gitfiles \u0026\u0026     cd /data/gitfiles \u0026\u0026     git clone https://github.com/vim/vim.git \u0026\u0026     cd /data/gitfiles/vim \u0026\u0026      ./configure --with-features=huge                  --enable-fail-if-missing --enable-multibyte --enable-fontset                  --enable-rubyinterp --enable-pythoninterp --enable-python3interp --enable-luainterp                  --with-python3-command=/usr/bin/python3.6 \u0026\u0026     make \u0026\u0026 make install"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "curl -fLo ~/.vim/autoload/plug.vim --create-dirs     https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Key": "VIMRC_SOURCE_URL",
          "Name": "arg",
          "Value": "\"$VIMRC_SOURCE_URL\""
        },
        {
          "CmdLine": [
            "if [ -n \"$VIMRC_SOURCE_URL\" ]; then       curl $VIMRC_SOURCE_URL -o ~/.vimrc;     fi"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "yum install -y man wget curl tree grep openssl which"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "workdir",
          "Path": "/data/gitfiles"
        },
        {
          "CmdLine": [
            "git clone https://github.com/universal-ctags/ctags.git \u0026\u0026     cd ctags \u0026\u0026     ./autogen.sh \u0026\u0026 ./configure --enable-iconv \u0026\u0026     make \u0026\u0026 make install"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "tail",
            "-f",
            "/dev/null"
          ],
          "Name": "entrypoint",
          "PrependShell": false
        }
      ]
    }
  ]
}