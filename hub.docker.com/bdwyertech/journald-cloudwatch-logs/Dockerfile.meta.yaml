MetaArgs: null
Stages:
- BaseName: centos:7
  Commands:
  - Env:
    - Key: GIT_VERSION
      Value: tweaks
    Name: env
  - Maintainer: Brian Dwyer
    Name: maintainer
  - CmdLine:
    - "mkdir -p /go/bin && chmod -R 777 /go && cd /go \t\t&& yum -y update \t\t&&
      yum install -y centos-release-scl \t\t&& yum -y install git \t\t  openssl-devel
      systemd-devel   \t\tgo-toolset-7-golang \t\t&& yum clean all"
    Name: run
    PrependShell: true
  - Env:
    - Key: GOPATH
      Value: /go
    - Key: GOOS
      Value: linux
    - Key: BASH_ENV
      Value: /opt/rh/go-toolset-7/enable
    - Key: ENV
      Value: /opt/rh/go-toolset-7/enable
    - Key: PROMPT_COMMAND
      Value: '". /opt/rh/go-toolset-7/enable"'
    Name: env
  - Name: workdir
    Path: /go/src
  - CmdLine:
    - "git clone -b ${GIT_VERSION} https://github.com/bdwyertech/journald-cloudwatch-logs
      \t\t&& cd journald-cloudwatch-logs \t\t&& . /opt/rh/go-toolset-7/enable \t\t&&
      go get \t\t&& go build"
    Name: run
    PrependShell: true
  From:
    Image: centos:7
  Name: ""
  Platform: ""
  SourceCode: FROM centos:7
- BaseName: centos:7
  Commands:
  - Chown: ""
    From: "0"
    Name: copy
    SourcesAndDest:
    - /go/src/journald-cloudwatch-logs/journald-cloudwatch-logs
    - /usr/bin/
  From:
    Image: centos:7
  Name: ""
  Platform: ""
  SourceCode: FROM centos:7
