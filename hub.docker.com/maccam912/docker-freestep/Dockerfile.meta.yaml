MetaArgs: null
Stages:
- BaseName: ubuntu
  Commands:
  - Maintainer: Matt Koski <maccam912@gmail.com>
    Name: maintainer
  - CmdLine:
    - apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 7F0CEB10
    Name: run
    PrependShell: true
  - CmdLine:
    - echo 'deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen'
      | tee /etc/apt/sources.list.d/mongodb.list
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get upgrade -y
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install git python build-essential wget screen tmux curl vim mongodb-org
      -y
    Name: run
    PrependShell: true
  - CmdLine:
    - sudo service mongod start
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /data
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /data/db
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /Development
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /Development && git clone git://github.com/joyent/node
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /Development/node && ./configure && make && make install
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -rf /Development/node
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod 777 -R /Development
    Name: run
    PrependShell: true
  - CmdLine:
    - npm install -g bower grunt-cli
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /Development && git clone https://github.com/maccam912/FreeStep.git
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /Development/FreeStep/ssl/
    Name: run
    PrependShell: true
  - CmdLine:
    - openssl genrsa -out /Development/FreeStep/ssl/server.key 1024
    Name: run
    PrependShell: true
  - CmdLine:
    - openssl req -new -key /Development/FreeStep/ssl/server.key -out /Development/FreeStep/ssl/freestep_net.csr
      -subj "/C=US/ST=WI/L=Wausau/O=freestep/OU=IT Department/CN=libertymutual.pw"
    Name: run
    PrependShell: true
  - CmdLine:
    - yes . | openssl x509 -req -days 365 -in /Development/FreeStep/ssl/freestep_net.csr
      -signkey /Development/FreeStep/ssl/server.key -out /Development/FreeStep/ssl/freestep_net.crt
    Name: run
    PrependShell: true
  - CmdLine:
    - cat Development/FreeStep/ssl/freestep_net.crt > /Development/FreeStep/ssl/COMODO.ca-bundle
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /Development/FreeStep && npm install
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /Development/FreeStep && bower --allow-root install
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /Development/FreeStep
    - sudo npm start
    Name: cmd
    PrependShell: false
  - Name: expose
    Ports:
    - 80:80
  - Name: expose
    Ports:
    - 443:443
  - Name: expose
    Ports:
    - 3000:3000
  From:
    Image: ubuntu
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu
