MetaArgs: null
Stages:
- BaseName: docker.io/centos:centos7
  Commands:
  - Maintainer: Leo Gao <aoingl@gmail.com>
    Name: maintainer
  - CmdLine:
    - yum install -y epel-release psmisc gcc gcc-c++ net-tools wget curl jq python
      java-1.8.0-openjdk-devel maven git vim passwd less tree util-linux binutils
      unzip tar xz-utils gzip git-svn python2-pip golang golang-src golang-bin make
      sudo iproute yum-langpacks
    Name: run
    PrependShell: true
  - CmdLine:
    - curl --silent --location https://rpm.nodesource.com/setup_11.x | bash -
    Name: run
    PrependShell: true
  - CmdLine:
    - yum -y install nodejs
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /workspace && chmod -R 777 /workspace
    Name: run
    PrependShell: true
  - CmdLine:
    - yum langinstall -y zh_CN
    Name: run
    PrependShell: true
  - CmdLine:
    - sed -i "s/override_install_langs=/#override_install_langs=/" /etc/yum.conf
    Name: run
    PrependShell: true
  - CmdLine:
    - yum reinstall -y glibc-common
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "root:root!" |chpasswd
    Name: run
    PrependShell: true
  - CmdLine:
    - groupadd -g 1000 lgao && useradd -u 1000 -g 1000 lgao && echo "lgao:lgao" |
      chpasswd
    Name: run
    PrependShell: true
  - Name: user
    User: lgao
  - Name: workdir
    Path: /home/lgao
  - CmdLine:
    - curl -s -L https://github.com/gaol/ninja/raw/master/install.sh | bash
    Name: run
    PrependShell: true
  From:
    Image: docker.io/centos:centos7
  Name: ""
  Platform: ""
  SourceCode: FROM docker.io/centos:centos7
