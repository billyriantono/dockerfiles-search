MetaArgs: null
Stages:
- BaseName: ubuntu:18.04
  Commands:
  - Labels:
    - Key: Description
      Value: '"Stanford NLP"'
    - Key: Vendor
      Value: '"N/A"'
    - Key: Version
      Value: '"0.1.0"'
    Name: label
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y software-properties-common
    Name: run
    PrependShell: true
  - CmdLine:
    - add-apt-repository ppa:webupd8team/java
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y openjdk-8-jre &&     apt-get install -y p7zip-full &&     apt-get
      install -y --no-install-recommends sudo curl ca-certificates byobu  &&     apt-get
      install -y --no-install-recommends nano                         wget ufw net-tools
      iptables unattended-upgrades netcat &&     rm -rf /var/lib/apt/lists/* && apt-get
      autoremove
    Name: run
    PrependShell: true
  - CmdLine:
    - echo 'APT::Periodic::Update-Package-Lists "1";' >> /etc/apt/apt.conf.d/10periodic  &&     echo
      'APT::Periodic::Download-Upgradeable-Packages "1";' >> /etc/apt/apt.conf.d/10periodic
      &&     echo 'APT::Periodic::AutocleanInterval "7";' >> /etc/apt/apt.conf.d/10periodic  &&     echo
      'APT::Periodic::Unattended-Upgrade "1";' >> /etc/apt/apt.conf.d/10periodic
    Name: run
    PrependShell: true
  - Env:
    - Key: LC_ALL
      Value: C.UTF-8
    Name: env
  - Env:
    - Key: LANG
      Value: C.UTF-8
    Name: env
  - Env:
    - Key: HISTFILESIZE
      Value: "1500"
    Name: env
  - Env:
    - Key: HISTSIZE
      Value: "1500"
    Name: env
  - CmdLine:
    - useradd -ms /bin/bash stanford_nlp
    Name: run
    PrependShell: true
  - CmdLine:
    - adduser stanford_nlp sudo
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "stanford_nlp ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
    Name: run
    PrependShell: true
  - Name: user
    User: stanford_nlp
  - CmdLine:
    - /bin/bash
    Name: cmd
    PrependShell: false
  - Name: workdir
    Path: /home/stanford_nlp
  - Env:
    - Key: HOME
      Value: /home/stanford_nlp
    Name: env
  - CmdLine:
    - wget https://nlp.stanford.edu/software/stanford-corenlp-full-2017-06-09.zip
      &&     7z x stanford-corenlp-full-2017-06-09.zip
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /home/stanford_nlp/stanford-corenlp-full-2017-06-09/
  - CmdLine:
    - wget https://nlp.stanford.edu/software/stanford-english-corenlp-2017-06-09-models.jar
      &&       wget https://nlp.stanford.edu/software/stanford-english-kbp-corenlp-2017-06-09-models.jar
    Name: run
    PrependShell: true
  - CmdLine:
    - wget https://nlp.stanford.edu/software/stanford-arabic-corenlp-2017-06-09-models.jar
      &&      wget https://nlp.stanford.edu/software/stanford-chinese-corenlp-2017-06-09-models.jar
    Name: run
    PrependShell: true
  - CmdLine:
    - wget https://nlp.stanford.edu/software/stanford-german-corenlp-2017-06-09-models.jar
      &&      wget https://nlp.stanford.edu/software/stanford-spanish-corenlp-2017-06-09-models.jar
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /home/stanford_nlp
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - start_nlp.sh
    - /home/stanford_nlp/app/
  - Name: workdir
    Path: /home/stanford_nlp/app
  - CmdLine:
    - sudo chown stanford_nlp:stanford_nlp start_nlp.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - sudo chmod u+x start_nlp.sh
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - idle.sh
    - /home/stanford_nlp/app/
  - CmdLine:
    - sudo chown stanford_nlp:stanford_nlp idle.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - sudo chmod u+x idle.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - ./start_nlp.sh && ./idle.sh
    Name: entrypoint
    PrependShell: true
  - Name: expose
    Ports:
    - "9000"
  From:
    Image: ubuntu:18.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:18.04
