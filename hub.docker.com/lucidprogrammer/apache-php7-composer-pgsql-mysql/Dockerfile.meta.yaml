MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: Lucid Programmer<lucidprogrammer@hotmail.com>
    Name: maintainer
  - Env:
    - Key: PATH
      Value: $PATH:/root/.composer/vendor/bin
    Name: env
  - Env:
    - Key: DOCUMENT_ROOT
      Value: /var/www/html
    Name: env
  - Env:
    - Key: PORT
      Value: "80"
    Name: env
  - CmdLine:
    - apt-get update &&     apt-get dist-upgrade -y &&     apt-get install -y       apache2       mcrypt       php7.0       php7.0-cli       libapache2-mod-php7.0       php7.0-gd       php7.0-json       php7.0-ldap       php7.0-mbstring       php7.0-mysql       php7.0-pgsql       php7.0-xml       php7.0-xsl       php7.0-zip       php7.0-curl       php7.0-mcrypt
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y curl
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -sS https://getcomposer.org/installer | php     && mv composer.phar /usr/local/bin/composer.phar
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - apache2.conf
    - /etc/apache2/apache2.conf
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - composer
    - /usr/local/bin/composer
  - CmdLine:
    - chmod +x /usr/local/bin/composer
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /var/www/html
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - run
    - /usr/local/bin/run
  - CmdLine:
    - chmod +x /usr/local/bin/run
    Name: run
    PrependShell: true
  - CmdLine:
    - a2enmod rewrite
    Name: run
    PrependShell: true
  - CmdLine:
    - /usr/local/bin/run
    Name: cmd
    PrependShell: false
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
