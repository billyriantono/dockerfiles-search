MetaArgs: null
Stages:
- BaseName: phusion/baseimage:0.9.18
  Commands:
  - Maintainer: LeisureLink Tech <techteam@leisurelink.com>
    Name: maintainer
  - Env:
    - Key: NODE_VERSION
      Value: 4.4.5
    Name: env
  - Env:
    - Key: HOME
      Value: /root
    Name: env
  - Env:
    - Key: APP_DIR
      Value: /home/rcapp
    Name: env
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://nodejs.org/dist/v${NODE_VERSION}/node-v${NODE_VERSION}-linux-x64.tar.gz
    - /tmp/node-v${NODE_VERSION}-linux-x64.tar.gz
  - CmdLine:
    - set -ex &&   cd /tmp &&   tar -xzf /tmp/node-v${NODE_VERSION}-linux-x64.tar.gz
      -C /usr/local --strip-components=1 &&   apt-get clean &&   rm -rf /var/lib/apt/lists/*          /var/tmp/*          /tmp/*
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install git
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install idle
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install build-essential
    Name: run
    PrependShell: true
  - CmdLine:
    - groupadd -r rcapp && useradd -r -g rcapp rcapp
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - .
    - ${APP_DIR}
  - Name: workdir
    Path: ${APP_DIR}
  - CmdLine:
    - chown -R 9999 /${APP_DIR}
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "1337"
  - CmdLine:
    - npm install
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get clean && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*
    Name: run
    PrependShell: true
  - CmdLine:
    - npm
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - run
    - start
    Name: cmd
    PrependShell: false
  From:
    Image: phusion/baseimage:0.9.18
  Name: ""
  Platform: ""
  SourceCode: FROM phusion/baseimage:0.9.18
