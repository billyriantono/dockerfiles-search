MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: Jiang Ying <jy0000@gmail.com>
    Name: maintainer
  - Name: user
    User: root
  - Env:
    - Key: TITAN_VERSION
      Value: 6.3.1
    - Key: TTCN3_DIR
      Value: /usr/local/titan
    - Key: LOCAL_SRC
      Value: /usr/local/src
    Name: env
  - Env:
    - Key: PATH
      Value: ${TTCN3_DIR}/bin:${PATH}
    - Key: LD_LIBRARY_PATH
      Value: ${TTCN3_DIR}/lib:${LD_LIBRARY_PATH}
    - Key: TTCN3_SRC
      Value: ${LOCAL_SRC}/titan.core
    Name: env
  - Name: workdir
    Path: ${LOCAL_SRC}
  - CmdLine:
    - apt-get clean &&   apt-get update &&   apt-get -y install git &&   mkdir -p
      /usr/local/titan &&   apt-get -y install g++ expect libssl-dev libxml2-dev libncurses5-dev
      flex bison make &&   apt-get -y install xutils-dev &&   git clone https://github.com/eclipse/titan.core
      titan.core &&   cd titan.core &&   git checkout ${TITAN_VERSION} &&   cd ..
      &&   apt-get -y remove git &&   apt-get clean
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - Makefile.personal
    - ${TTCN3_SRC}/
  - Name: workdir
    Path: ${TTCN3_SRC}
  - CmdLine:
    - make &&   make install &&   rm -rf ${TTCN3_SRC}
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /
  - CmdLine:
    - echo "***************************************" &&     echo "** This is a demo
      built in Titan     **" &&     echo "** 4 pass, 1 inconc, 3 fail expected **"
      &&     echo "***************************************" &&     cd ${TTCN3_DIR}/demo
      &&     ttcn3_start MyExample &&     echo "***************************************"
      &&     echo "** end of demo                       **" &&     echo "***************************************"
    Name: cmd
    PrependShell: true
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
