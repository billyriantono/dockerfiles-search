MetaArgs: null
Stages:
- BaseName: mcr.microsoft.com/powershell:alpine-3.8
  Commands:
  - CmdLine:
    - apk add --no-cache     ca-certificates     krb5-libs     libgcc     libintl     libssl1.0     libstdc++     zlib     unzip     &&
      rm -rf /tmp/*     && rm -fr /var/cache/apk/*
    Name: run
    PrependShell: true
  - Env:
    - Key: ASPNETCORE_URLS
      Value: http://+:80
    - Key: DOTNET_RUNNING_IN_CONTAINER
      Value: "true"
    - Key: DOTNET_SYSTEM_GLOBALIZATION_INVARIANT
      Value: "true"
    - Key: DOTNET_VERSION
      Value: 3.0.0
    Name: env
  - CmdLine:
    - wget -O dotnet.tar.gz https://dotnetcli.blob.core.windows.net/dotnet/Runtime/$DOTNET_VERSION/dotnet-runtime-$DOTNET_VERSION-linux-musl-x64.tar.gz     &&
      dotnet_sha512='a7382fbfabbfe859a66151760f199799d093a88c50a6f2fd97f31a7d6d688d9978526b9637c5e10b95a3155f76d5032cc7f054bb168915eeacf0dd759ada8b54'     &&
      echo "$dotnet_sha512  dotnet.tar.gz" | sha512sum -c -     && mkdir -p /usr/share/dotnet     &&
      tar -C /usr/share/dotnet -xzf dotnet.tar.gz     && ln -s /usr/share/dotnet/dotnet
      /usr/bin/dotnet     && rm dotnet.tar.gz
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /root
  - CmdLine:
    - /usr/bin/pwsh -c Set-PSRepository -Name PSGallery -InstallationPolicy Trusted
    Name: run
    PrependShell: true
  - CmdLine:
    - /usr/bin/pwsh -c Install-Module VMware.PowerCLI,PowerNSX,PowervRA
    Name: run
    PrependShell: true
  - CmdLine:
    - wget -O ./PowerCLI-Example-Scripts.zip https://github.com/vmware/PowerCLI-Example-Scripts/archive/master.zip
      &&     unzip PowerCLI-Example-Scripts.zip &&     rm -f PowerCLI-Example-Scripts.zip
      &&     mv ./PowerCLI-Example-Scripts-master ./PowerCLI-Example-Scripts &&     mv
      ./PowerCLI-Example-Scripts/Modules/* /opt/microsoft/powershell/6/Modules/
    Name: run
    PrependShell: true
  From:
    Image: mcr.microsoft.com/powershell:alpine-3.8
  Name: ""
  Platform: ""
  SourceCode: FROM mcr.microsoft.com/powershell:alpine-3.8
