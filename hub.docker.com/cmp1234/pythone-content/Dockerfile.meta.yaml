MetaArgs: null
Stages:
- BaseName: alpine:3.7
  Commands:
  - Labels:
    - Key: title
      Value: '"openkore"'
    - Key: maintainer
      Value: '"Carlos Mil치n Figueredo"'
    - Key: version
      Value: '"1.1"'
    - Key: url1
      Value: '"https://calnus.com"'
    - Key: url2
      Value: '"http://www.hispamsx.org"'
    - Key: bbs
      Value: '"telnet://bbs.hispamsx.org"'
    - Key: twitter
      Value: '"@cmilanf"'
    - Key: thanksto1
      Value: '"Beatriz Sebasti치n Pe침a"'
    - Key: thanksto2
      Value: '"Alberto Marcos Gonz치lez"'
    Name: label
  - Labels:
    - Key: OK_IP
      Value: '"IP address of the Ragnarok Online server"'
    - Key: OK_USERNAME
      Value: '"Account username"'
    - Key: OK_PWD
      Value: '"Account password"'
    - Key: OK_CHAR
      Value: '"Character slot. Default: 1"'
    - Key: OK_USERNAMEMAXSUFFIX
      Value: '"Maximum number of suffixes to generate with the username."'
    - Key: OK_FOLLOW_USERNAME1
      Value: '"Name of the username to follow with 20% probability"'
    - Key: OK_FOLLOW_USERNAME2
      Value: '"Name of a second username to follow with 20% probability"'
    - Key: OK_KILLSTEAL
      Value: '"It is ok that the bot attacks monster that are already being attacked
        by other players."'
    - Key: MYSQL_HOST
      Value: '"Hostname of the MySQL database. Ex: calnus-beta.mysql.database.azure.com."'
    - Key: MYSQL_DB
      Value: '"Name of the MySQL database."'
    - Key: MYSQL_USER
      Value: '"Database username for authentication."'
    - Key: MYSQL_PWD
      Value: '"Password for authenticating with database. WARNING: it will be visible
        from Azure Portal."'
    Name: label
  - CmdLine:
    - mkdir -p /opt/openkore   && apk update   && apk add --no-cache git build-base
      g++ perl perl-dev perl-time-hires perl-compress-raw-zlib readline readline-dev
      ncurses-libs ncurses-terminfo-base ncurses-dev python2 curl curl-dev nano dos2unix
      mysql-client bind-tools   && git clone https://github.com/openkore/openkore.git
      /opt/openkore   && ln -s /usr/lib/libncurses.so /usr/lib/libtermcap.so   &&
      ln -s /usr/lib/libncurses.a /usr/lib/libtermcap.a   && cd /opt/openkore/   &&
      make   && mv /opt/openkore/tables/servers.txt /opt/openkore/tables/servers.txt.bak   &&
      mkdir /opt/openkore/control/class/
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - recvpackets.txt
    - /opt/openkore/tables/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - servers.txt
    - /opt/openkore/tables/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - docker-entrypoint.sh
    - /usr/local/bin/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/acolyte.txt
    - /opt/openkore/control/class/acolyte.txt
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/archer.txt
    - /opt/openkore/control/class/archer.txt
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/knight.txt
    - /opt/openkore/control/class/knight.txt
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/mage.txt
    - /opt/openkore/control/class/mage.txt
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/monk.txt
    - /opt/openkore/control/class/monk.txt
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/priest.txt
    - /opt/openkore/control/class/priest.txt
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/sage.txt
    - /opt/openkore/control/class/sage.txt
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/swordman.txt
    - /opt/openkore/control/class/swordman.txt
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - config/wizard.txt
    - /opt/openkore/control/class/wizard.txt
  - CmdLine:
    - /usr/local/bin/docker-entrypoint.sh
    Name: entrypoint
    PrependShell: false
  - Name: workdir
    Path: /opt/openkore
  - CmdLine:
    - /opt/openkore/openkore.pl
    Name: cmd
    PrependShell: false
  From:
    Image: alpine:3.7
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.7
