MetaArgs: null
Stages:
- BaseName: node:latest
  Commands:
  - Maintainer: Jan Pokorny
    Name: maintainer
  - Env:
    - Key: PATH
      Value: $PATH:node_modules/.bin
    Name: env
  - CmdLine:
    - "DEBIAN_FRONTEND=noninteractive apt-get update -q && \tapt-get install -qy --no-install-recommends
      sudo default-jdk"
    Name: run
    PrependShell: true
  - Env:
    - Key: ANDROID_SDK_FILE
      Value: android-sdk_r24.0.1-linux.tgz
    Name: env
  - Env:
    - Key: ANDROID_SDK_URL
      Value: http://dl.google.com/android/$ANDROID_SDK_FILE
    Name: env
  - CmdLine:
    - dpkg --add-architecture i386 &&     apt-get update -q &&     apt-get install
      -qy --no-install-recommends libstdc++6:i386 libgcc1:i386 zlib1g:i386 libncurses5:i386
    Name: run
    PrependShell: true
  - Env:
    - Key: ANDROID_HOME
      Value: /usr/local/android-sdk-linux
    Name: env
  - CmdLine:
    - cd /usr/local &&     wget $ANDROID_SDK_URL &&     tar -xzf $ANDROID_SDK_FILE
      &&     export PATH=$PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools &&     chgrp
      -R users $ANDROID_HOME &&     chmod -R 0775 $ANDROID_HOME &&     rm $ANDROID_SDK_FILE
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: $PATH:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools:$ANDROID_HOME/build-tools/23.0.1
    Name: env
  - CmdLine:
    - apt-get install expect -y --force-yes
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - tools
    - /opt/tools
  - CmdLine:
    - /opt/tools/android-accept-licenses.sh
    - android update sdk --all --no-ui --filter platform-tools,android-23,build-tools-23.0.1,extra-android-support,extra-android-m2repository,sys-img-x86_64-android-23,extra-google-m2repository
    Name: run
    PrependShell: false
  - CmdLine:
    - npm install -g n
    Name: run
    PrependShell: true
  - CmdLine:
    - n stable
    Name: run
    PrependShell: true
  - CmdLine:
    - npm install -g react-native-cli
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get clean &&     rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* &&     npm
      cache clear
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "8081"
  - Env:
    - Key: USERNAME
      Value: dev
    Name: env
  - CmdLine:
    - 'adduser --disabled-password --gecos '''' $USERNAME &&     echo $USERNAME:$USERNAME
      | chpasswd &&     echo "%sudo ALL=(ALL) NOPASSWD: ALL" >> /etc/sudoers &&     adduser
      $USERNAME sudo'
    Name: run
    PrependShell: true
  - Env:
    - Key: GRADLE_USER_HOME
      Value: /home/$USERNAME/app/android/gradle_deps
    Name: env
  - Name: user
    User: $USERNAME
  - Name: workdir
    Path: /home/$USERNAME/app
  From:
    Image: node:latest
  Name: ""
  Platform: ""
  SourceCode: FROM node:latest
