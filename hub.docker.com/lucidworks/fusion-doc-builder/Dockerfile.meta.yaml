MetaArgs: null
Stages:
- BaseName: ruby:2.3
  Commands:
  - Maintainer: Martijn Koster "martijn.koster@lucidworks.com"
    Name: maintainer
  - Env:
    - Key: PHANTOMJS_VERSION
      Value: 1.9.8
    Name: env
  - CmdLine:
    - export DEBIAN_FRONTEND=noninteractive TERM=linux &&   echo 'debconf debconf/frontend
      select Noninteractive' | debconf-set-selections &&   apt-get update &&   apt-get
      -y install ant git openssh-server   build-essential libxml2-dev libxslt1-dev
      python-dev python-pip   libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev   curl
      netcat-openbsd net-tools procps lsof &&   sed -i 's|session    required     pam_loginuid.so|session    optional     pam_loginuid.so|g'
      /etc/pam.d/sshd &&   mkdir -p /var/run/sshd &&   adduser --quiet --gecos ""
      --disabled-password jenkins &&   (echo "jenkins:jenkins" | chpasswd)  &&   pip
      install virtualenv &&   pip install awscli &&   apt-get -y install vim
    Name: run
    PrependShell: true
  - CmdLine:
    - export DEBIAN_FRONTEND=noninteractive TERM=linux &&   apt-get -y install locales
      &&   sed -i.bak -e 's/# en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/' /etc/locale.gen
      &&   locale-gen &&   update-locale LC_ALL="en_US.UTF-8" &&   export LANGUAGE=en_US:en
      &&   export LANG=en_US.UTF-8 &&   export LC_ALL=en_US.UTF-8 &&   dpkg-reconfigure
      locales
    Name: run
    PrependShell: true
  - CmdLine:
    - export DEBIAN_FRONTEND=noninteractive TERM=linux &&   apt-get install libyaml-dev
      &&   pip install pyyaml bs4 linkchecker &&   apt-get -y install ruby ruby-dev
      nodejs &&   gem install asciidoctor:1.5.6.1 jekyll:3.7.2 jekyll-asciidoc:2.0.1
      &&   gem install asciidoctor-pdf --version 1.5.0.alpha.15 &&   gem install jekyll-toc:0.3.0.pre1
      &&   gem install coderay pygments.rb
    Name: run
    PrependShell: true
  - CmdLine:
    - export DEBIAN_FRONTEND=noninteractive TERM=linux &&   curl -sSL https://github.com/jgm/pandoc/releases/download/1.17.2/pandoc-1.17.2-1-amd64.deb
      -o/tmp/pandoc.deb &&   dpkg -i /tmp/pandoc.deb &&   rm -f /tmp/pandoc.deb
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -L https://nodejs.org/dist/v8.8.0/node-v8.8.0-linux-x64.tar.xz -o /tmp/node.tar.xz
      &&   tar -C /usr/local --extract --strip-components 1 --file /tmp/node.tar.xz
      &&   rm /tmp/node.tar.xz
    Name: run
    PrependShell: true
  - CmdLine:
    - npm install -g gulp && npm link gulp && gulp --version
    Name: run
    PrependShell: true
  - Env:
    - Key: LANGUAGE
      Value: en_US:en
    Name: env
  - Env:
    - Key: LANG
      Value: en_US.UTF-8
    Name: env
  - Env:
    - Key: LC_ALL
      Value: en_US.UTF-8
    Name: env
  - Name: expose
    Ports:
    - "22"
    - "4000"
    - "8764"
  - CmdLine:
    - /usr/sbin/sshd
    - -D
    Name: cmd
    PrependShell: false
  From:
    Image: ruby:2.3
  Name: ""
  Platform: ""
  SourceCode: FROM ruby:2.3
