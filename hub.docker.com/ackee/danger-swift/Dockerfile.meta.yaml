MetaArgs: null
Stages:
- BaseName: swift:4.2
  Commands:
  - Key: SWIFT_LINT_VERSION
    Name: arg
    Value: 0.32.0
  - Key: DANGER_SWIFT_VERSION
    Name: arg
    Value: 2.0.6
  - CmdLine:
    - apt-get update && apt-get install -y curl
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -sL https://deb.nodesource.com/setup_10.x |  bash - &&   apt-get install
      -y nodejs &&   npm install -g yarn &&   npm install -g danger
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone -b $SWIFT_LINT_VERSION --single-branch --depth 1 https://github.com/realm/SwiftLint.git
      SwiftLint &&   cd SwiftLint && git submodule update --init --recursive; make
      install
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone -b $DANGER_SWIFT_VERSION --single-branch --depth 1 https://github.com/danger/danger-swift
      danger-swift &&   cd danger-swift && make install
    Name: run
    PrependShell: true
  - CmdLine:
    - danger-swift
    - ci
    - --failOnErrors
    Name: entrypoint
    PrependShell: false
  From:
    Image: swift:4.2
  Name: ""
  Platform: ""
  SourceCode: FROM swift:4.2
