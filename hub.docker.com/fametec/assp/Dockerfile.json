{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "debian:9",
      "SourceCode": "FROM debian:9",
      "Platform": "",
      "From": {
        "Image": "debian:9"
      },
      "Commands": [
        {
          "Maintainer": "eduardo@fametec.com.br",
          "Name": "maintainer"
        },
        {
          "CmdLine": [
            "apt-get -y update"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "apt-get -y install zip \tgzip \tzip \tunzip \tperl \topenssl \tmake \tgcc \tlibnet-ssleay-perl \tlibnet-smtp-ssl-perl \tlibio-socket-ssl-perl \tlibnet-http-perl \tlibnet-dns-perl \tliblwp-protocol-https-perl \tlibencode-detect-perl \tlibmail-dkim-perl \tlibcompress-raw-zlib-perl \tdb5.3-util \tlibberkeleydb-perl \tmariadb-client"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install App::cpanminus'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install App::cpanoutdated'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Encode::Detect'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Time::ParseDate'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Time::CTime'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Time::DaysInMonth'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Time::JulianDay'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Time::Timezone'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Number::Compare'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Wrap'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Convert::TNEF'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Digest::MD5'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Digest::SHA1'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Email::Send'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Email::MIME'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Email::Valid'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Email::Outlook::Message'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install File::ReadBackwards'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install File::Scan::ClamAV'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install LWP::Simple'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install MIME::Types'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Mail::DKIM::Verifier'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Mail::DKIM'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install NetAddr::IP'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::IP'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Mail::SPF'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Mail::SPF::Query'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Mail::SRS'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::CIDR::Lite'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::DNS'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::IP::Match::Regexp'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::LDAP'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::SMTP'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::SenderBase'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::Syslog'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install PerlIO::scalar'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install threads::shared'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Thread::Queue'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Thread::State'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Tie::DBI'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Schedule::Cron'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Sys::MemInfo'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Sys::CpuAffinity'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Socket::SSL'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install BerkeleyDB'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Crypt::CBC'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Crypt::OpenSSL::AES'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Crypt::GOST'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Authen::SASL'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Devel::Peek'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Devel::InnerPackage'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Convert::Scalar'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Net::SMTP::SSL'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Socket6'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Socket::INET6'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Socket::IP'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Lingua::Stem::Snowball'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Lingua::Identify'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Lingua::StopWords'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Lingua::Stem'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Lingua::Stem::Patch'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install MIME::Charset'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Crypt::SMIME'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Unicode::LineBreak'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Text::Unidecode'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Regexp::Optimizer'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install OLE::Storage_Lite'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Compress::Gzip'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Compress::Bzip2'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IPC::Run'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Archive::Rar'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Archive::Extract'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install File::Type'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Compress::Base'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Compress::Deflate'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Compress::Lzma'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Compress::RawDeflate'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Compress::Xz'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install IO::Compress::Zip'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install DBD::File'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install DBD::LDAP'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install DBD::ODBC'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install DBD::PgPP'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install DBD::Sprite'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install DBD::mysql'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Razor2::Client::Agent'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install HTML::Strip'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install HTML::TreeBuilder'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install XML::RSS'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Alien::Libarchive'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Archive::Libarchive::XS'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Sys::Syslog'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "perl -MCPAN -e 'install Filesys::Df'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Chown": "",
          "From": "",
          "Name": "copy",
          "SourcesAndDest": [
            "assp.mod.zip",
            "ASSP_2.6.3_19169_install.zip",
            "/tmp/"
          ]
        },
        {
          "CmdLine": [
            "mkdir -p /var/db \u0026\u0026 \tmkdir -p /var/db/assp/tmpDB/files \u0026\u0026 \tcd /var/db \u0026\u0026 \tunzip /tmp/ASSP_2.6.3_19169_install.zip \u0026\u0026 \tmv assp/assp.cfg.rename_on_new_install assp/assp.cfg \u0026\u0026 \tcd /var/db/assp/ \u0026\u0026 \tunzip /tmp/assp.mod.zip"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "cd /var/db/assp/assp.mod/install \u0026\u0026 \tperl mod_inst.pl"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Chown": "",
          "Name": "add",
          "SourcesAndDest": [
            "assp.cfg",
            "/var/db/assp/"
          ]
        },
        {
          "CmdLine": [
            "chown -R nobody:nogroup /var/db/assp"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "volume",
          "Volumes": [
            "/var/db/assp"
          ]
        },
        {
          "Name": "expose",
          "Ports": [
            "25/tcp",
            "2525/tcp",
            "465/tcp",
            "55555/tcp",
            "587/tcp"
          ]
        },
        {
          "CmdLine": [
            "perl",
            "/var/db/assp/assp.pl",
            "/var/db/assp"
          ],
          "Name": "cmd",
          "PrependShell": false
        },
        {
          "CmdLine": [
            "apt-get -y clean \u0026\u0026 \trm -rf $HOME/.cpan \u0026\u0026 \trm -rf /tmp/assp.mod.zip \u0026\u0026 \trm -rf /tmp/ASSP_*_install.zip"
          ],
          "Name": "run",
          "PrependShell": true
        }
      ]
    }
  ]
}