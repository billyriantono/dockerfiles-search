MetaArgs: null
Stages:
- As: buildstage
  BaseName: maven
  Commands:
  - CmdLine:
    - git clone https://github.com/mysinmyc/java-playground.git
    Name: run
    PrependShell: true
  - CmdLine:
    - cd java-playground/spring-mongodb-rest &&  mvn package
    Name: run
    PrependShell: true
  From:
    Image: maven
  Name: buildstage
  Platform: ""
  SourceCode: FROM maven as buildStage
- BaseName: openjdk:10-jre-slim
  Commands:
  - Chown: ""
    From: buildStage
    Name: copy
    SourcesAndDest:
    - /java-playground/spring-mongodb-rest/target/spring-mongodb-rest*.jar
    - /
  - Name: expose
    Ports:
    - "8080"
  - Env:
    - Key: SPRING_PROFILES_ACTIVE
      Value: mongoremote
    Name: env
  - Env:
    - Key: MONGO_URI
      Value: mongodb://mongodb/test
    Name: env
  - CmdLine:
    - sh
    - -c
    - java -jar /spring-mongodb-rest*.jar
    Name: cmd
    PrependShell: false
  From:
    Image: openjdk:10-jre-slim
  Name: ""
  Platform: ""
  SourceCode: FROM openjdk:10-jre-slim
