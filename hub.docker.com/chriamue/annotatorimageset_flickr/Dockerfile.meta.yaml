MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: chriamue@gmail.com
    Name: maintainer
  - CmdLine:
    - "apt-get update && apt-get install -y build-essential clang git cmake \tqt5-default
      qttools5-dev qttools5-dev-tools libboost-system-dev libboost-filesystem-dev
      \tlibopencv-dev libpoco-dev libpocomysql* libpocosqlite* libpoconet* libpocoxml*
      \tlibmysqlclient-dev libsqlite3-dev openssl libssl-dev xvfb"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /tmp && git clone https://github.com/opencv/opencv     && cd /tmp/opencv
      && mkdir -p build && cd build \t&& cmake -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=RELEASE
      -DWITH_FFMPEG=OFF -DWITH_IPP=OFF .. \t&& make -j3 && make install && ldconfig
      && rm -rf /tmp/opencv"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /tmp && git clone https://github.com/davisking/dlib.git \t&& cd /tmp/dlib
      && mkdir -p build && cd build && cmake -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=Release
      .. \t&& make -j3 && make install && ldconfig && rm -rf /tmp/dlib"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /tmp && git clone  https://github.com/pocoproject/poco \t&& sed -i 's#mysqlclient_r#mysqlclient
      mysqlclient_r#g' poco/cmake/FindMySQL.cmake \t&& cd /tmp/poco && mkdir -p build
      && cd build && cmake -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_BUILD_TYPE=Release
      .. \t&& make -j3 && make install && ldconfig && rm -rf /tmp/poco"
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /workspace && cd /workspace && git clone https://github.com/annotatorproject/annotatorlib
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /workspace/annotatorlib && mkdir build && cd build     && cmake -DCMAKE_CXX_COMPILER=clang++
      -DBUILD_SHARED_LIBS=ON -DCMAKE_BUILD_TYPE=Release .. \t&& make -j3 && make install"
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /workspace/annotatorlib/source/imagesets && git clone https://github.com/annotatorproject/annotatorimageset_flickr.git     &&
      cd ../../build && cmake .. && make -j3 && make install
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /workspace && git clone https://github.com/annotatorproject/annotator
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /workspace/annotator && mkdir build && cd build     && cmake -DCMAKE_CXX_COMPILER=clang++
      -DCMAKE_BUILD_TYPE=Release .. \t&& make -j3"
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /workspace/annotator/source/annotatorplugins && git clone https://github.com/annotatorproject/annotatorplugin_camshift.git     &&
      cd ../../build && cmake .. && make -j3
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /workspace/annotator/source/annotatorplugins && git clone https://github.com/annotatorproject/annotatorplugin_dnn_mmod.git     &&
      cd ../../build && cmake .. && make -j3
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /workspace/annotator/source/annotatorplugins && git clone https://github.com/annotatorproject/annotatorplugin_fhog.git     &&
      cd ../../build && cmake .. && make -j3
    Name: run
    PrependShell: true
  - CmdLine:
    - useradd -ms /bin/bash annotator
    Name: run
    PrependShell: true
  - Name: user
    User: annotator
  - Name: workdir
    Path: /home/annotator
  - CmdLine:
    - "mkdir -p /home/annotator/.config/AnnotatorProject/ \t&& cp /workspace/annotatorlib/source/imagesets/annotatorimageset_flickr/docker/Annotator.conf
      /home/annotator/.config/AnnotatorProject/ \t&& cp /workspace/annotatorlib/source/imagesets/annotatorimageset_flickr/docker/flickr.pro.xml
      /home/annotator/ \t&& cp /workspace/annotatorlib/source/imagesets/annotatorimageset_flickr/docker/flickr.json
      /home/annotator/"
    Name: run
    PrependShell: true
  - CmdLine:
    - /workspace/annotator/build/annotator
    Name: cmd
    PrependShell: true
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
