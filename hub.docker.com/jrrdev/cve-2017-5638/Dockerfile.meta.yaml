MetaArgs: null
Stages:
- BaseName: maven:3-jdk-8-alpine
  Commands:
  - Maintainer: jrrdev
    Name: maintainer
  - CmdLine:
    - "mkdir -p /cve-2017-538/exploit && \tmkdir -p /usr/src/cve-2017-538"
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./pom.xml
    - /usr/src/cve-2017-538/pom.xml
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./src
    - /usr/src/cve-2017-538/src
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./docker/entry-point.sh
    - /cve-2017-538/entry-point.sh
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./exploit/exploit.py
    - /cve-2017-538/exploit/exploit.py
  - CmdLine:
    - "chmod +x /cve-2017-538/entry-point.sh && \tsync && \tcd /usr/src/cve-2017-538
      && \tmvn package && \tcp /usr/src/cve-2017-538/target/*.jar /cve-2017-538/cve-2017-538-example.jar
      && \trm -Rf /usr/src/cve-2017-538"
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /cve-2017-538
  - CmdLine:
    - ./entry-point.sh
    Name: entrypoint
    PrependShell: false
  - Name: expose
    Ports:
    - "8080"
  - Name: volume
    Volumes:
    - /cve-2017-538/exploit/
  From:
    Image: maven:3-jdk-8-alpine
  Name: ""
  Platform: ""
  SourceCode: FROM maven:3-jdk-8-alpine
