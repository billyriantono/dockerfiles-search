MetaArgs: null
Stages:
- BaseName: nicoherbigio/php:7.3.13-apache
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"Nico Herbig <nico@nicoherbig.io>"'
    Name: label
  - Env:
    - Key: WWW_USER_ID
      Value: "10033"
    - Key: WWW_USER
      Value: www-user
    Name: env
  - Env:
    - Key: WWW_GROUP_ID
      Value: "33"
    - Key: WWW_GROUP
      Value: www-data
    Name: env
  - CmdLine:
    - useradd --gid ${WWW_GROUP} --uid ${WWW_USER_ID} --create-home --shell /bin/bash
      ${WWW_USER}
    Name: run
    PrependShell: true
  - CmdLine:
    - set -ex     && apt-get update     && apt-get install -y --no-install-recommends
      git libfreetype6-dev libjpeg62-turbo-dev libmcrypt-dev libpng-dev libxml2-dev
      libzip-dev libldap2-dev ghostscript graphicsmagick unzip wget     && docker-php-ext-configure
      gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/     && docker-php-ext-install
      -j$(nproc) exif gd intl ldap mysqli opcache soap zip     && pecl install apcu-5.1.17     &&
      docker-php-ext-enable apcu     && apt-get remove -y libfreetype6-dev libjpeg62-turbo-dev
      libmcrypt-dev libpng-dev libxml2-dev libzip-dev     && rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - CmdLine:
    - set -ex     && a2enmod expires deflate headers rewrite     && {         echo
      'max_execution_time = 240';         echo 'max_input_vars = 1500';         echo
      'memory_limit = 512M';         echo 'post_max_size = 32M';         echo 'upload_max_filesize
      = 32M';        } | tee /usr/local/etc/php/conf.d/docker-typo3-cms.ini
    Name: run
    PrependShell: true
  From:
    Image: nicoherbigio/php:7.3.13-apache
  Name: ""
  Platform: ""
  SourceCode: FROM nicoherbigio/php:7.3.13-apache
