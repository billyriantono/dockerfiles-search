MetaArgs: null
Stages:
- BaseName: nightseas/cuda-torch
  Commands:
  - CmdLine:
    - apt-get -y update
    Name: run
    PrependShell: true
  - CmdLine:
    - luarocks install tds
    Name: run
    PrependShell: true
  - CmdLine:
    - luarocks install class
    Name: run
    PrependShell: true
  - CmdLine:
    - luarocks install nn
    Name: run
    PrependShell: true
  - CmdLine:
    - luarocks install nngraph
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install python-matplotlib
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install pillow python-Levenshtein
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /
  - CmdLine:
    - wget http://lstm.seas.harvard.edu/latex/third_party/Distance-0.1.3.tar.gz
    Name: run
    PrependShell: true
  - CmdLine:
    - tar zxf Distance-0.1.3.tar.gz
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /distance
  - CmdLine:
    - python setup.py install
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install texlive-latex-base
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install libwebkit-dev
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /usr/local/bin
  - CmdLine:
    - wget https://raw.githubusercontent.com/paulhammond/webkit2png/master/webkit2png
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod a+x /usr/local/bin/webkit2png
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /
  - CmdLine:
    - git clone https://github.com/harvardnlp/im2markup.git
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /im2markup
  - CmdLine:
    - th
    - src/train.lua
    - -h
    Name: cmd
    PrependShell: false
  From:
    Image: nightseas/cuda-torch
  Name: ""
  Platform: ""
  SourceCode: FROM nightseas/cuda-torch
