MetaArgs: null
Stages:
- BaseName: node
  Commands:
  - Maintainer: Caner Candan <caner@candan.fr>
    Name: maintainer
  - Name: workdir
    Path: /usr/src/app
  - CmdLine:
    - git clone https://github.com/zone117x/node-open-mining-portal .
    Name: run
    PrependShell: true
  - CmdLine:
    - npm update
    Name: run
    PrependShell: true
  - Env:
    - Key: REDIS_HOST
      Value: redis
    Name: env
  - Env:
    - Key: REDIS_PORT
      Value: "6379"
    Name: env
  - Env:
    - Key: ADMIN_PASSWORD
      Value: password
    Name: env
  - Env:
    - Key: STRATUM_HOST
      Value: stratum.domainname.xyz
    Name: env
  - Chown: ""
    Name: add
    SourcesAndDest:
    - setup.sh
    - /usr/src/app/
  - Chown: ""
    Name: add
    SourcesAndDest:
    - run.sh
    - /usr/src/app/
  - Name: volume
    Volumes:
    - /usr/src/app/coins
  - Name: volume
    Volumes:
    - /usr/src/app/pool_configs
  - Name: expose
    Ports:
    - "8888"
  - Name: expose
    Ports:
    - "4000"
  - Name: expose
    Ports:
    - "4008"
  - Name: expose
    Ports:
    - "4032"
  - Name: expose
    Ports:
    - "4256"
  - CmdLine:
    - sh
    - run.sh
    Name: cmd
    PrependShell: false
  From:
    Image: node
  Name: ""
  Platform: ""
  SourceCode: FROM node
