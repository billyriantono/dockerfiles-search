MetaArgs: null
Stages:
- BaseName: tiredofit/alpine:3.11
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"Dave Conroy (dave at tiredofit dot ca)"'
    Name: label
  - Env:
    - Key: TRAEFIK_VERSION
      Value: 1.7.20
    - Key: TRAEFIK_CERT_DUMPER_VERSION
      Value: 2.3.4
    - Key: DASHBOARD_ADMIN_USER
      Value: admin
    - Key: DASHBOARD_ADMIN_PASS
      Value: traefik
    - Key: ENABLE_API
      Value: "TRUE"
    - Key: ENABLE_DASHBOARD
      Value: "TRUE"
    - Key: ENABLE_DASHBOARD_AUTHENTICATION
      Value: "TRUE"
    - Key: ENABLE_SMTP
      Value: "FALSE"
    Name: env
  - CmdLine:
    - set -x &&     apk update &&     apk upgrade &&     apk add -t .traefik-run-deps             apache2-utils             jq             zabbix-utils             &&         curl
      -sSL https://github.com/containous/traefik/releases/download/v${TRAEFIK_VERSION}/traefik_linux-amd64
      --output /usr/local/bin/traefik &&     chmod +x /usr/local/bin/traefik &&         curl
      -ssL https://github.com/ldez/traefik-certs-dumper/releases/download/v${TRAEFIK_CERT_DUMPER_VERSION}/traefik-certs-dumper_v${TRAEFIK_CERT_DUMPER_VERSION}_linux_amd64.tar.gz
      | tar xvfz - -C /usr/local/bin traefik-certs-dumper &&     chmod +x /usr/local/bin/traefik-certs-dumper
      &&         rm -rf /usr/src/* /var/tmp/* /var/cache/apk/*
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "443"
    - "80"
  - Chown: ""
    Name: add
    SourcesAndDest:
    - install
    - /
  From:
    Image: tiredofit/alpine:3.11
  Name: ""
  Platform: ""
  SourceCode: FROM tiredofit/alpine:3.11
