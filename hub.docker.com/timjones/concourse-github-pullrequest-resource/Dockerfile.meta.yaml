MetaArgs: null
Stages:
- As: resource
  BaseName: alpine
  Commands:
  - CmdLine:
    - set -ex;   apk add --update   ca-certificates   curl   git   jq   openssh-client   perl   ruby   ruby-json   ruby-bundler   ;   rm
      -rf /var/cache/apk/*;
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - Gemfile
    - Gemfile.lock
    - /opt/resource/
  - CmdLine:
    - cd /opt/resource && bundle install --without test development
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - assets/
    - /opt/resource/
  - CmdLine:
    - chmod +x /opt/resource/*
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - scripts/install_git_lfs.sh
    - install_git_lfs.sh
  - CmdLine:
    - ./install_git_lfs.sh
    Name: run
    PrependShell: true
  From:
    Image: alpine
  Name: resource
  Platform: ""
  SourceCode: FROM alpine as resource
- As: tests
  BaseName: resource
  Commands:
  - CmdLine:
    - apk add --update     ruby-bigdecimal     ruby-bundler     ruby-io-console     ruby-dev     openssl-dev     alpine-sdk
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - Gemfile
    - Gemfile.lock
    - /resource/
  - CmdLine:
    - cd /resource && bundle install
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - .
    - /resource
  - CmdLine:
    - cd /resource && rspec
    Name: run
    PrependShell: true
  From:
    Stage:
      Index: 0
      Named: resource
  Name: tests
  Platform: ""
  SourceCode: FROM resource as tests
- BaseName: resource
  Commands: null
  From:
    Stage:
      Index: 0
      Named: resource
  Name: ""
  Platform: ""
  SourceCode: FROM resource
