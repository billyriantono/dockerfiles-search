MetaArgs: null
Stages:
- BaseName: node:10-alpine
  Commands:
  - Name: workdir
    Path: /opt
  - Env:
    - Key: ANDROID_SDK_URL
      Value: '"https://dl.google.com/android/repository/tools_r25.2.5-linux.zip"'
    - Key: ANDROID_BUILD_TOOLS_VERSION
      Value: 27.0.0
    - Key: ANDROID_APIS
      Value: '"android-27"'
    - Key: IONIC_VERSION
      Value: 5.4.13
    - Key: CORDOVA_VERSION
      Value: 9.0.0
    - Key: ANT_HOME
      Value: '"/usr/share/ant"'
    - Key: MAVEN_HOME
      Value: '"/usr/share/maven"'
    - Key: GRADLE_HOME
      Value: '"/usr/share/gradle"'
    - Key: ANDROID_HOME
      Value: '"/opt/android"'
    Name: env
  - Env:
    - Key: PATH
      Value: '"$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools:$ANDROID_HOME/build-tools/$ANDROID_BUILD_TOOLS_VERSION:$ANT_HOME/bin:$MAVEN_HOME/bin:$GRADLE_HOME/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/jvm/java-1.8-openjdk/jre/bin:/usr/lib/jvm/java-1.8-openjdk/bin:${PATH}"'
    Name: env
  - CmdLine:
    - mkdir android
    Name: run
    PrependShell: true
  - CmdLine:
    - apk --no-cache --update add curl wget maven apache-ant gradle bash openjdk8
      git &&     wget -q -O android/tools.zip ${ANDROID_SDK_URL} &&     unzip -q android/tools.zip
      -d android/ &&     rm android/tools.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - apk --no-cache --allow-untrusted -X https://apkproxy.herokuapp.com/sgerrand/alpine-pkg-glibc
      add glibc glibc-bin
    Name: run
    PrependShell: true
  - CmdLine:
    - echo y | android update sdk -a -u -t platform-tools,${ANDROID_APIS},build-tools-${ANDROID_BUILD_TOOLS_VERSION}
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod a+x -R $ANDROID_HOME
    Name: run
    PrependShell: true
  - CmdLine:
    - chown -R root:root $ANDROID_HOME
    Name: run
    PrependShell: true
  - CmdLine:
    - npm i -g --unsafe-perm cordova@${CORDOVA_VERSION} ionic@${IONIC_VERSION} &&     npm
      cache clean --force
    Name: run
    PrependShell: true
  From:
    Image: node:10-alpine
  Name: ""
  Platform: ""
  SourceCode: FROM node:10-alpine
