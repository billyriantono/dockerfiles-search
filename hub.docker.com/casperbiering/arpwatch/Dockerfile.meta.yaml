MetaArgs: null
Stages:
- As: builder
  BaseName: balenalib/raspberrypi3
  Commands:
  - CmdLine:
    - cross-build-start
    Name: run
    PrependShell: false
  - CmdLine:
    - install_packages python3
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -sSLf https://raw.githubusercontent.com/frispete/fetch-ethercodes/master/fetch_ethercodes.py
      -o /usr/local/bin/fetch_ethercodes.py &&     chmod +x /usr/local/bin/fetch_ethercodes.py
    Name: run
    PrependShell: true
  - CmdLine:
    - fetch_ethercodes.py -o /ethercodes.dat
    Name: run
    PrependShell: true
  - CmdLine:
    - cross-build-end
    Name: run
    PrependShell: false
  From:
    Image: balenalib/raspberrypi3
  Name: builder
  Platform: ""
  SourceCode: FROM balenalib/raspberrypi3 AS builder
- BaseName: balenalib/raspberrypi3
  Commands:
  - CmdLine:
    - cross-build-start
    Name: run
    PrependShell: false
  - CmdLine:
    - install_packages arpwatch nullmailer rsyslog ca-certificates psmisc
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - cmd.sh
    - /cmd.sh
  - Chown: ""
    Name: add
    SourcesAndDest:
    - rsyslog.conf
    - /rsyslog.conf
  - Chown: ""
    From: builder
    Name: copy
    SourcesAndDest:
    - /ethercodes.dat
    - /usr/share/arpwatch/ethercodes.dat
  - CmdLine:
    - bash
    - cmd.sh
    Name: cmd
    PrependShell: false
  - CmdLine:
    - cross-build-end
    Name: run
    PrependShell: false
  From:
    Image: balenalib/raspberrypi3
  Name: ""
  Platform: ""
  SourceCode: FROM balenalib/raspberrypi3
