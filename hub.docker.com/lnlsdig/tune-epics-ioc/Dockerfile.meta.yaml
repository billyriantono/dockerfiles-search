MetaArgs: null
Stages:
- BaseName: lnls/epics-dist:base-3.15-synapps-lnls-R1-2-1-debian-9.5
  Commands:
  - Env:
    - Key: IOC_REPO
      Value: tune-epics-ioc
    Name: env
  - Env:
    - Key: BOOT_DIR
      Value: iocTune
    Name: env
  - Env:
    - Key: COMMIT
      Value: v1.6.0-rc5
    Name: env
  - CmdLine:
    - git clone https://github.com/lnls-dig/${IOC_REPO}.git /opt/epics/${IOC_REPO}
      &&     cd /opt/epics/${IOC_REPO} &&     git checkout ${COMMIT} &&     echo 'EPICS_BASE=/opt/epics/base'
      > configure/RELEASE.local &&     echo 'SUPPORT=/opt/epics/synApps-lnls-R1-2-1/support'
      >> configure/RELEASE.local &&     echo 'AUTOSAVE=$(SUPPORT)/autosave-R5-9' >>
      configure/RELEASE.local &&     echo 'SNCSEQ=$(SUPPORT)/seq-2-2-6' >> configure/RELEASE.local
      &&     echo 'CALC=$(SUPPORT)/calc-R3-7-2' >> configure/RELEASE.local &&     echo
      'BUSY=$(SUPPORT)/busy-R1-7-1' >> configure/RELEASE.local &&     make &&     make
      install
    Name: run
    PrependShell: true
  - CmdLine:
    - . /root/.bashrc
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /opt/epics/startup/ioc/${IOC_REPO}/iocBoot/${BOOT_DIR}
  - CmdLine:
    - ./runProcServ.sh
    Name: entrypoint
    PrependShell: false
  From:
    Image: lnls/epics-dist:base-3.15-synapps-lnls-R1-2-1-debian-9.5
  Name: ""
  Platform: ""
  SourceCode: FROM lnls/epics-dist:base-3.15-synapps-lnls-R1-2-1-debian-9.5
