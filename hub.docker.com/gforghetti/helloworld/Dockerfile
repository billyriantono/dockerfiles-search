#################################################################################################################################################
# This Dockerfile builds a simple Java HelloWorld Application.
#################################################################################################################################################
# Gary Forghetti
# Docker Inc.
#################################################################################################################################################

FROM java:latest
ARG BUILDDIR="/HelloWorld"
WORKDIR ${BUILDDIR}

#################################################################################################################################################
# Add some metadata to the docker image
#################################################################################################################################################
LABEL description="HelloWorld Java Application"
LABEL maintainer="Gary Forghetti, Docker Inc."

#################################################################################################################################################
# Execute the HelloWorld Java Program when a container from this docker image is run.
#################################################################################################################################################
CMD java -cp /HelloWorld HelloWorld

#################################################################################################################################################
# Copy the HelloWord.java source application into the Build Directory.
#################################################################################################################################################
COPY ./HelloWorld.java ${BUILDDIR}

#################################################################################################################################################
# Compile the Java program and erase the source code if the compile is successful.
#################################################################################################################################################
RUN javac HelloWorld.java && rm -f HelloWorld.java
