MetaArgs: null
Stages:
- BaseName: debian
  Commands:
  - Name: workdir
    Path: /root
  - CmdLine:
    - apt-get update     && apt-get -y install wget inotify-tools vim locales ntp
      locate
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/etc/locale.gen
    - /etc/locale.gen
  - CmdLine:
    - locale-gen en_US.utf8 && locale-gen fr_FR.utf8
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/etc/ntp.conf
    - /etc/ntp.conf
  - CmdLine:
    - service ntp restart
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install ca-certificates     && wget https://apt.puppetlabs.com/puppetlabs-release-pc1-jessie.deb     &&
      dpkg -i puppetlabs-release-pc1-jessie.deb     && apt-get update     && apt-get
      -y install puppet-agent
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -f puppetlabs-release-pc1-jessie.deb
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/etc/default
    - /etc/default
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/etc/puppetlabs/puppet
    - /etc/puppetlabs/puppet/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/etc/apt/preferences.d
    - /etc/apt/preferences.d
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/stick_puppet_version.sh
    - stick_puppet_version.sh
  - CmdLine:
    - chmod u+x stick_puppet_version.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - /root/stick_puppet_version.sh
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/setup_cert.sh
    - setup_cert.sh
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/services.sh
    - services.sh
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/start.sh
    - start.sh
  - CmdLine:
    - chmod u+x setup_cert.sh services.sh start.sh
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - resources/.bashrc
    - .bashrc
  - CmdLine:
    - /root/start.sh
    Name: cmd
    PrependShell: false
  From:
    Image: debian
  Name: ""
  Platform: ""
  SourceCode: FROM debian
