MetaArgs: null
Stages:
- BaseName: centos:7
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"oatkrittin@gmail.com"'
    Name: label
  - Env:
    - Key: LMOD_VERSION
      Value: "8.0"
    Name: env
  - Env:
    - Key: JAVA_VERSION
      Value: 1.8.0
    Name: env
  - CmdLine:
    - yum -y update &&     yum -y install epel-release &&     yum -y install       java-${JAVA_VERSION}-openjdk       which       wget       bzip2       gcc       make       rsync       tcl       tcl-devel       libreadline-dev       readline-devel       lua       lua-devel       lua-posix       python-setuptools       fish
      &&       yum clean all &&       rm -rf /var/cache/yum/*
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /usr/local/bin
    Name: run
    PrependShell: true
  - CmdLine:
    - cd ~ &&    wget https://jaist.dl.sourceforge.net/project/lmod/Lmod-${LMOD_VERSION}.tar.bz2
      &&    tar -xjvf Lmod-${LMOD_VERSION}.tar.bz2 &&    cd Lmod-${LMOD_VERSION} &&    ./configure
      --prefix=/opt/apps &&    make &&    make install &&    ln -s /opt/apps/lmod/lmod/init/profile
      /etc/profile.d/z00_lmod.sh &&    ln -s /opt/apps/lmod/lmod/init/cshrc /etc/profile.d/z00_lmod.csh
    Name: run
    PrependShell: true
  - CmdLine:
    - wget -qO- https://get.nextflow.io | bash &&    mv nextflow /usr/local/bin
    Name: run
    PrependShell: true
  From:
    Image: centos:7
  Name: ""
  Platform: ""
  SourceCode: FROM centos:7
