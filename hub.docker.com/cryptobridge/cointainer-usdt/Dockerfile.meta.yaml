MetaArgs: null
Stages:
- As: build
  BaseName: cryptobridge/baseimage:bionic-build
  Commands:
  - CmdLine:
    - git clone https://github.com/OmniLayer/omnicore.git . &&   git checkout v0.5.0
    Name: run
    PrependShell: true
  - CmdLine:
    - ./autogen.sh &&   ./configure --without-gui &&   make
    Name: run
    PrependShell: true
  From:
    Image: cryptobridge/baseimage:bionic-build
  Name: build
  Platform: ""
  SourceCode: FROM cryptobridge/baseimage:bionic-build AS build
- BaseName: cryptobridge/baseimage:bionic
  Commands:
  - Chown: ""
    From: build
    Name: copy
    SourcesAndDest:
    - /build/src/omnicored
    - /usr/local/bin/omnicored
  - Chown: ""
    From: build
    Name: copy
    SourcesAndDest:
    - /build/src/omnicore-cli
    - /usr/local/bin/omnicore-cli
  - CmdLine:
    - ln -s /usr/local/bin/omnicored /usr/local/bin/coind
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -s /usr/local/bin/omnicore-cli /usr/local/bin/coin-cli
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /home/crypto
  - Name: expose
    Ports:
    - "8332"
  - CmdLine:
    - mkdir  /home/crypto/.bitcoin/
    Name: run
    PrependShell: true
  - CmdLine:
    - touch  /home/crypto/.bitcoin/bitcoin.conf
    Name: run
    PrependShell: true
  - CmdLine:
    - omnicored
    Name: cmd
    PrependShell: false
  From:
    Image: cryptobridge/baseimage:bionic
  Name: ""
  Platform: ""
  SourceCode: FROM cryptobridge/baseimage:bionic
