MetaArgs: null
Stages:
- BaseName: ubuntu:14.04
  Commands:
  - Maintainer: Pavel Larkin "laxkin@gmail.com"
    Name: maintainer
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - CmdLine:
    - apt-get update && apt-get -y upgrade &&     apt-get install -y build-essential                        software-properties-common                        byobu
      curl git htop man unzip vim wget nano zip                        python2.7-dev                        python-pip
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -sL https://deb.nodesource.com/setup | bash - &&     apt-get install -y
      nodejs fontconfig &&     npm install -g phantomjs
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get clean autoclean &&     apt-get autoremove -y  &&     rm -rf /var/lib/{apt,dpkg,cache,log}
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install awsebcli awscli
    Name: run
    PrependShell: true
  - CmdLine:
    - echo oracle-java7-installer shared/accepted-oracle-license-v1-1 select true
      | debconf-set-selections &&     add-apt-repository -y ppa:webupd8team/java &&     apt-get
      update &&     apt-get install -y oracle-java7-installer &&     rm -rf /var/cache/oracle-jdk7-installer
    Name: run
    PrependShell: true
  - CmdLine:
    - wget --progress=bar:force http://mirror.reverse.net/pub/apache/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz
      -P /tmp/ &&     tar xvfz /tmp/apache-maven-3.3.9-bin.tar.gz --directory /opt
      &&     rm -f /tmp/apache-maven-3.3.9-bin.tar.gz &&     update-alternatives --install
      /usr/bin/mvn mvn /opt/apache-maven-3.3.9/bin/mvn 1 &&     mkdir -p /root/.m2
    Name: run
    PrependShell: true
  - CmdLine:
    - wget --progress=bar:force http://mirrors.jenkins-ci.org/war-stable/2.19.1/jenkins.war
      -P /opt/ &&     chmod 644 /opt/jenkins.war
    Name: run
    PrependShell: true
  - Env:
    - Key: JAVA_HOME
      Value: /usr/lib/jvm/java-7-oracle
    Name: env
  - Env:
    - Key: M2_HOME
      Value: /opt/apache-maven-3.3.9
    Name: env
  - Env:
    - Key: JENKINS_HOME
      Value: /jenkins
    Name: env
  - Env:
    - Key: TERM
      Value: xterm
    Name: env
  - CmdLine:
    - sh
    - -c
    - java $JAVA_ARGS -jar /opt/jenkins.war
    Name: entrypoint
    PrependShell: false
  - Name: expose
    Ports:
    - "8080"
  - CmdLine:
    - ""
    Name: cmd
    PrependShell: false
  From:
    Image: ubuntu:14.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:14.04
