MetaArgs: null
Stages:
- BaseName: php:7.3-cli
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"Engenharia Arquivei <engenharia@arquivei.com.br>"'
    Name: label
  - Key: RDKAFKA_VERSION
    Name: arg
    Value: '"1.1.0"'
  - Key: RDKAFKA_PECL_VERSION
    Name: arg
    Value: '"3.1.2"'
  - CmdLine:
    - apt-get update     && apt-get -y install git libzip-dev libxml2-dev unzip libpq-dev     &&
      docker-php-ext-install zip soap bcmath pgsql pdo_pgsql pdo_mysql
    Name: run
    PrependShell: true
  - CmdLine:
    - pecl install grpc && docker-php-ext-enable grpc     && pecl install redis &&
      docker-php-ext-enable redis
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /tmp/librdkafka     && cd /tmp     && curl -L https://github.com/edenhill/librdkafka/archive/v${RDKAFKA_VERSION}.tar.gz
      | tar xz -C /tmp/librdkafka --strip-components=1     && cd librdkafka     &&
      ./configure     && make     && make install     && pecl install rdkafka-${RDKAFKA_PECL_VERSION}     &&
      docker-php-ext-enable rdkafka     && rm -rf /tmp/librdkafka
    Name: run
    PrependShell: true
  From:
    Image: php:7.3-cli
  Name: ""
  Platform: ""
  SourceCode: FROM php:7.3-cli
