MetaArgs: null
Stages:
- BaseName: alpine:edge
  Commands:
  - CmdLine:
    - apk add --update     bash     python     shadow     tmux     tzdata     weechat     weechat-aspell     weechat-ruby     weechat-lua     weechat-perl     weechat-python
    Name: run
    PrependShell: true
  - Env:
    - Key: LANG
      Value: en_US.UTF-8
    Name: env
  - Env:
    - Key: LC_ALL
      Value: en_US.UTF-8
    Name: env
  - Env:
    - Key: TERM
      Value: screen-256color
    Name: env
  - Env:
    - Key: PUID
      Value: "1000"
    Name: env
  - Env:
    - Key: PGID
      Value: "1000"
    Name: env
  - Env:
    - Key: TZ
      Value: Europe/Helsinki
    Name: env
  - CmdLine:
    - groupadd -g ${PGID} weechat
    Name: run
    PrependShell: true
  - CmdLine:
    - useradd -g ${PGID} -u ${PUID} -m -s /bin/bash weechat
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -snf /usr/share/zoneinfo/"${TZ}" /etc/localtime && echo "${TZ}" > /etc/timezone
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - start.sh
    - /home/weechat/start.sh
  - Chown: ""
    Name: add
    SourcesAndDest:
    - tmux.conf
    - /home/weechat/.tmux.conf
  - CmdLine:
    - chown -R weechat:weechat /home/weechat
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod +x /home/weechat/start.sh
    Name: run
    PrependShell: true
  - Health:
      Test:
      - CMD-SHELL
      - tmux has-session -t weechat
    Name: healthcheck
  - Name: user
    User: weechat
  - Name: workdir
    Path: /home/weechat
  - CmdLine:
    - ./start.sh
    Name: cmd
    PrependShell: true
  From:
    Image: alpine:edge
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:edge
