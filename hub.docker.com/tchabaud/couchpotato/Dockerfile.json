{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "alpine:latest",
      "SourceCode": "FROM alpine:latest",
      "Platform": "",
      "From": {
        "Image": "alpine:latest"
      },
      "Commands": [
        {
          "CmdLine": [
            "apk --update add python git py-lxml py-cffi py-six py-openssl py-cryptography py-enum34 runit \u0026\u0026     mkdir /opt \u0026\u0026 cd /opt \u0026\u0026 git clone https://github.com/CouchPotato/CouchPotatoServer.git \u0026\u0026     addgroup -g 5000 couchpotato \u0026\u0026     adduser -S -s /sbin/nologin -u 5000 -h \"/opt/CouchPotatoServer\" -G couchpotato couchpotato \u0026\u0026     chown -R 5000:5000 /opt/CouchPotatoServer \u0026\u0026     rm -rf /var/cache/apk/*"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "/sbin/chpst",
            "-v",
            "-u",
            "couchpotato",
            "-U",
            "couchpotato",
            "/usr/bin/env",
            "python2",
            "/opt/CouchPotatoServer/CouchPotato.py",
            "--config_file",
            "/data/conf/config.ini",
            "--data_dir",
            "/data/conf"
          ],
          "Name": "cmd",
          "PrependShell": false
        }
      ]
    }
  ]
}