MetaArgs: null
Stages:
- BaseName: golang:alpine
  Commands:
  - CmdLine:
    - echo http://dl-cdn.alpinelinux.org/alpine/edge/testing >>/etc/apk/repositories
    Name: run
    PrependShell: true
  - CmdLine:
    - apk add alpine-sdk bash llvm5 gnupg xz jq curl-dev sqlite-dev binutils-gold
      autoconf automake ldc ldc-runtime
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /usr/lib &&    ln -s libdruntime-ldc-shared.so libdruntime-ldc.so &&    ln
      -s libphobos2-ldc-shared.so libphobos2-ldc.so
    Name: run
    PrependShell: true
  - CmdLine:
    - go get github.com/tianon/gosu
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - .
    - /usr/src/onedrive
  - CmdLine:
    - cd /usr/src/onedrive/ &&     autoreconf -fiv &&     ./configure &&     make
      clean &&     make &&     make install
    Name: run
    PrependShell: true
  From:
    Image: golang:alpine
  Name: ""
  Platform: ""
  SourceCode: FROM golang:alpine
- BaseName: alpine
  Commands:
  - CmdLine:
    - /entrypoint.sh
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - apk add --no-cache bash libcurl libgcc shadow sqlite-libs &&     mkdir -p /onedrive/conf
      /onedrive/data
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - contrib/docker/entrypoint.sh
    - /
  - Chown: ""
    From: "0"
    Name: copy
    SourcesAndDest:
    - /go/bin/gosu
    - /usr/local/bin/onedrive
    - /usr/local/bin/
  From:
    Image: alpine
  Name: ""
  Platform: ""
  SourceCode: FROM alpine
