MetaArgs: null
Stages:
- BaseName: openstf/stf
  Commands:
  - Name: user
    User: root
  - CmdLine:
    - sudo apt-get update && sudo apt-get install -y gettext
    Name: run
    PrependShell: true
  - CmdLine:
    - sudo apt-get update && sudo apt-get install -y android-tools-adb android-tools-fastboot
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -m 0750 /.android
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - files/certs/insecure_shared_adbkey
    - /.android/adbkey
  - Chown: ""
    Name: add
    SourcesAndDest:
    - files/certs/insecure_shared_adbkey.pub
    - /.android/adbkey.pub
  - Name: expose
    Ports:
    - "28015"
    - "29015"
    - "8080"
  - CmdLine:
    - sudo apt-get install -y python-pip &&     pip install honcho
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://cocoon_bitbucket@bitbucket.org/cocoon_bitbucket/droyd.git
      /tmp/
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /tmp &&     pip install -r requirements_server.txt &&     python setup.py
      install &&     cp droydserver/droydserve.py /usr/local/bin/droydserve &&     chmod
      +x /usr/local/bin/droydserve
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "5000"
  - Name: volume
    Volumes:
    - /data
  - Name: workdir
    Path: /data
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - files/
    - /data
  - CmdLine:
    - honcho
    - start
    Name: cmd
    PrependShell: false
  From:
    Image: openstf/stf
  Name: ""
  Platform: ""
  SourceCode: FROM openstf/stf
