MetaArgs: null
Stages:
- BaseName: openjdk:8-jre-alpine
  Commands:
  - Env:
    - Key: TRACCAR_VERSION
      Value: "3.9"
    Name: env
  - Env:
    - Key: TRACCAR_WEB_VERSION
      Value: 0.12.3
    Name: env
  - Env:
    - Key: MYSQL_HOST
      Value: localhost
    Name: env
  - Env:
    - Key: MYSQL_PORT
      Value: "3306"
    Name: env
  - Env:
    - Key: MYSQL_DATABASE
      Value: traccar
    Name: env
  - Env:
    - Key: MYSQL_USER
      Value: traccar
    Name: env
  - Env:
    - Key: MYSQL_PASSWORD
      Value: traccar
    Name: env
  - Name: workdir
    Path: /opt/traccar
  - CmdLine:
    - set -ex &&     apk add --no-cache wget mysql-client sed &&         wget -qO
      /tmp/traccar.zip https://github.com/tananaev/traccar/releases/download/v$TRACCAR_VERSION/traccar-other-$TRACCAR_VERSION.zip
      &&     unzip -qo /tmp/traccar.zip -d /opt/traccar &&     wget -qO /opt/traccar/traccar-web.war
      https://github.com/vitalidze/traccar-web/releases/download/$TRACCAR_WEB_VERSION/traccar-web.war
      &&     rm /tmp/traccar.zip &&         apk del wget
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - schema.sql
    - schema.sql
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - traccar.xml
    - conf/traccar.xml
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - default.xml
    - conf/default.xml
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - start.sh
    - start.sh
  - Name: volume
    Volumes:
    - '"/opt/traccar/logs"'
  - Name: expose
    Ports:
    - "8082"
  - Name: expose
    Ports:
    - 5000-5150/tcp
  - Name: expose
    Ports:
    - 5000-5150/udp
  - CmdLine:
    - /bin/sh
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - start.sh
    Name: cmd
    PrependShell: false
  From:
    Image: openjdk:8-jre-alpine
  Name: ""
  Platform: ""
  SourceCode: FROM openjdk:8-jre-alpine
