MetaArgs: null
Stages:
- BaseName: centos:7
  Commands:
  - CmdLine:
    - '{         echo ''[artica_pandorafms]'';         echo ''name=CentOS7 - PandoraFMS
      official repo'';         echo ''baseurl=http://firefly.artica.es/centos7'';         echo
      ''gpgcheck=0'';         echo ''enabled=1''; } > /etc/yum.repos.d/pandorafms.repo'
    Name: run
    PrependShell: true
  - CmdLine:
    - "yum install -y --setopt=tsflags=nodocs \thttps://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
      \thttp://rpms.remirepo.net/enterprise/remi-release-7.rpm \tyum-utils ; yum clean
      all"
    Name: run
    PrependShell: true
  - CmdLine:
    - yum-config-manager --enable remi-php72
    Name: run
    PrependShell: true
  - CmdLine:
    - "yum install -y --setopt=tsflags=nodocs \tphp \tphp-mcrypt \\php-cli \tphp-gd
      \tphp-curl \tphp-mysqli \tphp-ldap \tphp-zip \tphp-fileinfo \tphp-snmp \tphp-mbstring
      \tphp-pecl-zip \tphp-xmlrpc \tphp-yaml \tlibxslt \twget \tphp-xml \thttpd \tmod_php
      \tatk \tavahi-libs \tcairo \tcups-libs \tfribidi \tgd \tgdk-pixbuf2 \tghostscript
      \tghostscript-fonts \tgraphite2 \tgraphviz \tgtk-update-icon-cach \tgtk2 \tharfbuzz
      \thicolor-icon-theme \thwdata \tjasper-libs \tlcms2 \tlibICE \tlibSM \tlibXaw
      \tlibXcomposite \tlibXcursor \tlibXdamage \tlibXext \tlibXfixes \tlibXft \tlibXi
      \tlibXinerama \tlibXmu \tlibXrandr \tlibXrender \tlibXt \tlibXxf86vm \tlibcroco
      \tlibdrm \tlibfontenc \tlibglvnd \tlibglvnd-egl \tlibglvnd-glx \tlibpciaccess
      \tlibrsvg2 \tlibthai \tlibtool-ltdl \tlibwayland-client \tlibwayland-server
      \tlibxshmfence \tmesa-libEGL \tmesa-libGL \tmesa-libgbm \tmesa-libglapi \tpango
      \tperl-Net-Telnet \tpixman \txorg-x11-fonts-75dpi \txorg-x11-fonts-misc \tpoppler-data
      ; yum clean all"
    Name: run
    PrependShell: true
  - CmdLine:
    - yum install -y http://www6.atomicorp.com/channels/atomic/centos/7/x86_64/RPMS/wmi-1.3.14-4.el7.art.x86_64.rpm
      --setopt=tsflags=nodocs; yum clean all
    Name: run
    PrependShell: true
  - CmdLine:
    - "yum install -y --setopt=tsflags=nodocs \tvim \tfping \tnmap \tperl-IO-Compress
      \tnmap \tsudo \tmysql \tnet-snmp-utils; yum clean all"
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - 162/udp
    - "41121"
    - "443"
    - "80"
  From:
    Image: centos:7
  Name: ""
  Platform: ""
  SourceCode: FROM centos:7
