MetaArgs: null
Stages:
- BaseName: productize/kicad
  Commands:
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y git
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /opt/kicadlibs
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /opt/kicadlibs
  - CmdLine:
    - git clone https://github.com/Digi-Key/digikey-kicad-library.git
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/KiCad/kicad-symbols.git
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/KiCad/kicad-footprints.git
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -s /opt/kicadlibs/kicad-symbols /usr/share/kicad/library
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -s /opt/kicadlibs/kicad-footprint /usr/share/kicad/modules
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /opt
  - CmdLine:
    - git clone https://github.com/keener2u/CoinPCB
    Name: run
    PrependShell: true
  - CmdLine:
    - useradd -c 'kicaduser' -m -d /home/kicaduser -s /bin/bash kicaduser
    Name: run
    PrependShell: true
  - CmdLine:
    - chown -R kicaduser.kicaduser /opt
    Name: run
    PrependShell: true
  - Name: user
    User: kicaduser
  - Env:
    - Key: HOME
      Value: /home/kicaduser
    Name: env
  - Env:
    - Key: KISYSMOD
      Value: /opt/kicadlibs/kicad-footprints
    Name: env
  - Env:
    - Key: KICAD_SYMBOL_DIR
      Value: /opt/kicadlibs/kicad-symbols
    Name: env
  - Env:
    - Key: KISYS3DMOD
      Value: /opt/kicadlibs/kicad-packages3D
    Name: env
  - CmdLine:
    - mkdir /home/kicaduser/.config
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /home/kicaduser/.config/kicad
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /home/kicaduser/.config/kicad
  - CmdLine:
    - cp /opt/kicadlibs/kicad-symbols/sym-lib-table sym-lib-table
    Name: run
    PrependShell: true
  - CmdLine:
    - cp /opt/kicadlibs/kicad-footprints/fp-lib-table fp-lib-table
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /opt/CoinPCB
  - CmdLine:
    - kicad coinPCB.pro
    Name: entrypoint
    PrependShell: true
  From:
    Image: productize/kicad
  Name: ""
  Platform: ""
  SourceCode: FROM productize/kicad
