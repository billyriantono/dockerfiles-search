MetaArgs: null
Stages:
- BaseName: debian:stretch-slim
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"Infer team"'
    Name: label
  - CmdLine:
    - apt-get update &&     mkdir -p /usr/share/man/man1 &&     apt-get install --yes
      --no-install-recommends       autoconf       automake       cmake       curl       git       libc6-dev       libsqlite3-dev       opam       openjdk-8-jdk-headless       pkg-config       python2.7       zlib1g-dev
      &&     rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - CmdLine:
    - INFER_VERSION=v0.14.0;     cd /opt &&     curl -sL       https://github.com/facebook/infer/releases/download/${INFER_VERSION}/infer-linux64-${INFER_VERSION}.tar.xz
      |     tar xJ &&     rm -f /infer &&     ln -s ${PWD}/infer-linux64-$INFER_VERSION
      /infer
    Name: run
    PrependShell: true
  - CmdLine:
    - OCAML_VERSION=4.06.1+flambda;     cd /infer && ./build-infer.sh --opam-switch
      $OCAML_VERSION && rm -rf /root/.opam
    Name: run
    PrependShell: true
  - Env:
    - Key: INFER_HOME
      Value: /infer/infer
    Name: env
  - Env:
    - Key: PATH
      Value: ${INFER_HOME}/bin:${PATH}
    Name: env
  - Env:
    - Key: ANDROID_HOME
      Value: /opt/android-sdk-linux
    Name: env
  - Name: workdir
    Path: $ANDROID_HOME
  - CmdLine:
    - curl -o sdk-tools-linux.zip       https://dl.google.com/android/repository/sdk-tools-linux-3859397.zip
      &&     unzip sdk-tools-linux.zip &&     rm sdk-tools-linux.zip
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: ${ANDROID_HOME}/tools/bin:${PATH}
    Name: env
  - CmdLine:
    - echo "sdk.dir=${ANDROID_HOME}" > /infer/examples/android_hello/local.properties
    Name: run
    PrependShell: true
  From:
    Image: debian:stretch-slim
  Name: ""
  Platform: ""
  SourceCode: FROM debian:stretch-slim
