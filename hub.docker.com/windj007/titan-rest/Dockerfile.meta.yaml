MetaArgs: null
Stages:
- BaseName: debian:jessie
  Commands:
  - Maintainer: Roman Suvorov windj007@gmail.com
    Name: maintainer
  - CmdLine:
    - echo "deb http://http.debian.net/debian jessie-backports main" >> /etc/apt/sources.list
      &&     apt-get update &&     apt-get install -yqq openjdk-8-jdk openjdk-8-jre-headless
      wget unzip git maven zip &&     update-alternatives --set java /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java
      && java -version
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/thinkaurelius/titan.git /tmp/titan &&     cd /tmp/titan
      &&     git fetch origin pull/1312/head:pr1312 &&     git checkout pr1312 &&     mvn
      clean install -DskipTests=true -Dgpg.skip=true -Paurelius-release &&     mv
      titan-dist/titan-dist-hadoop-2/target/titan-1.1.0-SNAPSHOT-hadoop2.zip /srv
      &&     cd /srv &&     unzip titan-1.1.0-SNAPSHOT-hadoop2.zip &&     rm -r /tmp/titan
      titan-1.1.0-SNAPSHOT-hadoop2.zip
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /srv/titan-1.1.0-SNAPSHOT-hadoop2
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - gremlin-server.yaml
    - /srv/titan-1.1.0-SNAPSHOT-hadoop2/conf/gremlin-server/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - titan-cassandra-es.properties
    - /srv/titan-1.1.0-SNAPSHOT-hadoop2/conf/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - titan-bdb-es.properties
    - /srv/titan-1.1.0-SNAPSHOT-hadoop2/conf/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - entry-point.sh
    - /entry-point.sh
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - gremlin-server.sh
    - /srv/titan-1.1.0-SNAPSHOT-hadoop2/bin/
  - CmdLine:
    - /entry-point.sh
    Name: entrypoint
    PrependShell: false
  - Name: expose
    Ports:
    - "8182"
  - Name: volume
    Volumes:
    - /data
  - CmdLine:
    - bin/gremlin-server.sh
    - conf/gremlin-server/gremlin-server.yaml
    Name: cmd
    PrependShell: false
  From:
    Image: debian:jessie
  Name: ""
  Platform: ""
  SourceCode: FROM debian:jessie
