MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Chown: ""
    Name: add
    SourcesAndDest:
    - config.tar.gz
    - /root/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - files
    - /root/files
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - docker-entrypoint.sh
    - /usr/local/bin/init_gs
  - Key: UBUNTU_APT_MIRROR_URL
    Name: arg
    Value: ""
  - CmdLine:
    - "chmod a+x /usr/local/bin/init_gs \t&& if [ ! -z \"${UBUNTU_APT_MIRROR_URL}\"
      ];then \t\tcp /etc/apt/sources.list /etc/apt/sources.list.bak; \t\tsed  -i \"s#archive.ubuntu.com#${UBUNTU_APT_MIRROR_URL}#g\"
      \ /etc/apt/sources.list; \tfi \t&& dpkg --add-architecture i386 \t&& apt-get
      update \t&& apt-get install -y libc6:i386 libstdc++6:i386 \t&& cd /root/files
      \t&& chmod a+x run.sh stop.sh \t&& ln -s /root/files/run.sh /usr/local/bin/run_gs
      \t&& ln -s /root/files/stop.sh /usr/local/bin/stop_gs \t&& chmod a+x /root/files/billing/Billing
      \t&& tar -zxf unixODBC-so.tar.gz \t&& cp -Rf unixODBC /usr/local/ \t&& echo
      \"/usr/local/unixODBC/lib\">>/etc/ld.so.conf \t&& tar -zxf mysql-connector-odbc-5.3.10-linux-ubuntu14.04-x86-32bit.tar.gz
      \t&& ln -s /usr/local/unixODBC/lib/libodbc.so.2.0.0 /usr/lib/i386-linux-gnu/libodbc.so.1
      \t&& cd mysql-connector-odbc-5.3.10-linux-ubuntu14.04-x86-32bit \t&& cp bin/*
      /usr/local/bin \t&& cp lib/* /usr/local/lib \t&& ldconfig \t&& myodbc-installer
      -a -d -n \"MySQL ODBC 5.3 Driver\" -t \"Driver=/usr/local/lib/libmyodbc5w.so\"
      \t&& myodbc-installer -d -l"
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "3731"
    - "7384"
  - CmdLine:
    - init_gs
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - tail
    - -f
    - /dev/null
    Name: cmd
    PrependShell: false
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
