MetaArgs: null
Stages:
- BaseName: archlinux/base
  Commands:
  - Maintainer: Stefan Schallenberg aka nafets227 <infos@nafets.de>
    Name: maintainer
  - Labels:
    - Key: Description
      Value: '"Build Base container for Arch Linux Builds in Jenkins"'
    Name: label
  - Name: expose
    Ports:
    - "22"
  - CmdLine:
    - groupadd -r jenkins -g 900 &&     useradd -r -d /home/jenkins -u 900 -m -g jenkins
      jenkins &&     printf "jenkins\njenkins\n" | passwd jenkins
    Name: run
    PrependShell: true
  - CmdLine:
    - "pacman -Suy --noconfirm &&     pacman -S --needed --noconfirm         subversion
      \    \topenssh &&     /usr/bin/ssh-keygen -A &&     pacman -S --needed --noconfirm
      \        git         jre-openjdk         sudo &&     rm -rf       /var/tmp/*
      \      /usr/share/man/*       /var/cache/pacman/pkg/*       /var/lib/pacman/sync/*
      \      /README       /etc/pacman.d/mirrorlist.pacnew"
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - jenkins-slave
    - /usr/local/bin
  - CmdLine:
    - chown root:users /usr/local/bin/jenkins-slave &&     chmod 755 /usr/local/bin/jenkins-slave
    Name: run
    PrependShell: true
  - CmdLine:
    - /usr/local/bin/jenkins-slave
    Name: entrypoint
    PrependShell: false
  From:
    Image: archlinux/base
  Name: ""
  Platform: ""
  SourceCode: FROM archlinux/base
