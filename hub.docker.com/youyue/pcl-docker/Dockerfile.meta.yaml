MetaArgs: null
Stages:
- BaseName: nvidia/cuda:8.0-devel
  Commands:
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y   software-properties-common   ca-certificates   wget
    Name: run
    PrependShell: true
  - CmdLine:
    - wget -O - http://apt.llvm.org/llvm-snapshot.gpg.key | apt-key add -
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-add-repository "deb http://apt.llvm.org/xenial/ llvm-toolchain-xenial-4.0
      main"
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y   build-essential   g++   python-dev   autotools-dev   libicu-dev   libbz2-dev   libboost-all-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y    mc   lynx   libqhull*   pkg-config   libxmu-dev   libxi-dev   --no-install-recommends
      --fix-missing
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y    mesa-common-dev   cmake    git    mercurial   freeglut3-dev   libflann-dev   --no-install-recommends
      --fix-missing
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get autoremove
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt && hg clone -r 3.2 https://bitbucket.org/eigen/eigen eigen
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /opt/eigen/build
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/eigen/build && cmake ..
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/eigen/build && make install
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt && git clone git://vtk.org/VTK.git VTK
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/VTK && git checkout tags/v8.0.0
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/VTK && mkdir build
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/VTK/build && cmake -DCMAKE_BUILD_TYPE:STRING=Release -D VTK_RENDERING_BACKEND=OpenGL
      ..
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/VTK/build && make -j 32 && make install
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt && git clone https://github.com/Airsquire/pcl pcl
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/pcl && git checkout master
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /opt/pcl/build
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/pcl/build && cmake -D WITH_CUDA=true -D BUILD_GPU=true -D BUILD_visualization=true
      -D BUILD_CUDA=true -D VTK_DIR=/opt/VTK/build -D BUILD_2d=true ..
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/pcl/build && make -j 32 && make install
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt/pcl/build && make clean
    Name: run
    PrependShell: true
  From:
    Image: nvidia/cuda:8.0-devel
  Name: ""
  Platform: ""
  SourceCode: FROM nvidia/cuda:8.0-devel
