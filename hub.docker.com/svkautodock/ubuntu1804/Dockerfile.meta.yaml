MetaArgs: null
Stages:
- BaseName: ubuntu:18.04
  Commands:
  - Maintainer: SVK
    Name: maintainer
  - CmdLine:
    - apt update && apt install -y sudo vim wget net-tools openssh-server supervisor
      iputils-ping iproute2 nmap tzdata
    Name: run
    PrependShell: true
  - CmdLine:
    - useradd -s /bin/bash -m svkdokr && (echo "12345";echo "12345")|passwd svkdokr
      && usermod -aG sudo svkdokr && mkdir /svk-$(date +%d%b%Y) && ln -sf /usr/share/zoneinfo/Asia/Kolkata
      /etc/localtime && dpkg-reconfigure -f noninteractive tzdata
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "22"
  - CmdLine:
    - mkdir /var/run/supervisor && mkdir /var/run/sshd
    Name: run
    PrependShell: true
  - CmdLine:
    - echo [supervisord] > /etc/supervisor/conf.d/ssh.conf && echo 'nodaemon=true'
      >> /etc/supervisor/conf.d/ssh.conf && echo [program:sshd] >> /etc/supervisor/conf.d/ssh.conf
      && echo 'command=/usr/sbin/sshd -D' >> /etc/supervisor/conf.d/ssh.conf&& echo  >>
      /etc/supervisor/conf.d/supervisord.conf
    Name: run
    PrependShell: true
  - CmdLine:
    - /usr/bin/supervisord
    Name: entrypoint
    PrependShell: false
  From:
    Image: ubuntu:18.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:18.04
