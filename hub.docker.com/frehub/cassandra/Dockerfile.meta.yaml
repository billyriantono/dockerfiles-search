MetaArgs: null
Stages:
- BaseName: jboss/base-jdk:8
  Commands:
  - Name: expose
    Ports:
    - "7000"
    - "7001"
    - "9042"
    - "9160"
  - Env:
    - Key: CASSANDRA_VERSION
      Value: '"3.11.4"'
    - Key: PATH
      Value: '"/opt/apache-cassandra/bin:$PATH"'
    - Key: CASSANDRA_SEEDS
      Value: '""'
    - Key: CLUSTER_NAME
      Value: '""'
    - Key: CASSANDRA_DC
      Value: '"dc1"'
    - Key: CASSANDRA_RACK
      Value: '"rack1"'
    - Key: AUTHORIZER
      Value: '"AllowAllAuthorizer"'
    Name: env
  - Name: user
    User: root
  - CmdLine:
    - yum install -y -q bind-utils &&    yum clean all
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /opt &&\tcurl -LO http://apache.uvigo.es/cassandra/$CASSANDRA_VERSION/apache-cassandra-$CASSANDRA_VERSION-bin.tar.gz
      && ls -l &&    tar xvzf apache-cassandra-$CASSANDRA_VERSION-bin.tar.gz &&     rm
      apache-cassandra-$CASSANDRA_VERSION-bin.tar.gz &&     ln -s apache-cassandra-$CASSANDRA_VERSION
      apache-cassandra"
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - docker-entrypoint.sh
    - /opt/apache-cassandra/bin/
  - Chown: ""
    Name: add
    SourcesAndDest:
    - cassandra.yaml.template
    - /opt/apache-cassandra/conf/cassandra.yaml
  - CmdLine:
    - groupadd -r cassandra -g 312 &&     useradd -u 313 -r -g cassandra -d /opt/apache-cassandra
      -s /sbin/nologin cassandra &&     chown -R cassandra:cassandra /opt/apache-cassandra
      &&     chmod -R go+rw /opt/apache-cassandra
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /var/lib/cassandra/data && chmod +x /opt/apache-cassandra/bin/docker-entrypoint.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - chgrp -R 0 /var/lib/cassandra && chmod -R g=u /var/lib/cassandra
    Name: run
    PrependShell: true
  - CmdLine:
    - chgrp -R 0 /var/lib/cassandra/data && chmod -R g=u /var/lib/cassandra/data
    Name: run
    PrependShell: true
  - CmdLine:
    - chgrp -R 0 /opt/apache-cassandra && chmod -R g=u /opt/apache-cassandra
    Name: run
    PrependShell: true
  - Name: volume
    Volumes:
    - /var/lib/cassandra
  From:
    Image: jboss/base-jdk:8
  Name: ""
  Platform: ""
  SourceCode: FROM jboss/base-jdk:8
