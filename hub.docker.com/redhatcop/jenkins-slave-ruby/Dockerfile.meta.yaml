MetaArgs: null
Stages:
- BaseName: openshift/jenkins-slave-base-centos7
  Commands:
  - Env:
    - Key: RUBY_VERSION
      Value: "2.4"
    Name: env
  - Env:
    - Key: SUMMARY
      Value: '"Platform for building and running Ruby $RUBY_VERSION applications"'
    - Key: DESCRIPTION
      Value: '"Ruby $RUBY_VERSION available as docker container is a base platform
        for building and running various Ruby $RUBY_VERSION applications and frameworks.
        Ruby is the interpreted scripting language for quick and easy object-oriented
        programming. It has many features to process text files and to do system management
        tasks (as in Perl). It is simple, straight-forward, and extensible."'
    - Key: BASH_ENV
      Value: /opt/app-root/etc/scl_enable
    - Key: ENV
      Value: /opt/app-root/etc/scl_enable
    - Key: PATH
      Value: $PATH:/home/jenkins/bin
    - Key: PROMPT_COMMAND
      Value: '". /opt/app-root/etc/scl_enable"'
    - Key: HOME
      Value: /home/jenkins
    - Key: ORIGIN_CLIENT
      Value: https://github.com/openshift/origin/releases/download/v3.6.0/openshift-origin-client-tools-v3.6.0-c4dd4cf-linux-64bit.tar.gz
    Name: env
  - Labels:
    - Key: summary
      Value: '"$SUMMARY"'
    - Key: description
      Value: '"$DESCRIPTION"'
    - Key: io.k8s.description
      Value: '"$DESCRIPTION"'
    - Key: io.k8s.display-name
      Value: '"Ruby 2.4"'
    - Key: io.openshift.expose-services
      Value: '"8080:http"'
    - Key: io.openshift.tags
      Value: '"builder,ruby,ruby24,rh-ruby24"'
    - Key: com.redhat.component
      Value: '"rh-ruby24-docker"'
    - Key: name
      Value: '"centos/ruby-24-centos7"'
    - Key: version
      Value: '"2.4"'
    - Key: release
      Value: '"1"'
    - Key: maintainer
      Value: '"SoftwareCollections.org <sclorg@redhat.com>"'
    Name: label
  - CmdLine:
    - yum install -y centos-release-scl &&     yum-config-manager --enable centos-sclo-rh-testing
      &&     INSTALL_PKGS="rh-ruby24 rh-ruby24-ruby-devel rh-ruby24-rubygem-rake rh-ruby24-rubygem-bundler
      rh-nodejs6 autoconf automake" &&     yum install -y --setopt=tsflags=nodocs
      $INSTALL_PKGS && rpm -V $INSTALL_PKGS &&     yum remove -y origin-clients &&     yum
      clean all -y
    Name: run
    PrependShell: true
  - CmdLine:
    - wget -O $HOME/origin-client.tar.gz $ORIGIN_CLIENT &&     tar -xzf $HOME/origin-client.tar.gz
      -C $HOME &&     cp $HOME/openshift-origin-client-tools-v3.6.0-c4dd4cf-linux-64bit/oc
      /usr/bin/oc &&     rm -rf origin-client*
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./root/
    - /
  - CmdLine:
    - chown -R 1001:0 /opt/app-root && chmod -R ug+rwx /opt/app-root
    Name: run
    PrependShell: true
  From:
    Image: openshift/jenkins-slave-base-centos7
  Name: ""
  Platform: ""
  SourceCode: FROM openshift/jenkins-slave-base-centos7
