MetaArgs:
- DefaultValue: 1.15.0
  Key: VERSION
  ProvidedValue: null
  Value: 1.15.0
- DefaultValue: ${VERSION}
  Key: HYPERKUBE_VERS
  ProvidedValue: null
  Value: ${VERSION}
- DefaultValue: 0.21.0
  Key: CONSUL_TEMPLATE_VERS
  ProvidedValue: null
  Value: 0.21.0
- DefaultValue: alpine-3.10_glibc-2.29
  Key: ALPINE_VERS
  ProvidedValue: null
  Value: alpine-3.10_glibc-2.29
Stages:
- As: hyperkube
  BaseName: gcr.io/google-containers/hyperkube-amd64:v${HYPERKUBE_VERS}
  Commands: null
  From:
    Image: gcr.io/google-containers/hyperkube-amd64:v${HYPERKUBE_VERS}
  Name: hyperkube
  Platform: ""
  SourceCode: FROM gcr.io/google-containers/hyperkube-amd64:v${HYPERKUBE_VERS} AS
    hyperkube
- As: consul-template
  BaseName: hashicorp/consul-template:${CONSUL_TEMPLATE_VERS}-scratch
  Commands: null
  From:
    Image: hashicorp/consul-template:${CONSUL_TEMPLATE_VERS}-scratch
  Name: consul-template
  Platform: ""
  SourceCode: FROM hashicorp/consul-template:${CONSUL_TEMPLATE_VERS}-scratch AS consul-template
- BaseName: frolvlad/alpine-glibc:${ALPINE_VERS}
  Commands:
  - Chown: ""
    From: hyperkube
    Name: copy
    SourcesAndDest:
    - /hyperkube
    - /usr/local/bin
  - Chown: ""
    From: consul-template
    Name: copy
    SourcesAndDest:
    - /consul-template
    - /usr/local/bin
  - CmdLine:
    - ln -s /usr/local/bin/consul-template /consul-template     && ln -s /usr/local/bin/hyperkube
      /hyperkube     && ln -s /usr/local/bin/hyperkube /apiserver     && ln -s /usr/local/bin/hyperkube
      /cloud-controller-manager     && ln -s /usr/local/bin/hyperkube /controller-manager     &&
      ln -s /usr/local/bin/hyperkube /kubectl     && ln -s /usr/local/bin/hyperkube
      /kubelet     && ln -s /usr/local/bin/hyperkube /proxy     && ln -s /usr/local/bin/hyperkube
      /scheduler     && ln -s /usr/local/bin/hyperkube /usr/local/bin/cloud-controller-manager     &&
      ln -s /usr/local/bin/hyperkube /usr/local/bin/kube-apiserver     && ln -s /usr/local/bin/hyperkube
      /usr/local/bin/kube-controller-manager     && ln -s /usr/local/bin/hyperkube
      /usr/local/bin/kube-proxy     && ln -s /usr/local/bin/hyperkube /usr/local/bin/kube-scheduler     &&
      ln -s /usr/local/bin/hyperkube /usr/local/bin/kubectl     && ln -s /usr/local/bin/hyperkube
      /usr/local/bin/kubelet
    Name: run
    PrependShell: true
  - CmdLine:
    - 'printf "\n### Check versions, permissions and dependencies of binaries ###\n\n"     &&
      echo "Alpine Linux: $(cat /etc/alpine-release)"     && consul-template -version     &&
      hyperkube kubelet --version'
    Name: run
    PrependShell: true
  - Key: VERSION
    Name: arg
    Value: null
  - Key: BUILD_DATE
    Name: arg
    Value: null
  - Key: VCS_REF
    Name: arg
    Value: null
  - Labels:
    - Key: maintainer
      Value: '"Mark BinLab <mark.binlab@gmail.com>"'
    - Key: org.label-schema.build-date
      Value: ${BUILD_DATE}
    - Key: org.label-schema.name
      Value: '"hyperkube"'
    - Key: org.label-schema.description
      Value: '"Hyperkube based on Alpine Linux with Consul-template"'
    - Key: org.label-schema.usage
      Value: '"https://github.com/binlab/docker-hyperkube/blob/v${VERSION}/README.md"'
    - Key: org.label-schema.url
      Value: '"https://github.com/binlab/docker-hyperkube"'
    - Key: org.label-schema.vcs-ref
      Value: ${VCS_REF}
    - Key: org.label-schema.vcs-url
      Value: '"git@github.com:binlab/docker-hyperkube.git"'
    - Key: org.label-schema.vendor
      Value: '"BinLab"'
    - Key: org.label-schema.version
      Value: ${VERSION}
    - Key: org.label-schema.schema-version
      Value: '"1.0"'
    Name: label
  From:
    Image: frolvlad/alpine-glibc:${ALPINE_VERS}
  Name: ""
  Platform: ""
  SourceCode: FROM frolvlad/alpine-glibc:${ALPINE_VERS}
