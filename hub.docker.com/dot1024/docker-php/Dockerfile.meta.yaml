MetaArgs: null
Stages:
- BaseName: php:7.2.25-fpm-stretch
  Commands:
  - Env:
    - Key: PHALCON_VERSION
      Value: 3.4.5
    Name: env
  - Env:
    - Key: PHALCON_DEPS
      Value: autoconf g++ make git
    Name: env
  - Env:
    - Key: PHP_EXT_DEPS
      Value: libmagickwand-dev
    Name: env
  - CmdLine:
    - set -eux;     apt-get update;     apt-get install -y --no-install-recommends
      ${PHALCON_DEPS} ${PHP_EXT_DEPS};     rm -rf /var/lib/apt/lists/*;     git clone
      -b v${PHALCON_VERSION} https://github.com/phalcon/cphalcon.git /usr/src/php/ext/phalcon;     cd
      /usr/src/php/ext/phalcon/build;     bash install --arch 64bits;     docker-php-ext-enable
      phalcon;     rm -rf /usr/src/php/ext/phalcon;     pecl update-channels;     docker-php-ext-install
      pdo_mysql;     docker-php-ext-enable pdo_mysql;     pecl install redis;     docker-php-ext-enable
      redis;     pecl install imagick;     docker-php-ext-enable imagick;     pecl
      install swoole;     docker-php-ext-enable swoole;     apt-get purge -y --auto-remove
      ${PHALCON_DEPS};     rm -rf /tmp/* ~/.pearrc
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "9000"
  - CmdLine:
    - php-fpm
    Name: cmd
    PrependShell: false
  From:
    Image: php:7.2.25-fpm-stretch
  Name: ""
  Platform: ""
  SourceCode: FROM php:7.2.25-fpm-stretch
