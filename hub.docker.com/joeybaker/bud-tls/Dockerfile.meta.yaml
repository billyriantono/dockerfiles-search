MetaArgs: null
Stages:
- BaseName: node:6
  Commands:
  - Maintainer: Joey Baker <joey@byjoeybaker.com>
    Name: maintainer
  - Env:
    - Key: BUD_VERSION
      Value: 4.0.3
    Name: env
  - CmdLine:
    - apt-get update -qq   && apt-get install build-essential net-tools -y   && mkdir
      /opt/bud-install   && cd /opt/bud-install   && git clone --depth 1 https://github.com/indutny/bud   &&
      cd bud   && git checkout v$BUD_VERSION   && git submodule update --init --recursive   &&
      git clone https://chromium.googlesource.com/external/gyp.git tools/gyp   &&
      ./gyp_bud   && make -C out/   && mkdir -p /opt/bud/   && cp -rf out/Release/bud
      /opt/bud/   && cd /   && rm -rf /opt/bud-install   && apt-get purge build-essential
      -y   && apt-get autoremove -y
    Name: run
    PrependShell: true
  - CmdLine:
    - adduser --system --shell=/bin/bash --group --gecos "" bud
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /opt/bud-logger-install   && cd /opt/bud-logger-install   && apt-get install
      build-essential -y   && git clone --recursive git://github.com/indutny/bud-logger   &&
      cd bud-logger   && ./gyp_logger   && make -C out/ -j24   && cp -rf ./out/Release/logger.bud
      /opt/bud/   && cd /   && rm -rf /opt/bud-logger-install   && apt-get purge build-essential
      -y   && apt-get autoremove -y
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./start.sh
    - /opt/bud/start.sh
  - CmdLine:
    - chmod 770 /opt/bud/start.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - /opt/bud/start.sh
    Name: entrypoint
    PrependShell: false
  - Name: expose
    Ports:
    - "443"
  From:
    Image: node:6
  Name: ""
  Platform: ""
  SourceCode: FROM      node:6
