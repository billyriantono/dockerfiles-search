MetaArgs: null
Stages:
- BaseName: ubuntu:trusty
  Commands:
  - Maintainer: Michael Perry <lmperry@stanford.edu>
    Name: maintainer
  - CmdLine:
    - apt-get update && apt-get -y install     python     python-dev     python-pip     jq     wget
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install   numpy==1.15.1   pydicom==0.9.9   python-dateutil==2.6.0   pytz==2017.2   tzlocal==1.4   nibabel==2.2.1
    Name: run
    PrependShell: true
  - Env:
    - Key: FLYWHEEL
      Value: /flywheel/v0
    Name: env
  - Name: workdir
    Path: ${FLYWHEEL}
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - run
    - run_classifier
    - manifest.json
    - ${FLYWHEEL}/
  - CmdLine:
    - adduser --disabled-password --gecos "Flywheel User" flywheel
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - classification_from_label.py
    - ${FLYWHEEL}/classification_from_label.py
  - CmdLine:
    - chmod +x ${FLYWHEEL}/run* && chown flywheel ${FLYWHEEL}/classification_from_label.py
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - dicom-mr-classifier.py
    - ${FLYWHEEL}/dicom-mr-classifier.py
  - CmdLine:
    - /flywheel/v0/run
    Name: entrypoint
    PrependShell: false
  From:
    Image: ubuntu:trusty
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:trusty
