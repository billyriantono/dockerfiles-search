MetaArgs: null
Stages:
- BaseName: centos:7
  Commands:
  - CmdLine:
    - yum install -y java-1.8.0-openjdk java-1.8.0-openjdk-devel
    Name: run
    PrependShell: true
  - CmdLine:
    - yum-config-manager --add-repo http://public-repo-1.hortonworks.com/HDP/centos7/3.x/updates/3.1.0.0/hdp.repo
    Name: run
    PrependShell: true
  - CmdLine:
    - yum install -y ntp && chkconfig ntpd on
    Name: run
    PrependShell: true
  - Env:
    - Key: STORM_CONF_DIR
      Value: /etc/storm/conf
    - Key: STORM_DATA_DIR
      Value: /etc/storm/data
    - Key: STORM_LOG_DIR
      Value: /etc/storm/logs
    Name: env
  - CmdLine:
    - groupadd -r storm;     useradd -r -g storm storm
    Name: run
    PrependShell: true
  - CmdLine:
    - yum install -y storm;     mkdir -p "$STORM_CONF_DIR" "$STORM_DATA_DIR" "$STORM_LOG_DIR";     chown
      -R storm:storm "$STORM_CONF_DIR" "$STORM_DATA_DIR" "$STORM_LOG_DIR";     chmod
      -R 755 /etc/storm;     rm "$STORM_CONF_DIR/storm.yaml"
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - /Storm/Docker/docker-entrypoint.sh
    - /docker-entrypoint.sh
  - CmdLine:
    - chmod
    - +x
    - /docker-entrypoint.sh
    Name: run
    PrependShell: false
  - CmdLine:
    - sh
    - /docker-entrypoint.sh
    Name: entrypoint
    PrependShell: false
  From:
    Image: centos:7
  Name: ""
  Platform: ""
  SourceCode: FROM centos:7
