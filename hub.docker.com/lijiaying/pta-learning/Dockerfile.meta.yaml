MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: lijiaying <lijiaying1989@gmail.com>
    Name: maintainer
  - CmdLine:
    - "apt-get update && \tapt-get -y --no-install-recommends install \tg++ m4 \tocaml
      libextlib-ocaml libextlib-ocaml-dev libgmp-ocaml libgmp-ocaml-dev \tlibgmp-dev
      libppl-dev openmpi-bin openmpi-common libopenmpi-dev oasis \tgraphviz plotutils
      wget git bzip2 make python \tcmake libgsl0-dev libz3-dev"
    Name: run
    PrependShell: true
  - CmdLine:
    - "wget http://bugseng.com/products/ppl/download/ftp/releases/1.2/ppl-1.2.tar.bz2
      && \ttar -xjvf ppl-1.2.tar.bz2 && \trm -rf ppl-1.2.tar.bz2 && \tcd ppl-1.2 &&
      \t./configure --prefix=/usr && \tcd interfaces/OCaml/ && \tmake && \tmake install"
    Name: run
    PrependShell: true
  - CmdLine:
    - "mkdir -p /imitator && \tcd /imitator && \tgit config --global http.sslVerify
      false && \tgit clone https://github.com/etienneandre/imitator.git latest &&
      \tcp -rf latest old"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /imitator/latest && \tcp METAS/* /usr/lib/ocaml/METAS/ && \tsh build.sh
      && \tln -s /imitator/latest/bin/imitator /bin/imitator-latest"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /imitator/old && \tgit checkout 2a45bb9 && \tcp METAS/* /usr/lib/ocaml/METAS/
      && \tsh compile.sh && \tln -s /imitator/old/bin/imitator /bin/imitator-old"
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - .
    - /pta-learning
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
