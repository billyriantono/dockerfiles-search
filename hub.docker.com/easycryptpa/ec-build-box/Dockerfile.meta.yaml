MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: Pierre-Yves Strub <pierre-yves@strub.nu>
    Name: maintainer
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - CmdLine:
    - "apt-get -q -y update && \tapt-get -q -y dist-upgrade && \tapt-get -q -y install
      sudo m4 rsync git && \tapt-get -q -y --no-install-recommends install ocaml-nox
      opam aspcud && \tapt-get -q -y clean"
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - sudo-ci
    - /etc/sudoers.d/ci
  - CmdLine:
    - adduser --disabled-password --gecos "CI" ci
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod 440 /etc/sudoers.d/ci
    Name: run
    PrependShell: true
  - Name: user
    User: ci
  - Name: workdir
    Path: /home/ci
  - Env:
    - Key: OPAMYES
      Value: "true"
    Name: env
  - Env:
    - Key: OPAMVERBOSE
      Value: "0"
    Name: env
  - Env:
    - Key: OPAMJOBS
      Value: "2"
    Name: env
  - CmdLine:
    - "opam init -a && \topam remote add easycrypt https://github.com/EasyCrypt/opam.git
      && \topam install depext && opam depext easycrypt ec-provers && \topam install
      ec-provers && \topam install --deps-only easycrypt && \trm -rf .opam/packages.dev/*
      && sudo apt-get -q -y clean"
    Name: run
    PrependShell: true
  - CmdLine:
    - opam config exec -- why3 config --detect
    Name: run
    PrependShell: true
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
