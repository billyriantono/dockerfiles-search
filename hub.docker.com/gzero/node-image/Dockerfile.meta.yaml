MetaArgs: null
Stages:
- BaseName: node:12-alpine
  Commands:
  - Env:
    - Key: HELM_VERSION
      Value: v3.0.0-rc.2
    Name: env
  - Env:
    - Key: KUBERNETES_VERSION
      Value: v1.15.0
    Name: env
  - CmdLine:
    - apk add --update --no-cache bash docker git vim curl gnupg make g++ wget htop
      openssh python2 shadow sudo
    Name: run
    PrependShell: true
  - CmdLine:
    - npm install -g yarn@1.19.1 &&   yarn global add @vue/cli@3.10.0
    Name: run
    PrependShell: true
  - CmdLine:
    - usermod -aG wheel node &&   sed --in-place 's/^#\s*\(%wheel\s\+ALL=(ALL)\s\+NOPASSWD:\s\+ALL\)/\1/'
      /etc/sudoers
    Name: run
    PrependShell: true
  - CmdLine:
    - 'mkdir /.yarn-cache &&   chown node:node /.yarn-cache &&   printf "{\n\"useTaobaoRegistry\":
      false,\n\"packageManager\": \"yarn\"\n}" > /home/node/.vuerc  &&   chown node:node
      /home/node/.vuerc &&   wget https://get.helm.sh/helm-${HELM_VERSION}-linux-amd64.tar.gz
      &&   tar -zxvf helm-${HELM_VERSION}-linux-amd64.tar.gz &&   mv linux-amd64/helm
      /usr/local/bin/helm &&   rm -rf helm-${HELM_VERSION}-linux-amd64.tar.gz linux-amd64
      &&   curl -sSL -o /usr/bin/kubectl "https://storage.googleapis.com/kubernetes-release/release/${KUBERNETES_VERSION}/bin/linux/amd64/kubectl"
      &&   chmod +x /usr/bin/kubectl'
    Name: run
    PrependShell: true
  - Name: user
    User: node
  - CmdLine:
    - yarn config set cache-folder /.yarn-cache
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /app
  - CmdLine:
    - yarn
    - start
    Name: cmd
    PrependShell: false
  From:
    Image: node:12-alpine
  Name: ""
  Platform: ""
  SourceCode: FROM node:12-alpine
