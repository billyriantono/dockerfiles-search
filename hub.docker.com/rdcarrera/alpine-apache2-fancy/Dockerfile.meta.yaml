MetaArgs: null
Stages:
- BaseName: alpine:latest
  Commands:
  - Labels:
    - Key: maintener
      Value: '"Ruben D. Carrera <@rdcarrera>"'
    Name: label
  - Labels:
    - Key: version
      Value: "1.1"
    Name: label
  - Key: ARG_DOCKER_WORKDIR
    Name: arg
    Value: '"/fancy"'
  - Env:
    - Key: DOCKER_WORKDIR
      Value: ${ARG_DOCKER_WORKDIR}
    Name: env
  - Env:
    - Key: FANCY_FOLDER
      Value: '"/fancy/mount"'
    - Key: FANCY_FOOT_ENABLE
      Value: '"no"'
    - Key: DOCKER_EXPOSE_PORT
      Value: '"8080"'
    - Key: FANCY_FOOT_MESG
      Value: '"Fancy Index generated by alpine-apache2-fancy"'
    - Key: FANCY_FOOT_URL
      Value: '"https://github.com/rdcarrera/alpine-apache2-fancy"'
    - Key: DOCKER_USER
      Value: apache
    Name: env
  - Name: volume
    Volumes:
    - ${FANCY_FOLDER}
  - CmdLine:
    - apk add --update apache2 apache2-ctl     && rm -rf /var/www/localhost/htdocs     &&
      chmod 777 /run/apache2     && ln -s $FANCY_FOLDER /var/www/localhost/htdocs
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - ${DOCKER_EXPOSE_PORT}
  - Chown: ""
    Name: add
    SourcesAndDest:
    - fancy/
    - ${DOCKER_WORKDIR}/
  - Chown: ""
    Name: add
    SourcesAndDest:
    - icons.tar.xz
    - ${DOCKER_WORKDIR}/html/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./docker-entrypoint.sh
    - /
  - CmdLine:
    - chmod 777 /docker-entrypoint.sh     && chmod -R 777 ${DOCKER_WORKDIR}/html
    Name: run
    PrependShell: true
  - Name: user
    User: $DOCKER_USER
  - Name: workdir
    Path: $DOCKER_WORKDIR
  - CmdLine:
    - /docker-entrypoint.sh
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - /usr/sbin/apachectl
    - -f
    - /fancy/cnf/apache2.conf
    - -D
    - FOREGROUND
    Name: cmd
    PrependShell: false
  From:
    Image: alpine:latest
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:latest
