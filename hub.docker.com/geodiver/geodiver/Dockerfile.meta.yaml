MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: Ismail Moghul <ismail.moghul@gmail.com>
    Name: maintainer
  - Labels:
    - Key: Description
      Value: '"GEODiver"'
    - Key: Version
      Value: '"1.0.0"'
    Name: label
  - Env:
    - Key: USER
      Value: root
    Name: env
  - Env:
    - Key: TMPDIR
      Value: /tmp
    Name: env
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y build-essential autoconf automake curl wget git ssh python
      python-dev nodejs nodejs-dev npm
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y libltdl-dev curl libcurl3 libxml2 libxml2-dev libcairo2 libcairo2-dev
      libxt-dev libxaw7 libxaw7-dev libssl-dev libcurl4-openssl-dev jq
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y ruby ruby-dev r-base r-base-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - npm install -g bionode-ncbi
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "r <- getOption('repos'); r['CRAN'] <- 'http://mirrors.ebi.ac.uk/CRAN/';
      options(repos = r);" > ~/.Rprofile
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - .
    - /app
  - Name: workdir
    Path: /app
  - CmdLine:
    - gem install bundler
    Name: run
    PrependShell: true
  - CmdLine:
    - bundle install
    Name: run
    PrependShell: true
  - CmdLine:
    - passenger start --envvar GOOGLE_KEY=$GOOGLE_KEY --envvar GOOGLE_SECRET=$GOOGLE_SECRET
      -p 9292 -e production --sticky-sessions --pool-idle-time 1000
    Name: cmd
    PrependShell: true
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
