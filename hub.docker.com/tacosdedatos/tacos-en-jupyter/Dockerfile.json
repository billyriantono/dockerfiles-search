{
  "MetaArgs": [
    {
      "Key": "BASE_CONTAINER",
      "DefaultValue": "jupyter/datascience-notebook:7f1482f5a136",
      "ProvidedValue": null,
      "Value": "jupyter/datascience-notebook:7f1482f5a136"
    }
  ],
  "Stages": [
    {
      "Name": "",
      "BaseName": "$BASE_CONTAINER",
      "SourceCode": "FROM $BASE_CONTAINER",
      "Platform": "",
      "From": {
        "Image": "$BASE_CONTAINER"
      },
      "Commands": [
        {
          "Labels": [
            {
              "Key": "maintainer",
              "Value": "\"chekos \u003csergio@cimarron.io\u003e\""
            }
          ],
          "Name": "label"
        },
        {
          "Name": "user",
          "User": "$NB_UID"
        },
        {
          "CmdLine": [
            "conda install -yq -c conda-forge nbrsessionproxy"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "conda install -c conda-forge --quiet --yes 'osmnx' 'gdal' 'poppler' 'numpy' 'scipy' 'fiona'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "conda install -c conda-forge --quiet --yes     'jupyterlab=0.35.*'     'altair'     'jupytext'     'geopandas==0.4.0'     'gdal'     'fiona'     'h5py'     'psycopg2'     'vega'     'vega_datasets' \u0026\u0026     conda remove --quiet --yes --force qt pyqt \u0026\u0026     conda clean -typsy \u0026\u0026     pip install jupyterlab_templates \u0026\u0026     jupyter labextension install jupyterlab_templates \u0026\u0026     jupyter serverextension enable --py jupyterlab_templates --sys-prefix \u0026\u0026     jupyter labextension install @jupyter-widgets/jupyterlab-manager@^0.38.0 \u0026\u0026     jupyter labextension install @jupyterlab/hub-extension@^0.12.0 \u0026\u0026     jupyter lab build \u0026\u0026     jupyter notebook --generate-config -y \u0026\u0026     git clone https://github.com/tacos-de-datos/planillas_jupyter.git /home/$NB_USER/.jupyter/planillas \u0026\u0026     echo \"c.JupyterLabTemplates.template_dirs = ['/home/$NB_USER/.jupyter/planillas/planillas']\" \u003e\u003e /home/$NB_USER/.jupyter/jupyter_notebook_config.py \u0026\u0026     echo \"c.JupyterLabTemplates.include_default = True\" \u003e\u003e /home/$NB_USER/.jupyter/jupyter_notebook_config.py \u0026\u0026     npm cache clean --force \u0026\u0026     rm -rf $CONDA_DIR/share/jupyter/lab/staging \u0026\u0026     rm -rf /home/$NB_USER/.cache/yarn \u0026\u0026     rm -rf /home/$NB_USER/.node-gyp \u0026\u0026     fix-permissions $CONDA_DIR \u0026\u0026     fix-permissions /home/$NB_USER"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "user",
          "User": "root"
        },
        {
          "CmdLine": [
            "apt install wget"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "apt-get update \u0026\u0026     apt-get -y install libssl1.0.0 libssl-dev \u0026\u0026     curl --silent -L --fail https://download2.rstudio.org/rstudio-server-1.1.419-amd64.deb \u003e /tmp/rstudio.deb \u0026\u0026     echo '24cd11f0405d8372b4168fc9956e0386 /tmp/rstudio.deb' | md5sum -c - \u0026\u0026     apt-get install -y /tmp/rstudio.deb \u0026\u0026     rm /tmp/rstudio.deb \u0026\u0026     apt-get clean"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Env": [
            {
              "Key": "PATH",
              "Value": "$PATH:/usr/lib/rstudio-server/bin"
            }
          ],
          "Name": "env"
        },
        {
          "Name": "user",
          "User": "$NB_UID"
        }
      ]
    }
  ]
}