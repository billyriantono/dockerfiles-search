MetaArgs: null
Stages:
- BaseName: openjdk:11
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"mail@philipfrank.de"'
    Name: label
  - Key: mps_version
    Name: arg
    Value: "2019.3"
  - Key: mps_release
    Name: arg
    Value: "2019.3"
  - Key: jbr_version
    Name: arg
    Value: "11_0_4"
  - Key: jbr_build
    Name: arg
    Value: b520.11
  - CmdLine:
    - apt-get clean && apt-get update && apt-get upgrade -y
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y --no-install-recommends ant genisoimage
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -Lso /tmp/mps.zip https://download.jetbrains.com/mps/$mps_version/MPS-$mps_release.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip -q /tmp/mps.zip -d /tmp
    Name: run
    PrependShell: true
  - CmdLine:
    - mv "/tmp/MPS $mps_version" /mps
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /jre
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /jre/win
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -Lso /tmp/jbr-win.tar.gz https://bintray.com/jetbrains/intellij-jbr/download_file?file_path=jbr-$jbr_version-windows-x64-$jbr_build.tar.gz
    Name: run
    PrependShell: true
  - CmdLine:
    - tar -C /jre/win -xf /tmp/jbr-win.tar.gz
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /jre/osx
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -Lso /tmp/jbr-osx.tar.gz https://bintray.com/jetbrains/intellij-jbr/download_file?file_path=jbr-$jbr_version-osx-x64-$jbr_build.tar.gz
    Name: run
    PrependShell: true
  - CmdLine:
    - tar -C /jre/osx -xf /tmp/jbr-osx.tar.gz
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod -R a+r /jre
    Name: run
    PrependShell: true
  - CmdLine:
    - groupadd -r mps && useradd --no-log-init -r -g mps mps
    Name: run
    PrependShell: true
  - Name: user
    User: mps:mps
  - Name: workdir
    Path: /home/mps
  From:
    Image: openjdk:11
  Name: ""
  Platform: ""
  SourceCode: FROM openjdk:11
