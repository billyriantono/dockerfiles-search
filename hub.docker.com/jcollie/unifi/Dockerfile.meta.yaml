MetaArgs: null
Stages:
- BaseName: registry.fedoraproject.org/fedora:28
  Commands:
  - Env:
    - Key: LANG
      Value: C.UTF-8
    Name: env
  - CmdLine:
    - dnf -y update && rm -rf /usr/share/doc /usr/share/man /var/cache/dnf
    Name: run
    PrependShell: true
  - CmdLine:
    - dnf -y install java-1.8.0-openjdk-headless unzip && rm -rf /usr/share/doc /usr/share/man
      /var/cache/dnf
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /data /logs /opt/UniFi /opt/UniFi/bin && ln -s /data /opt/UniFi/data &&
      ln -s /logs /opt/UniFi/logs
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://dl.ubnt.com/unifi/5.8.24/UniFi.unix.zip
    - /tmp/UniFi.unix.zip
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://dl.ubnt.com/unifi/5.8.24/unifi_sh_api
    - /usr/local/bin/unifi_sh_api
  - Chown: ""
    Name: add
    SourcesAndDest:
    - entrypoint.sh
    - /opt/UniFi/bin/entrypoint.sh
  - CmdLine:
    - chmod a+x /usr/local/bin/unifi_sh_api /opt/UniFi/bin/entrypoint.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip /tmp/UniFi.unix.zip -d /opt
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -rf /tmp/*
    Name: run
    PrependShell: true
  - Name: volume
    Volumes:
    - /data
  - Name: volume
    Volumes:
    - /logs
  - Name: expose
    Ports:
    - 1900/udp
  - Name: expose
    Ports:
    - 3478/udp
  - Name: expose
    Ports:
    - 5353/udp
  - Name: expose
    Ports:
    - 6789/tcp
  - Name: expose
    Ports:
    - 8080/tcp
  - Name: expose
    Ports:
    - 8443/tcp
  - Name: expose
    Ports:
    - 8843/tcp
  - Name: expose
    Ports:
    - 8880/tcp
  - Name: expose
    Ports:
    - 10001/udp
  - Name: workdir
    Path: /opt/UniFi
  - CmdLine:
    - /opt/UniFi/bin/entrypoint.sh
    Name: cmd
    PrependShell: false
  From:
    Image: registry.fedoraproject.org/fedora:28
  Name: ""
  Platform: ""
  SourceCode: FROM registry.fedoraproject.org/fedora:28
