MetaArgs: null
Stages:
- BaseName: rundeck/rundeck:3.0.17
  Commands:
  - Maintainer: David Kirstein <dak@batix.com>
    Name: maintainer
  - Env:
    - Key: ANSIBLE_HOST_KEY_CHECKING
      Value: "false"
    Name: env
  - Env:
    - Key: RDECK_BASE
      Value: /home/rundeck
    Name: env
  - Env:
    - Key: MANPATH
      Value: ${MANPATH}:${RDECK_BASE}/docs/man
    Name: env
  - Env:
    - Key: PATH
      Value: ${PATH}:${RDECK_BASE}/tools/bin
    Name: env
  - Env:
    - Key: PROJECT_BASE
      Value: ${RDECK_BASE}/projects/F5Online-Dev
    Name: env
  - CmdLine:
    - sudo apt-get -y update   && sudo apt-get -y --no-install-recommends install
      nano ca-certificates python3-pip sshpass   && sudo -H pip3 --no-cache-dir install
      --upgrade pip setuptools   && sudo -H pip3 --no-cache-dir install ansible==2.7.9   &&
      sudo -H pip3 --no-cache-dir install f5-sdk bigsuds netaddr objectpath isoparser
      lxml deepdiff   && sudo rm -rf /var/lib/apt/lists/*   && mkdir -p ${PROJECT_BASE}/etc/   &&
      sudo mkdir /etc/ansible
    Name: run
    PrependShell: true
  - Chown: rundeck:rundeck
    From: ""
    Name: copy
    SourcesAndDest:
    - docker/project.properties
    - ${PROJECT_BASE}/etc/
  - Chown: rundeck:rundeck
    From: ""
    Name: copy
    SourcesAndDest:
    - build/libs/ansible-plugin-*.jar
    - ${RDECK_BASE}/libext/
  From:
    Image: rundeck/rundeck:3.0.17
  Name: ""
  Platform: ""
  SourceCode: FROM rundeck/rundeck:3.0.17
