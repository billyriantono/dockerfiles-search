FROM alpine:edge
LABEL maintainer "Ilya Glotov <ilya@ilyaglotov.com>"

RUN apk add --update --no-cache --virtual .deps build-base \
                                                libffi-dev \
                                                py-pip \
                                                python-dev \
                                                git \
  && apk add --no-cache openssl-dev \
                        python \
  && pip install paramiko \
  && git clone --branch=master \
               --depth=1 \
               https://github.com/Rhynorater/CVE-2018-15473-Exploit.git \
               cve-2018-15473 \
  && apk del .deps

WORKDIR /cve-2018-15473

RUN chmod +x sshUsernameEnumExploit.py

ENTRYPOINT ["python", "sshUsernameEnumExploit.py"]
