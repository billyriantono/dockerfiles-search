MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - CmdLine:
    - apt-get update -y &&     apt-get install -y --no-install-recommends     python3-dev
      python3-pip python3-wheel python3-setuptools     git cmake sudo build-essential
      wget nano curl     libblas3 libblas-dev libboost-dev     zlib1g-dev mecab libmecab-dev
      mecab-ipadic-utf8 swig xz-utils file    &&     rm -rf /var/lib/apt/lists/* /var/cache/apt/archives/*
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -s /usr/bin/python3 /usr/local/bin/python &&     ln -s /usr/bin/pip3 /usr/local/bin/pip
      &&     pip install --upgrade pip
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install jupyter matplotlib pandas scipy scikit-learn seaborn
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install beautifulsoup4 lxml tqdm
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install gensim cython nltk
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install -e git+https://github.com/SamuraiT/mecab-python3#egg=mecab-python3
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone --depth 1 https://github.com/neologd/mecab-ipadic-neologd.git &&     cd
      mecab-ipadic-neologd &&     ./bin/install-mecab-ipadic-neologd -n -y
    Name: run
    PrependShell: true
  - Env:
    - Key: JUMANPP_VERSION
      Value: "1.02"
    Name: env
  - Env:
    - Key: JUMAN_VERSION
      Value: "7.01"
    Name: env
  - Env:
    - Key: KNP_VERSION
      Value: "4.19"
    Name: env
  - Env:
    - Key: LD_LIBRARY_PATH
      Value: $LD_LIBRARY_PATH:/usr/local/lib
    Name: env
  - CmdLine:
    - wget http://lotus.kuee.kyoto-u.ac.jp/nl-resource/jumanpp/jumanpp-${JUMANPP_VERSION}.tar.xz
      &&     tar xJvf jumanpp-${JUMANPP_VERSION}.tar.xz &&     cd jumanpp-${JUMANPP_VERSION}/
      &&     ./configure &&     make &&     make install &&     rm -rf /jumanpp-${JUMANPP_VERSION}.tar.xz
      &&     rm -rf /var/cache/*
    Name: run
    PrependShell: true
  - CmdLine:
    - wget http://nlp.ist.i.kyoto-u.ac.jp/nl-resource/juman/juman-${JUMAN_VERSION}.tar.bz2
      &&     tar jxvf juman-${JUMAN_VERSION}.tar.bz2 &&     cd juman-${JUMAN_VERSION}
      &&     ./configure &&     make &&     make install &&     rm -rf juman-${JUMAN_VERSION}.tar.bz2
      &&     rm -rf /var/cache/*
    Name: run
    PrependShell: true
  - CmdLine:
    - wget http://nlp.ist.i.kyoto-u.ac.jp/nl-resource/knp/knp-${KNP_VERSION}.tar.bz2
      &&     tar jxvf knp-${KNP_VERSION}.tar.bz2 &&     cd knp-${KNP_VERSION} &&     ./configure
      &&     make &&     make install &&     rm -rf /knp-${KNP_VERSION}.tar.bz2 &&     rm
      -rf /var/cache/*
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install six pyknp
    Name: run
    PrependShell: true
  - CmdLine:
    - pip uninstall -y tornado
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install tornado==5.1.1
    Name: run
    PrependShell: true
  - Name: user
    User: root
  - Name: expose
    Ports:
    - "8888"
  - Name: workdir
    Path: '"/root/notebooks"'
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - run_jupyter.sh
    - /
  - CmdLine:
    - sudo chmod 755 /run_jupyter.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - /run_jupyter.sh
    - --ip=0.0.0.0
    - --allow-root
    Name: cmd
    PrependShell: false
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
