MetaArgs: null
Stages:
- BaseName: ubuntu:18.04
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"kabe0"'
    Name: label
  - Key: DEBIAN_FRONTEND
    Name: arg
    Value: '"noninteractive"'
  - Env:
    - Key: HOME
      Value: '"/config"'
    Name: env
  - Env:
    - Key: WEB_PORT
      Value: "8112"
    Name: env
  - Env:
    - Key: DEL_PORT
      Value: "58846"
    Name: env
  - Env:
    - Key: DEL_UID
      Value: "1000"
    Name: env
  - Env:
    - Key: DEL_GID
      Value: "1000"
    Name: env
  - Env:
    - Key: VPN_DNS
      Value: '"8.8.8.8,8.8.4.4"'
    Name: env
  - Env:
    - Key: VPN_ENABLE
      Value: "True"
    Name: env
  - Env:
    - Key: VPN_CONFIG
      Value: '"/config/config.ovpn"'
    Name: env
  - Env:
    - Key: VPN_AUTH
      Value: '"/config/auth.conf"'
    Name: env
  - Env:
    - Key: USE_UFW
      Value: "False"
    Name: env
  - CmdLine:
    - "apt-get update &&  apt-get install -y  software-properties-common --no-install-recommends
      &&  LC_ALL=C.UTF-8 add-apt-repository -y ppa:deadsnakes/ppa &&  apt-get update
      &&  apt-get install -y \tpython3 python3-pip ufw openvpn deluged deluge-web
      deluge-console &&  python3 -m pip install netifaces netaddr pyufw psutil &&
      \ apt-get clean &&  rm -rf   /tmp/*   /var/lib/apt/lists/*   /var/tmp/* &&  apt-get
      autoremove &&  apt-get clean &&  apt-get purge -y     software-properties-common
      &&  useradd -m -d $HOME deluge"
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - 6881/udp
    - "8112"
  - Name: volume
    Volumes:
    - /config
    - /downloads
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - init.py
    - up.sh
    - up.py
    - run.py
    - /usr/bin/
  - CmdLine:
    - /usr/bin/python3 /usr/bin/init.py
    Name: cmd
    PrependShell: true
  From:
    Image: ubuntu:18.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:18.04
