MetaArgs: null
Stages:
- BaseName: buildpack-deps:jessie
  Commands:
  - CmdLine:
    - apt-get purge -y python.*
    Name: run
    PrependShell: true
  - Env:
    - Key: LANG
      Value: C.UTF-8
    Name: env
  - Env:
    - Key: GPG_KEY
      Value: 97FC712E4C024BBEA48A61ED3A5CA953F73C700D
    Name: env
  - Env:
    - Key: PYTHON_VERSION
      Value: 3.5.2
    Name: env
  - Env:
    - Key: PYTHON_PIP_VERSION
      Value: 8.1.2
    Name: env
  - CmdLine:
    - "set -ex \t&& buildDeps=' \t\ttcl-dev \t\ttk-dev \t' \t&& runDeps=' \t\ttcl
      \t\ttk \t' \t&& apt-get update && apt-get install -y $runDeps $buildDeps --no-install-recommends
      && rm -rf /var/lib/apt/lists/* \t&& curl -fSL \"https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz\"
      -o python.tar.xz \t&& curl -fSL \"https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz.asc\"
      -o python.tar.xz.asc \t&& export GNUPGHOME=\"$(mktemp -d)\" \t&& gpg --keyserver
      ha.pool.sks-keyservers.net --recv-keys \"$GPG_KEY\" \t&& gpg --batch --verify
      python.tar.xz.asc python.tar.xz \t&& rm -r \"$GNUPGHOME\" python.tar.xz.asc
      \t&& mkdir -p /usr/src/python \t&& tar -xJC /usr/src/python --strip-components=1
      -f python.tar.xz \t&& rm python.tar.xz \t\t&& cd /usr/src/python \t&& ./configure
      \t\t--enable-loadable-sqlite-extensions \t\t--enable-shared \t&& make -j$(nproc)
      \t&& make install \t&& ldconfig \t&& pip3 install --no-cache-dir --upgrade pip==$PYTHON_PIP_VERSION
      \t&& [ \"$(pip list | awk -F '[ ()]+' '$1 == \"pip\" { print $2; exit }')\"
      = \"$PYTHON_PIP_VERSION\" ] \t&& find /usr/local -depth \t\t\\( \t\t    \\(
      -type d -a -name test -o -name tests \\) \t\t    -o \t\t    \\( -type f -a -name
      '*.pyc' -o -name '*.pyo' \\) \t\t\\) -exec rm -rf '{}' + \t&& apt-get purge
      -y --auto-remove $buildDeps \t&& rm -rf /usr/src/python ~/.cache"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /usr/local/bin \t&& ln -s easy_install-3.5 easy_install \t&& ln -s idle3
      idle \t&& ln -s pydoc3 pydoc \t&& ln -s python3 python \t&& ln -s python3-config
      python-config"
    Name: run
    PrependShell: true
  - CmdLine:
    - python3
    Name: cmd
    PrependShell: false
  From:
    Image: buildpack-deps:jessie
  Name: ""
  Platform: ""
  SourceCode: FROM buildpack-deps:jessie
