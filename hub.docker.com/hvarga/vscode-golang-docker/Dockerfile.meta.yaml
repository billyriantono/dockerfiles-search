MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"hrvoje.varga@gmail.com"'
    Name: label
  - Labels:
    - Key: build
      Value: '"./scripts/build-vscode-golang-docker.sh"'
    Name: label
  - Labels:
    - Key: run
      Value: '"./scripts/run-vscode-golang-docker.sh"'
    Name: label
  - CmdLine:
    - apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install --no-install-recommends
      -y     curl ca-certificates git libgtk2.0 libgconf-2-4 libnss3 libxtst6     libcanberra-gtk-module
      libgl1-mesa-glx libxss1 sudo firefox xdg-utils
    Name: run
    PrependShell: true
  - CmdLine:
    - addgroup --gid 1000 docker &&     adduser --uid 1000 --ingroup docker --home
      /home/docker --shell /bin/bash --disabled-password --gecos "" docker &&     usermod
      -a -G sudo docker &&     echo '%sudo ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -L https://go.microsoft.com/fwlink/?LinkID=760868 -o /tmp/vscode.deb &&     apt
      install -y /tmp/vscode.deb &&     rm -f /tmp/vscode.deb
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - files/vscode-config.json
    - /tmp/vscode-config.json
  - CmdLine:
    - rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -s https://dl.google.com/go/go1.10.3.linux-amd64.tar.gz | tar -v -C /usr/local
      -xz
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: $PATH:/usr/local/go/bin
    Name: env
  - CmdLine:
    - mkdir -p /home/docker/go/src &&     chown -R docker:docker /home/docker/go
    Name: run
    PrependShell: true
  - Env:
    - Key: GOPATH
      Value: /home/docker/go
    Name: env
  - Env:
    - Key: PATH
      Value: '"/home/docker/go/bin:${PATH}"'
    Name: env
  - CmdLine:
    - curl -SsL https://github.com/boxboat/fixuid/releases/download/v0.4/fixuid-0.4-linux-amd64.tar.gz
      | tar -C /usr/local/bin -xzf - &&     chown root:root /usr/local/bin/fixuid
      &&     chmod 4755 /usr/local/bin/fixuid &&     mkdir -p /etc/fixuid
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - files/fixuid-config.yml
    - /etc/fixuid/config.yml
  - CmdLine:
    - curl -SsL https://storage.googleapis.com/shellcheck/shellcheck-latest.linux.x86_64.tar.xz
      -o /tmp/shellcheck-latest.linux.x86_64.tar.xz &&     tar xvf /tmp/shellcheck-latest.linux.x86_64.tar.xz
      -C /tmp &&     cp /tmp/shellcheck-latest/shellcheck /usr/local/bin/shellcheck
      &&     rm -rf /tmp/shellcheck-latest.linux.x86_64.tar.xz &&     rm -rf /tmp/shellcheck-latest
    Name: run
    PrependShell: true
  - Name: user
    User: docker:docker
  - Name: workdir
    Path: /home/docker/go/src
  - CmdLine:
    - fixuid
    Name: entrypoint
    PrependShell: false
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - files/initialize_environment.sh
    - /usr/local/bin
  - CmdLine:
    - initialize_environment.sh;bash
    Name: cmd
    PrependShell: true
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
