MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - CmdLine:
    - apt-get update     && apt-get install -y apt-transport-https curl tzdata git
    Name: run
    PrependShell: true
  - CmdLine:
    - curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg     &&
      mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg     && sh -c 'echo "deb
      [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-xenial-prod
      xenial main" > /etc/apt/sources.list.d/dotnetdev.list'     && apt-get update     &&
      apt-get install -y dotnet-dev-1.1.7 unzip
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF     &&
      echo "deb http://download.mono-project.com/repo/debian wheezy/snapshots/4.4.2
      main" > /etc/apt/sources.list.d/mono-xamarin.list     && apt-get update     &&
      apt-get install -y mono-devel     && rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /opt/nuget     && curl -Lsfo /opt/nuget/nuget.exe https://dist.nuget.org/win-x86-commandline/latest/nuget.exe
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: '"$PATH:/opt/nuget"'
    Name: env
  - CmdLine:
    - mkdir dotnettest     && cd dotnettest     && dotnet new console -lang C#     &&
      dotnet restore     && dotnet build     && dotnet run     && cd ..     && rm
      -r dotnettest
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - cakeprimer
    - cakeprimer
  - CmdLine:
    - cd cakeprimer     && dotnet restore Cake.sln     --source "https://www.myget.org/F/xunit/api/v3/index.json"     --source
      "https://dotnet.myget.org/F/dotnet-core/api/v3/index.json"     --source "https://dotnet.myget.org/F/cli-deps/api/v3/index.json"     --source
      "https://api.nuget.org/v3/index.json"      /property:UseTargetingPack=true     &&
      cd ..     && rm -rf cakeprimer
    Name: run
    PrependShell: true
  - Env:
    - Key: CAKE_NUGET_USEINPROCESSCLIENT
      Value: "true"
    Name: env
  - Env:
    - Key: CAKE_VERSION
      Value: 0.24.0
    Name: env
  - CmdLine:
    - mkdir -p /opt/Cake/Cake     && curl -Lsfo Cake.zip "https://www.myget.org/F/cake/api/v2/package/Cake/$CAKE_VERSION"     &&
      unzip -q Cake.zip -d "/opt/Cake/Cake"     && rm -f Cake.zip
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - cake
    - /usr/bin/cake
  - CmdLine:
    - chmod 755 /usr/bin/cake
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir caketest     && cd caketest     && cake --version     && cd ..     &&
      rm -rf caketest
    Name: run
    PrependShell: true
  - CmdLine:
    - mono --version
    Name: run
    PrependShell: true
  - CmdLine:
    - dotnet --info
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get clean
    Name: run
    PrependShell: true
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
