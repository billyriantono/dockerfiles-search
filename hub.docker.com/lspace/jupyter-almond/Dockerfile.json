{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "jupyter/minimal-notebook",
      "SourceCode": "FROM \tjupyter/minimal-notebook",
      "Platform": "",
      "From": {
        "Image": "jupyter/minimal-notebook"
      },
      "Commands": [
        {
          "Labels": [
            {
              "Key": "maintainer",
              "Value": "\"Thijs Broersen\""
            }
          ],
          "Name": "label"
        },
        {
          "Name": "user",
          "User": "root"
        },
        {
          "CmdLine": [
            "apt-get update \u0026\u0026 apt-get upgrade -y"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "apt-get install gnupg2 curl openjdk-8-jdk -y \u0026\u0026         curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add - \u0026\u0026         echo \"deb https://dl.yarnpkg.com/debian/ stable main\" | sudo tee /etc/apt/sources.list.d/yarn.list \u0026\u0026         apt-get update \u0026\u0026 apt-get install yarn -y"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "apt-get clean \u0026\u0026 rm -rf /var/lib/apt/lists/*"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "sh -c '(echo \"#!/usr/bin/env sh\" \u0026\u0026 curl -L https://github.com/lihaoyi/Ammonite/releases/download/1.6.3/2.12-1.6.3) \u003e /usr/local/bin/amm \u0026\u0026 chmod +x /usr/local/bin/amm'"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "user",
          "User": "$NB_UID"
        },
        {
          "CmdLine": [
            "pip install --upgrade pip \u0026\u0026         conda update -n base conda \u0026\u0026         conda install -c conda-forge jupyterlab"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "curl -L -o coursier https://git.io/coursier \u0026\u0026         chmod +x coursier \u0026\u0026         ./coursier --help \u0026\u0026         SCALA_VERSION=2.12.8 ALMOND_VERSION=0.3.0 \u0026\u0026         ./coursier bootstrap         -r jitpack         -i user -I user:sh.almond:scala-kernel-api_$SCALA_VERSION:$ALMOND_VERSION         sh.almond:scala-kernel_$SCALA_VERSION:$ALMOND_VERSION         --sources --default=true         -o almond \u0026\u0026         ./almond --install \u0026\u0026         rm -f almond \u0026\u0026         SCALA_VERSION=2.11.12 ALMOND_VERSION=0.3.0 \u0026\u0026         ./coursier bootstrap         -r jitpack         -i user -I user:sh.almond:scala-kernel-api_$SCALA_VERSION:$ALMOND_VERSION         sh.almond:scala-kernel_$SCALA_VERSION:$ALMOND_VERSION         --sources --default=true         -o almond-scala-2.11 \u0026\u0026         ./almond-scala-2.11 --install --id scala211 --display-name \"Scala (2.11)\" \u0026\u0026         rm -f almond-scala-2.11"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "jupyter labextension install @jupyter-widgets/jupyterlab-manager --no-build \u0026\u0026         jupyter labextension install @jupyterlab/hub-extension --no-build \u0026\u0026         jupyter labextension install @jupyterlab/theme-dark-extension --no-build \u0026\u0026         jupyter labextension install @jupyterlab/theme-light-extension --no-build \u0026\u0026         jupyter labextension install @oriolmirosa/jupyterlab_materialdarker --no-build \u0026\u0026         jupyter labextension install @jupyterlab/git --no-build \u0026\u0026         jupyter labextension install @jupyterlab/plotly-extension --no-build \u0026\u0026         jupyter labextension install @jupyterlab/toc --no-build \u0026\u0026         jupyter labextension install @jupyterlab/vega3-extension --no-build \u0026\u0026         jupyter labextension install jupyterlab-drawio --no-build \u0026\u0026         export NODE_OPTIONS=--max-old-space-size=16000 \u0026\u0026 jupyter lab build"
          ],
          "Name": "run",
          "PrependShell": true
        }
      ]
    }
  ]
}