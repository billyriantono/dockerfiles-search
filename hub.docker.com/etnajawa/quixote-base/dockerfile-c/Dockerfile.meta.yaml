MetaArgs: null
Stages:
- BaseName: alpine:3.3
  Commands:
  - Maintainer: Péter Szilágyi <peterke@gmail.com>
    Name: maintainer
  - CmdLine:
    - apk add --update python py-pip libstdc++             &&   apk add --update python-dev
      build-base linux-headers &&   pip install circus                                   &&   apk
      del python-dev build-base linux-headers          &&   rm -rf /var/cache/apk/*
    Name: run
    PrependShell: true
  - Env:
    - Key: GOPATH
      Value: /go
    Name: env
  - Env:
    - Key: PATH
      Value: $GOPATH/bin:$PATH
    Name: env
  - Env:
    - Key: GO15VENDOREXPERIMENT
      Value: "1"
    Name: env
  - CmdLine:
    - apk add --update go git gcc musl-dev                  &&   go get github.com/etherapis/etherapis/demos/geolookup
      &&   go get github.com/etherapis/etherapis/demos/streamer  &&   go get github.com/etherapis/etherapis/etherapis       &&   apk
      del go git gcc musl-dev                           &&   rm -rf /var/cache/apk/*
      $GOPATH/src $GOPATH/pkg
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /demos/geolookup /demos/streamer /etherapis &&   streamer --init --root
      /demos/streamer/data
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "80"
  - Name: expose
    Ports:
    - "81"
  - Name: expose
    Ports:
    - "8080"
  - Name: expose
    Ports:
    - "8081"
  - Chown: ""
    Name: add
    SourcesAndDest:
    - circus.ini
    - circus.ini
  - CmdLine:
    - circusd
    - circus.ini
    Name: entrypoint
    PrependShell: false
  From:
    Image: alpine:3.3
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.3
