MetaArgs: null
Stages:
- BaseName: pedros007/python3-gdal:2.4.0
  Commands:
  - Maintainer: Peter Schmitt "pschmitt@gmail.com"
    Name: maintainer
  - CmdLine:
    - "apt-get update &&     apt-get upgrade -y &&     apt-get install -y --no-install-recommends
      \    \t    nginx \t    supervisor     \t    build-essential \t    cmake \t    make
      \t    ca-certificates \t    curl \t    libcurl4-gnutls-dev \t    libfcgi0ldbl
      \t    libfcgi-dev     \t    shapelib \t    libproj-dev \t    libgeos-dev \t
      \   libpq-dev     \t    libxml2 \t    libxml2-dev \t    libpng-dev \t    zlib1g
      \t    zlib1g-dev \t    libjpeg-dev \t    libfribidi0 \t    libfribidi-dev \t
      \   libfreetype6 \t    libfreetype6-dev \t    libharfbuzz0b \t    libharfbuzz-dev
      \    \t    protobuf-c-compiler \t    libprotobuf-c-dev &&     curl http://download.osgeo.org/mapserver/mapserver-7.2.2.tar.gz
      | tar zx -C /tmp &&     mkdir /tmp/mapserver-7.2.2/build &&     cd /tmp/mapserver-7.2.2/build
      &&     cmake .. -DWITH_GDAL=1 -DWITH_CURL=1 -DWITH_CAIRO=0 -DWITH_GIF=0 &&     make
      -j $(grep --count ^processor /proc/cpuinfo) &&     make install &&     apt-get
      remove --purge -y     \t    cmake \t    make \t    libcurl4-gnutls-dev \t    libproj-dev
      \t    libgeos-dev \t    libpq-dev \t    libxml2-dev \t    libpng-dev \t    zlib1g-dev
      \t    libjpeg-dev \t    libfribidi-dev \t    libfreetype6-dev \t    libharfbuzz-dev
      &&     rm -rf /var/lib/apt/lists/* /tmp/*"
    Name: run
    PrependShell: true
  - CmdLine:
    - rm /etc/nginx/sites-enabled/default
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - etc
    - /etc
  - Env:
    - Key: HOME
      Value: /root
    Name: env
  - Name: expose
    Ports:
    - "80"
  - CmdLine:
    - sh -c "/usr/bin/supervisord"
    Name: cmd
    PrependShell: true
  From:
    Image: pedros007/python3-gdal:2.4.0
  Name: ""
  Platform: ""
  SourceCode: FROM pedros007/python3-gdal:2.4.0
