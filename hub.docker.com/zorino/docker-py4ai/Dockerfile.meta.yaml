MetaArgs: null
Stages:
- BaseName: jupyter/base-notebook
  Commands:
  - Maintainer: zorino <maximilien1er@gmail.com>
    Name: maintainer
  - Name: user
    User: root
  - CmdLine:
    - apt-get update -y && apt-get install -y git-core build-essential curl libfreetype6-dev
      libxft-dev libgomp1 python-matplotlib   && curl https://bootstrap.pypa.io/ez_setup.py
      -o - | python
    Name: run
    PrependShell: true
  - Name: user
    User: $NB_USER
  - CmdLine:
    - conda create -n ipykernel_py2 python=2 ipykernel
    Name: run
    PrependShell: true
  - Env:
    - Key: PY2_PATH
      Value: /opt/conda/envs/ipykernel_py2/bin/
    Name: env
  - CmdLine:
    - $PY2_PATH/python2 -m ipykernel install --user
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install numpy scipy scikit-learn pandas keras tqdm seaborn statsmodels
    Name: run
    PrependShell: true
  - CmdLine:
    - $PY2_PATH/pip install numpy scipy scikit-learn pandas keras tqdm seaborn statsmodels
    Name: run
    PrependShell: true
  - CmdLine:
    - export TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.9.0-cp35-cp35m-linux_x86_64.whl  &&
      pip install --upgrade $TF_BINARY_URL
    Name: run
    PrependShell: true
  - Name: user
    User: root
  - CmdLine:
    - cd /opt  && git clone --recursive https://github.com/dmlc/xgboost  && cd xgboost
      && make -j 2 && cd python-package  && python setup.py install
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -fr /home/$NB_USER/work/*  && apt-get purge -y build-essential curl git-core  &&
      apt-get autoremove -y  && apt-get clean all
    Name: run
    PrependShell: true
  - Name: user
    User: $NB_USER
  - Env:
    - Key: KERAS_BACKEND
      Value: tensorflow
    Name: env
  - CmdLine:
    - start-notebook.sh
    Name: cmd
    PrependShell: false
  From:
    Image: jupyter/base-notebook
  Name: ""
  Platform: ""
  SourceCode: FROM jupyter/base-notebook
