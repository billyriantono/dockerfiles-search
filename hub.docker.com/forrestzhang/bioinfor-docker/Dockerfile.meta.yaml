MetaArgs: null
Stages:
- BaseName: ubuntu
  Commands:
  - Maintainer: Tao Zhang "forrestzhang1982@gmail.com"
    Name: maintainer
  - CmdLine:
    - "apt-get update && apt-get install -y build-essential \t\t\t\t\t\t\t\t  zlib1g-dev
      \t\t\t\t\t\t\t\t  zlibc \t\t\t\t\t\t\t\t  openjdk-7-jre \t\t\t\t\t\t\t\t  git
      \t\t\t\t\t\t\t\t  libboost-dev \t\t\t\t\t\t\t\t  autoconf \t\t\t\t\t\t\t\t  libncursesw5-dev
      \t\t\t\t\t\t\t\t  libncurses5 \t\t\t\t\t\t\t\t  ncurses-dev \t\t\t\t\t\t\t\t
      \ libboost-thread-dev \t\t\t\t\t\t\t\t  python3-pip \t\t\t\t\t\t\t\t  samtools
      \t\t\t\t\t\t\t\t  unzip \t\t\t\t\t\t\t\t\tpython \t\t\t\t\t\t\t\t\tcurl \t\t\t\t\t\t\t\t\tbedtools"
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /opt/software
    Name: run
    PrependShell: true
  - CmdLine:
    - "export CLOUD_SDK_REPO=cloud-sdk-`lsb_release -c -s` && \t  echo \"deb http://packages.cloud.google.com/apt
      $CLOUD_SDK_REPO main\" | sudo tee /etc/apt/sources.list.d/google-cloud-sdk.list
      && \t\tcurl https://packages.cloud.google.com/apt/doc/apt-key.gpg |  apt-key
      add - && \t\tsudo apt-get update &&  apt-get install -y google-cloud-sdk"
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://github.com/broadinstitute/picard/releases/download/1.139/picard-tools-1.139.zip
    - /opt/software/
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://ccb.jhu.edu/software/tophat/downloads/tophat-2.1.0.Linux_x86_64.tar.gz
    - /opt/software/
  - Chown: ""
    Name: add
    SourcesAndDest:
    - http://cole-trapnell-lab.github.io/cufflinks/assets/downloads/cufflinks-2.2.1.Linux_x86_64.tar.gz
    - /opt/software/
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://github.com/BenLangmead/bowtie2/releases/download/v2.2.6/bowtie2-2.2.6-linux-x86_64.zip
    - /opt/software/
  - Chown: ""
    Name: add
    SourcesAndDest:
    - http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.5.4-1/sratoolkit.2.5.4-1-ubuntu64.tar.gz
    - /opt/software/
  - Name: workdir
    Path: /opt/software
  - CmdLine:
    - unzip picard-tools-1.139.zip && mv picard-tools-1.139 picard
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip bowtie2-2.2.6-linux-x86_64.zip && mv bowtie2-2.2.6 bowtie2
    Name: run
    PrependShell: true
  - CmdLine:
    - tar zxvf tophat-2.1.0.Linux_x86_64.tar.gz && mv tophat-2.1.0.Linux_x86_64 tophat
    Name: run
    PrependShell: true
  - CmdLine:
    - tar zxvf cufflinks-2.2.1.Linux_x86_64.tar.gz && mv cufflinks-2.2.1.Linux_x86_64
      cufflinks
    Name: run
    PrependShell: true
  - CmdLine:
    - tar zxvf sratoolkit.2.5.4-1-ubuntu64.tar.gz && mv sratoolkit.2.5.4-1-ubuntu64
      sratoolkit
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/lh3/bwa.git && cd bwa && make
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: /opt/software/bowtie2:/opt/software/tophat:/opt/software/cufflinks:/opt/software/bwa:/opt/software/sratoolkit:$PATH
    Name: env
  - Env:
    - Key: LANG
      Value: en_US.UTF-8
    Name: env
  From:
    Image: ubuntu
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu
