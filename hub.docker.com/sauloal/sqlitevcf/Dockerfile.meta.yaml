MetaArgs: null
Stages:
- BaseName: sauloal/ubuntu14.04
  Commands:
  - Maintainer: Saulo Alves <sauloal@gmail.com>
    Name: maintainer
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - Env:
    - Key: DEBIAN_PRIORITY
      Value: critical
    Name: env
  - Env:
    - Key: DEBCONF_NOWARNINGS
      Value: "yes"
    Name: env
  - CmdLine:
    - "apt-get update; \tapt-get install -y python-setuptools build-essential git
      python-dev libmysqlclient-dev sqlite; \tapt-get clean all"
    Name: run
    PrependShell: true
  - Env:
    - Key: PYTHON_EGG_DIR
      Value: /tmp
    Name: env
  - CmdLine:
    - easy_install -Z pip pyvcf sqlalchemy sandman requests Flask-Restless flask-cors
      mysql-python
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /opt;     wget https://bitbucket.org/pypy/pypy/downloads/pypy-2.3.1-linux64.tar.bz2;     tar
      xvf pypy-2.3.1-linux64.tar.bz2;     rm pypy-2.3.1-linux64.tar.bz2;     ln -s
      $PWD/pypy-2.3.1-linux64/bin/pypy /usr/bin/;     cd /opt/pypy-2.3.1-linux64/site-packages;     cp
      -R /usr/local/lib/python2.7/dist-packages/* .
    Name: run
    PrependShell: true
  - Name: volume
    Volumes:
    - /data
  - Name: volume
    Volumes:
    - /db
  - Name: workdir
    Path: /
  - Chown: ""
    Name: add
    SourcesAndDest:
    - api.py
    - /bin/api.py
  - Chown: ""
    Name: add
    SourcesAndDest:
    - restless.py
    - /bin/restless.py
  - Chown: ""
    Name: add
    SourcesAndDest:
    - database.py
    - /bin/database.py
  - Chown: ""
    Name: add
    SourcesAndDest:
    - sqlite_vcf.py
    - /bin/sqlite_vcf.py
  - Chown: ""
    Name: add
    SourcesAndDest:
    - query.py
    - /bin/query.py
  - Name: expose
    Ports:
    - "5000"
  From:
    Image: sauloal/ubuntu14.04
  Name: ""
  Platform: ""
  SourceCode: FROM sauloal/ubuntu14.04
