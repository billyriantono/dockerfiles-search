MetaArgs: null
Stages:
- BaseName: ros:indigo-robot
  Commands: null
  From:
    Image: ros:indigo-robot
  Name: ""
  Platform: ""
  SourceCode: FROM ros:indigo-robot
- BaseName: ros:indigo-perception
  Commands:
  - Name: shell
    Shell:
    - /bin/bash
    - -c
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - CmdLine:
    - useradd ros
    Name: run
    PrependShell: true
  - CmdLine:
    - 'mkdir /home/ros && chown -R ros: /home/ros'
    Name: run
    PrependShell: true
  - Env:
    - Key: HOME
      Value: '"/home/ros"'
    Name: env
  - Env:
    - Key: PATH
      Value: '"/home/ros/.local/bin:${PATH}"'
    Name: env
  - Env:
    - Key: PYTHONWARNINGS
      Value: '"ignore:a true SSLContext object"'
    Name: env
  - Name: workdir
    Path: /home/ros
  - CmdLine:
    - apt-get update && apt-get -y install software-properties-common libeigen3-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install gfortran libopenblas-dev liblapack-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - add-apt-repository ppa:ubuntu-toolchain-r/test
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get -y install gcc-4.9 g++-4.9
    Name: run
    PrependShell: true
  - CmdLine:
    - update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 50
    Name: run
    PrependShell: true
  - CmdLine:
    - update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 50
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install git-core python-argparse python-wstool python-vcstools python-rosdep
      python-pip                        ros-indigo-control-msgs ros-indigo-joystick-drivers
      python-catkin-tools
    Name: run
    PrependShell: true
  - CmdLine:
    - pip2 install numpy scipy scikit-learn
    Name: run
    PrependShell: true
  - CmdLine:
    - pip2 install pip --upgrade
    Name: run
    PrependShell: true
  - Name: user
    User: ros
  - CmdLine:
    - rosdep update
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p ~/ros_ws/src && cd ~/ros_ws/src      && wstool init .      && wstool
      merge https://raw.githubusercontent.com/RethinkRobotics/baxter/master/baxter_sdk.rosinstall      &&
      wstool update
    Name: run
    PrependShell: true
  - Name: user
    User: root
  - CmdLine:
    - cd ~/ros_ws      && rosdep install -y --from-paths src --ignore-src --rosdistro
      $ROS_DISTRO
    Name: run
    PrependShell: true
  - Name: user
    User: ros
  - CmdLine:
    - cd ~/ros_ws && catkin init
    Name: run
    PrependShell: true
  - CmdLine:
    - cd ~/ros_ws && source /opt/ros/$ROS_DISTRO/setup.bash && catkin build
    Name: run
    PrependShell: true
  - Name: user
    User: root
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./ros-entrypoint.sh
    - /bin/
  - CmdLine:
    - chmod
    - +x
    - /bin/ros-entrypoint.sh
    Name: run
    PrependShell: false
  - CmdLine:
    - /bin/ros-entrypoint.sh
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - 'chown -R ros: /home/ros'
    Name: run
    PrependShell: true
  - Name: user
    User: ros
  - CmdLine:
    - /bin/bash
    Name: cmd
    PrependShell: false
  From:
    Image: ros:indigo-perception
  Name: ""
  Platform: ""
  SourceCode: FROM ros:indigo-perception
