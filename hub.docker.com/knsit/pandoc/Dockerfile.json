{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "build",
      "BaseName": "alpine:3.9",
      "SourceCode": "FROM alpine:3.9 as build",
      "Platform": "",
      "As": "build",
      "From": {
        "Image": "alpine:3.9"
      },
      "Commands": [
        {
          "CmdLine": [
            "apk add --update         texlive-full         texmf-dist         ghostscript         librsvg         ttf-dejavu         libarchive-tools         make         git \u0026\u0026     mkdir -p /tmp/packages/tex \u0026\u0026     cd /tmp/packages/tex \u0026\u0026     wget -qO- http://ctan.mirrors.hoobly.com/macros/latex/contrib/csquotes.zip | bsdtar -xvf - \u0026\u0026     wget -qO- http://ctan.mirrors.hoobly.com/macros/latex/contrib/mdframed.zip | bsdtar -xvf - \u0026\u0026     wget -qO- http://ctan.mirrors.hoobly.com/macros/latex/contrib/makecmds.zip | bsdtar -xvf - \u0026\u0026     wget -qO- http://ctan.mirrors.hoobly.com/macros/latex/contrib/filecontents.zip | bsdtar -xvf - \u0026\u0026     wget -qO- http://ctan.mirrors.hoobly.com/macros/latex/contrib/needspace.zip | bsdtar -xvf - \u0026\u0026     wget -qO- http://ctan.mirrors.hoobly.com/macros/latex/contrib/titlesec.zip | bsdtar -xvf - \u0026\u0026     wget -qO- http://ctan.mirrors.hoobly.com/macros/latex/contrib/titling.zip | bsdtar -xvf - \u0026\u0026     wget -qO- http://mirror.hmc.edu/ctan//fonts/psfonts/ly1.zip | bsdtar -xvf - \u0026\u0026     wget http://mirrors.ctan.org/macros/latex/contrib/etoolbox/etoolbox.sty \u0026\u0026     wget http://ctan.mirrors.hoobly.com/macros/latex/contrib/mweights/mweights.sty \u0026\u0026     git clone https://github.com/silkeh/latex-sourcesanspro.git /tmp/sourcesanspro \u0026\u0026     rm -rf /tmp/sourcesanspro/doc /tmp/sourcesanspro/.git \u0026\u0026     mv /tmp/sourcesanspro/tex/* /tmp/packages/tex/ \u0026\u0026     mv /tmp/sourcesanspro/fonts /tmp/packages/ \u0026\u0026     cd /tmp \u0026\u0026     wget -qO- http://mirrors.ctan.org/fonts/sourcecodepro.zip | bsdtar -xvf - \u0026\u0026     mv sourcecodepro/tex/* /tmp/packages/tex \u0026\u0026     mkdir -p /tmp/packages/fonts/tfm/sourcecodepro \u0026\u0026     mkdir -p /tmp/packages/fonts/enc/dvips/sourcecodepro \u0026\u0026     mkdir -p /tmp/packages/fonts/map/dvips/sourcecodepro \u0026\u0026     mkdir -p /tmp/packages/fonts/opentype/sourcecodepro \u0026\u0026     mkdir -p /tmp/packages/fonts/type1/sourcecodepro \u0026\u0026     mkdir -p /tmp/packages/fonts/vf/sourcecodepro \u0026\u0026     mv sourcecodepro/fonts/SourceCodePro*.tfm /tmp/packages/fonts/tfm/sourcecodepro \u0026\u0026     mv sourcecodepro/fonts/*.enc /tmp/packages/fonts/enc/dvips/sourcecodepro \u0026\u0026     mv sourcecodepro/fonts/SourceCodePro.map /tmp/packages/fonts/map/dvips/sourcecodepro \u0026\u0026     mv sourcecodepro/fonts/SourceCodePro*.otf /tmp/packages/fonts/opentype/sourcecodepro \u0026\u0026     mv sourcecodepro/fonts/SourceCodePro*.pfb /tmp/packages/fonts/type1/sourcecodepro \u0026\u0026     mv sourcecodepro/fonts/SourceCodePro*.vf /tmp/packages/fonts/vf/sourcecodepro \u0026\u0026     cd /tmp/packages/tex/makecmds/ \u0026\u0026     latex makecmds.ins \u0026\u0026     cd /tmp/packages/tex/mdframed/ \u0026\u0026     make all \u0026\u0026     cd /tmp/packages/tex/filecontents \u0026\u0026     latex filecontents.ins \u0026\u0026     cd /tmp/packages/tex/titling \u0026\u0026     latex titling.ins"
          ],
          "Name": "run",
          "PrependShell": true
        }
      ]
    },
    {
      "Name": "",
      "BaseName": "alpine:3.9",
      "SourceCode": "FROM alpine:3.9",
      "Platform": "",
      "From": {
        "Image": "alpine:3.9"
      },
      "Commands": [
        {
          "Key": "BUILD_DATE",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "VCS_REF",
          "Name": "arg",
          "Value": null
        },
        {
          "Env": [
            {
              "Key": "PANDOC_VERSION",
              "Value": "\"2.7.3\""
            }
          ],
          "Name": "env"
        },
        {
          "Labels": [
            {
              "Key": "org.label-schema.build-date",
              "Value": "$BUILD_DATE"
            },
            {
              "Key": "org.label-schema.name",
              "Value": "\"Pandoc\""
            },
            {
              "Key": "org.label-schema.description",
              "Value": "\"Pandoc container including PDFLaTeX to build PDFs from Markdown\""
            },
            {
              "Key": "org.label-schema.url",
              "Value": "\"https://github.com/kns-it/Docker-Pandoc\""
            },
            {
              "Key": "org.label-schema.vcs-ref",
              "Value": "$VCS_REF"
            },
            {
              "Key": "org.label-schema.vcs-url",
              "Value": "\"https://github.com/kns-it/Docker-Pandoc\""
            },
            {
              "Key": "org.label-schema.vendor",
              "Value": "\"KNS\""
            },
            {
              "Key": "org.label-schema.version",
              "Value": "$PANDOC_VERSION"
            },
            {
              "Key": "org.label-schema.schema-version",
              "Value": "\"1.0\""
            },
            {
              "Key": "maintainer",
              "Value": "\"sebastian.kurfer@kns-it.de\""
            }
          ],
          "Name": "label"
        },
        {
          "Chown": "",
          "From": "build",
          "Name": "copy",
          "SourcesAndDest": [
            "/tmp/packages",
            "/usr/share/texmf-var"
          ]
        },
        {
          "CmdLine": [
            "apk add             --update             --no-cache             texlive-full             texmf-dist             ghostscript             librsvg             ttf-dejavu             make             git \u0026\u0026     rm -rf /var/cache/apk/* \u0026\u0026     wget -P /tmp https://github.com/jgm/pandoc/releases/download/${PANDOC_VERSION}/pandoc-${PANDOC_VERSION}-linux.tar.gz \u0026\u0026     tar -xf /tmp/pandoc-${PANDOC_VERSION}-linux.tar.gz -C /tmp \u0026\u0026     mv /tmp/pandoc-${PANDOC_VERSION}/bin/* /usr/bin/ \u0026\u0026     rm -rf /tmp/* \u0026\u0026     adduser pandoc -D -s /bin/sh \u0026\u0026     texhash /usr/share/texmf-var \u0026\u0026     cd /usr/share/texmf-var/tex/needspace \u0026\u0026     pdflatex needspace.tex \u0026\u0026     mktexlsr \u0026\u0026     texhash /usr/share/texmf-var"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "/bin/sh"
          ],
          "Name": "cmd",
          "PrependShell": false
        },
        {
          "Name": "user",
          "User": "pandoc"
        },
        {
          "Name": "workdir",
          "Path": "/home/pandoc"
        }
      ]
    }
  ]
}