MetaArgs: null
Stages:
- BaseName: php:7.1
  Commands:
  - CmdLine:
    - echo "mysql-server mysql-server/root_password password secret" | debconf-set-selections
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "mysql-server mysql-server/root_password_again password secret" | debconf-set-selections
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update -yqq
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install git zip libpng-dev wget -yqq
    Name: run
    PrependShell: true
  - CmdLine:
    - wget https://phar.phpunit.de/phpunit-5.7.phar
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod +x phpunit-5.7.phar
    Name: run
    PrependShell: true
  - CmdLine:
    - mv phpunit-5.7.phar /usr/local/bin/phpunit
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y update     && apt-get install -y libicu-dev    && docker-php-ext-configure
      intl     && docker-php-ext-install intl
    Name: run
    PrependShell: true
  - CmdLine:
    - docker-php-ext-install pdo_mysql gd bcmath
    Name: run
    PrependShell: true
  - CmdLine:
    - echo “date.timezone = Europe/Paris” > /usr/local/etc/php/php.ini
    Name: run
    PrependShell: true
  - CmdLine:
    - echo “memory_limit = 1024M” >> /usr/local/etc/php/php.ini
    Name: run
    PrependShell: true
  - CmdLine:
    - echo “intl.default_locale = ‘fr’” >> /usr/local/etc/php/php.ini
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -sS https://getcomposer.org/installer | php
    Name: run
    PrependShell: true
  - CmdLine:
    - mv composer.phar /usr/local/bin/composer
    Name: run
    PrependShell: true
  From:
    Image: php:7.1
  Name: ""
  Platform: ""
  SourceCode: FROM php:7.1
