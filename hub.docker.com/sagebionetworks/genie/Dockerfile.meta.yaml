MetaArgs: null
Stages:
- BaseName: ubuntu:bionic
  Commands:
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - CmdLine:
    - apt-get update && apt-get install -y gnupg2 software-properties-common
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9
    Name: run
    PrependShell: true
  - CmdLine:
    - add-apt-repository 'deb https://cloud.r-project.org/bin/linux/ubuntu bionic-cran35/'
    Name: run
    PrependShell: true
  - CmdLine:
    - "apt-get update && apt-get install -y --allow-unauthenticated \tgit \tr-base-core
      \tr-base-dev \tpython3 \tpython3-pip \tbedtools \tdos2unix \tg++ \tgcc"
    Name: run
    PrependShell: true
  - CmdLine:
    - "apt-get install -y --allow-unauthenticated \tbuild-essential \tcpanminus \tcurl
      \twget \tunzip \tautomake \tsamtools \ttabix"
    Name: run
    PrependShell: true
  - CmdLine:
    - "apt install -y --allow-unauthenticated \tlibmysqlclient-dev \tlibncurses5-dev
      \tzlib1g-dev \tlibgsl0-dev \tlibexpat1-dev \tlibgd-dev"
    Name: run
    PrependShell: true
  - CmdLine:
    - pip3 install --upgrade pip
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install synapseclient httplib2 pycrypto PyYAML
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install pandas numexpr --upgrade
    Name: run
    PrependShell: true
  - CmdLine:
    - rm /usr/bin/python
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -s /usr/bin/python3 /usr/bin/python
    Name: run
    PrependShell: true
  - CmdLine:
    - cpanm --notest LWP::Simple DBI DBD::mysql Archive::Zip Archive::Extract HTTP::Tiny
      Test::Simple
    Name: run
    PrependShell: true
  - CmdLine:
    - cpanm --notest File::Copy::Recursive Perl::OSType Module::Metadata version TAP::Harness
      CGI Encode
    Name: run
    PrependShell: true
  - CmdLine:
    - cpanm --notest CPAN::Meta JSON DBD::SQLite Set::IntervalTree Archive::Tar Time::HiRes
      Module::Build
    Name: run
    PrependShell: true
  - CmdLine:
    - cpanm --notest Bio::Root::Version
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /root
  - CmdLine:
    - wget https://github.com/mskcc/vcf2maf/archive/v1.6.17.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip v1.6.17.zip
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /root/Genie
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./
    - ./
  - CmdLine:
    - python3 setup.py sdist
    Name: run
    PrependShell: true
  - CmdLine:
    - python3 setup.py develop
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /root
  - CmdLine:
    - git clone https://github.com/cBioPortal/cbioportal.git
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install synapseclient --upgrade
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /root/Genie/genie
  From:
    Image: ubuntu:bionic
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:bionic
