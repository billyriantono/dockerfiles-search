MetaArgs: null
Stages:
- BaseName: debian:buster-slim
  Commands:
  - CmdLine:
    - apt-get update &&     env DEBIAN_FRONTEND=noninteractive apt-get install -y       dbus-x11       libxv1       mesa-utils       mesa-utils-extra       psmisc       procps
    Name: run
    PrependShell: true
  - Env:
    - Key: LANG
      Value: en_US.UTF-8
    Name: env
  - CmdLine:
    - echo $LANG UTF-8 > /etc/locale.gen &&     env DEBIAN_FRONTEND=noninteractive
      apt-get install -y locales &&     env DEBIAN_FRONTEND=noninteractive update-locale
      --reset LANG=$LANG
    Name: run
    PrependShell: true
  - CmdLine:
    - env DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends       xauth       xinit       x11-xserver-utils
      &&     env DEBIAN_FRONTEND=noninteractive apt-get install -y       xwayland
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y       fvwm       xterm
    Name: run
    PrependShell: true
  - CmdLine:
    - fvwm
    Name: cmd
    PrependShell: false
  - CmdLine:
    - 'echo ''\nxhost +SI:localuser:$USER >/dev/null\necho "DISPLAY=$DISPLAY" \necho
      "\nNote: Xwayland fails if executed directly in compositor Sway. \nIn that case
      try:  x11docker --weston --wayland -- x11docker/xwayland" >&2\nunset WAYLAND_DISPLAY
      \nunset GDK_BACKEND QT_QPA_PLATFORM CLUTTER_BACKEND SDL_VIDEODRIVER ELM_DISPLAY
      ELM_ACCEL ECORE_EVAS_ENGINE \nexport XDG_SESSION_TYPE=x11 \n'' > /xinitrc'
    Name: run
    PrependShell: true
  - CmdLine:
    - 'echo ''#! /bin/sh\n[ -z "$WAYLAND_DISPLAY" ] && echo "ERROR: WAYLAND_DISPLAY
      is not set. Need Wayland environment." >&2 && exit 1 \nexport DISPLAY=":$(echo
      $WAYLAND_DISPLAY | cut -d- -f2)" \nexport XAUTHORITY="$HOME/.Xauthority" \ntouch
      $XAUTHORITY \nxauth add $DISPLAY . $(mcookie) \nexec xinit $HOME/xinitrc --
      /usr/bin/Xwayland $DISPLAY -retro -auth $XAUTHORITY -extension MIT-SHM +extension
      RANDR\n'' > /usr/local/bin/startxwayland && chmod +x /usr/local/bin/startxwayland'
    Name: run
    PrependShell: true
  - CmdLine:
    - echo '#! /bin/sh\ncp /xinitrc $HOME/xinitrc \necho "exec \"$@\"" >> $HOME/xinitrc
      \nexec startxwayland \n' > /usr/local/bin/start && chmod +x /usr/local/bin/start
    Name: run
    PrependShell: true
  - CmdLine:
    - /usr/local/bin/start
    Name: entrypoint
    PrependShell: false
  From:
    Image: debian:buster-slim
  Name: ""
  Platform: ""
  SourceCode: FROM debian:buster-slim
