MetaArgs: null
Stages:
- BaseName: centos:centos7
  Commands:
  - Maintainer: Pavan&Satish
    Name: maintainer
  - Key: uid
    Name: arg
    Value: "1000"
  - CmdLine:
    - "rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
      \t&& rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm"
    Name: run
    PrependShell: true
  - CmdLine:
    - "yum -y update \t&& yum --setopt=tsflags=nodocs -y install \tgcc \tgcc-c++ \thttpd
      \tmod_ssl \twget \tunzip \t&& rm -rf /var/cache/yum/* \t&& yum clean all"
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "80"
  - CmdLine:
    - echo "The Web Server is Running" > /var/www/html/index.html
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "80"
  - CmdLine:
    - "mkdir /jmeter \t&& cd /jmeter/ \t&& wget https://archive.apache.org/dist/jmeter/binaries/apache-jmeter-3.3.tgz
      \t&& tar -xzf apache-jmeter-3.3.tgz \t&& rm apache-jmeter-3.3.tgz \t&& mkdir
      /jmeter-plugins \t&& cd /jmeter-plugins/ \t&& wget https://jmeter-plugins.org/downloads/file/JMeterPlugins-ExtrasLibs-1.4.0.zip
      \t&& unzip -o JMeterPlugins-ExtrasLibs-1.4.0.zip -d /jmeter/apache-jmeter-3.3/"
    Name: run
    PrependShell: true
  - Env:
    - Key: JMETER_HOME
      Value: /jmeter/apache-jmeter-3.3/
    Name: env
  - Env:
    - Key: PATH
      Value: $JMETER_HOME/bin:$PATH
    Name: env
  - CmdLine:
    - -D
    - FOREGROUND
    Name: cmd
    PrependShell: false
  - CmdLine:
    - /usr/sbin/httpd
    Name: entrypoint
    PrependShell: false
  From:
    Image: centos:centos7
  Name: ""
  Platform: ""
  SourceCode: FROM centos:centos7
