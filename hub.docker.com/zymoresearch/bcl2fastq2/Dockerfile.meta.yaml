MetaArgs: null
Stages:
- BaseName: centos:7
  Commands:
  - Maintainer: Mingda Jin
    Name: maintainer
  - CmdLine:
    - yum update -y  && yum install -y         unzip  && yum clean all
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -OsSL ftp://webdata2:webdata2@ussd-ftp.illumina.com/downloads/software/bcl2fastq/bcl2fastq2-v2.17.1.14-Linux-x86_64.zip  &&
      unzip bcl2fastq2-v2.17.1.14-Linux-x86_64.zip  && yum -y --nogpgcheck install
      bcl2fastq2-v2.17.1.14-Linux-x86_64.rpm  && yum clean all  && rm -f bcl2fastq2-v2.17.1.14-Linux-x86_64.rpm  &&
      rm -f bcl2fastq2-v2.17.1.14-Linux-x86_64.zip
    Name: run
    PrependShell: true
  - Env:
    - Key: RUN_FOLDER
      Value: /mnt/run
    Name: env
  - Env:
    - Key: OUTPUT_FOLDER
      Value: /mnt/output
    Name: env
  - Env:
    - Key: MISMATCHES
      Value: "1"
    Name: env
  - CmdLine:
    - curl -o /usr/local/bin/tini -sSL https://github.com/krallin/tini/releases/download/v0.16.1/tini  &&
      chmod +x /usr/local/bin/tini
    Name: run
    PrependShell: true
  - CmdLine:
    - /usr/local/bin/tini
    - --
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - /usr/local/bin/bcl2fastq     --runfolder-dir $RUN_FOLDER     --output-dir $OUTPUT_FOLDER/Data/Intensities/BaseCalls     --barcode-mismatches
      $MISMATCHES     --with-failed-reads
    Name: cmd
    PrependShell: true
  From:
    Image: centos:7
  Name: ""
  Platform: ""
  SourceCode: FROM centos:7
