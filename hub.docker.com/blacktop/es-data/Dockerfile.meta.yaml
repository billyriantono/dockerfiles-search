MetaArgs: null
Stages:
- BaseName: alpine:3.6
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"https://github.com/blacktop"'
    Name: label
  - Env:
    - Key: STACK
      Value: 5.0.0
    Name: env
  - Env:
    - Key: BULK_SIZE
      Value: "5242880"
    Name: env
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - main.go
    - /go/src/main.go
  - CmdLine:
    - apk add --no-cache -t .build-deps                           ca-certificates                           build-base                           mercurial                           musl-dev                           openssl                           wget                           bash                           git                           go   &&
      set -x   && echo "Build [import-dashboard] Go binary..."   && export GOPATH=/go   &&
      go version   && git clone -b v$STACK https://github.com/elastic/beats.git $GOPATH/src/github.com/elastic/beats   &&
      cd $GOPATH/src/github.com/elastic/beats/libbeat/dashboards   && go build -ldflags
      "-s -w -X main.beat=" -o import_dashboards   && mv import_dashboards /bin/import_dashboards   &&
      echo "Building [ingest] Go binary..."   && cd /go/src/   && export GOPATH=/go   &&
      go version   && go get -d   && go build -ldflags="-s -w" -o /bin/ingest   &&
      rm -rf /go /usr/local/go /usr/lib/go /tmp/*   && apk del --purge .build-deps
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - nginx_data/data.zip
    - /nginx_data/data.zip
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - load.sh
    - /load.sh
  - CmdLine:
    - /load.sh
    Name: entrypoint
    PrependShell: false
  From:
    Image: alpine:3.6
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.6
