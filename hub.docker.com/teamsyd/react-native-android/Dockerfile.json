{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "openjdk:8-slim",
      "SourceCode": "FROM openjdk:8-slim",
      "Platform": "",
      "From": {
        "Image": "openjdk:8-slim"
      },
      "Commands": [
        {
          "Labels": [
            {
              "Key": "Description",
              "Value": "\"This image is Syd's base Android development environment for React Native.\""
            }
          ],
          "Name": "label"
        },
        {
          "Key": "SDK_VERSION",
          "Name": "arg",
          "Value": "sdk-tools-linux-4333796.zip"
        },
        {
          "Key": "ANDROID_BUILD_VERSION",
          "Name": "arg",
          "Value": "29"
        },
        {
          "Key": "ANDROID_TOOLS_VERSION",
          "Name": "arg",
          "Value": "29.0.2"
        },
        {
          "Key": "BUCK_VERSION",
          "Name": "arg",
          "Value": "2019.10.17.01"
        },
        {
          "Key": "NDK_VERSION",
          "Name": "arg",
          "Value": "20"
        },
        {
          "Key": "NODE_VERSION",
          "Name": "arg",
          "Value": "12.x"
        },
        {
          "Key": "WATCHMAN_VERSION",
          "Name": "arg",
          "Value": "4.9.0"
        },
        {
          "Env": [
            {
              "Key": "ADB_INSTALL_TIMEOUT",
              "Value": "10"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "ANDROID_HOME",
              "Value": "/opt/android"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "ANDROID_SDK_HOME",
              "Value": "${ANDROID_HOME}"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "ANDROID_NDK",
              "Value": "/opt/ndk/android-ndk-r$NDK_VERSION"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "PATH",
              "Value": "${ANDROID_NDK}:${ANDROID_HOME}/emulator:${ANDROID_HOME}/tools:${ANDROID_HOME}/tools/bin:${ANDROID_HOME}/platform-tools:/opt/buck/bin/:${PATH}"
            }
          ],
          "Name": "env"
        },
        {
          "CmdLine": [
            "apt update -qq \u0026\u0026 apt install -qq -y --no-install-recommends         apt-transport-https         curl         build-essential         file         git         gnupg2         python         openssh-client         unzip     \u0026\u0026 rm -rf /var/lib/apt/lists/*;"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "echo \"deb https://deb.nodesource.com/node_${NODE_VERSION} stretch main\" \u003e /etc/apt/sources.list.d/nodesource.list     \u0026\u0026 echo \"deb https://dl.yarnpkg.com/debian/ stable main\" \u003e /etc/apt/sources.list.d/yarn.list     \u0026\u0026 curl -sS https://deb.nodesource.com/gpgkey/nodesource.gpg.key | apt-key add -     \u0026\u0026 curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add -     \u0026\u0026 apt-get update -qq     \u0026\u0026 apt-get install -qq -y --no-install-recommends nodejs yarn     \u0026\u0026 rm -rf /var/lib/apt/lists/*"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "curl -sS https://dl.google.com/android/repository/android-ndk-r$NDK_VERSION-linux-x86_64.zip -o /tmp/ndk.zip     \u0026\u0026 mkdir /opt/ndk     \u0026\u0026 unzip -q -d /opt/ndk /tmp/ndk.zip     \u0026\u0026 rm /tmp/ndk.zip"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "curl -sS https://dl.google.com/android/repository/${SDK_VERSION} -o /tmp/sdk.zip     \u0026\u0026 mkdir ${ANDROID_HOME}     \u0026\u0026 unzip -q -d ${ANDROID_HOME} /tmp/sdk.zip     \u0026\u0026 rm /tmp/sdk.zip     \u0026\u0026 yes | sdkmanager --licenses     \u0026\u0026 yes | sdkmanager \"platform-tools\"         \"emulator\"         \"platforms;android-28\"         \"platforms;android-$ANDROID_BUILD_VERSION\"         \"build-tools;28.0.3\"         \"build-tools;$ANDROID_TOOLS_VERSION\"         \"add-ons;addon-google_apis-google-23\"         \"system-images;android-19;google_apis;armeabi-v7a\"         \"extras;android;m2repository\"     \u0026\u0026 rm -rf /opt/android/.android"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "npm i -g react-native-cli"
          ],
          "Name": "run",
          "PrependShell": true
        }
      ]
    }
  ]
}