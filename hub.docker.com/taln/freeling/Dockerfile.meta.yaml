MetaArgs: null
Stages:
- BaseName: ubuntu:xenial
  Commands:
  - Maintainer: Joan Codina <joan.codina@upf.edu>
    Name: maintainer
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - CmdLine:
    - "apt-get -qq update &&     apt-get -qq upgrade &&     apt-get install -qqy software-properties-common
      curl git build-essential --fix-missing &&     add-apt-repository -y ppa:webupd8team/java
      &&     apt-get -qq update &&     apt-get -qqy install language-pack-en-base
      &&     update-locale LANG=en_US.UTF-8 &&     echo \"LANGUAGE=en_US.UTF-8\" >>
      /etc/default/locale &&     echo \"LC_ALL=en_US.UTF-8\" >> /etc/default/locale
      &&     locale-gen en_US.UTF-8  &&     apt-get install -y automake autoconf libtool
      wget swig build-essential &&     apt-get install -y libboost-regex-dev libicu-dev
      zlib1g-dev \t\t\t\t\t   libboost-system-dev libboost-program-options-dev libboost-thread-dev
      libboost-filesystem-dev maven"
    Name: run
    PrependShell: true
  - CmdLine:
    - "wget https://cmake.org/files/v3.10/cmake-3.10.2-Linux-x86_64.sh && \t mkdir
      /opt/cmake && sh cmake-3.10.2-Linux-x86_64.sh  --prefix=/opt/cmake --skip-license
      \ &&\t ln -s /opt/cmake/bin/cmake /usr/local/bin/cmake"
    Name: run
    PrependShell: true
  - CmdLine:
    - echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true
      | /usr/bin/debconf-set-selections &&     apt-get install -qq -y oracle-java8-installer
    Name: run
    PrependShell: true
  - Env:
    - Key: JAVADIR
      Value: /usr/lib/jvm/java-8-oracle
    Name: env
  - Env:
    - Key: SWIGDIR
      Value: /usr/share/swig3.0
    Name: env
  - Env:
    - Key: FREELINGDIR
      Value: /usr/local
    Name: env
  - Env:
    - Key: FREELINGOUT
      Value: /usr/local/lib
    Name: env
  - Env:
    - Key: LD_LIBRARY_PATH
      Value: /usr/local/share/freeling/APIs/java/
    Name: env
  - Env:
    - Key: JAVA_HOME
      Value: /usr/lib/jvm/java-8-oracle
    Name: env
  - CmdLine:
    - git clone --depth=1 https://github.com/TALP-UPC/FreeLing.git Freeling
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - .
    - /Freeling
  - Name: workdir
    Path: /Freeling
  - CmdLine:
    - "mkdir build && \tcd build && \tcmake -DJAVA_API=ON .. &&\tmake install &&   apt-get
      autoremove -y && apt-get clean -y && rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*"
    Name: run
    PrependShell: true
  From:
    Image: ubuntu:xenial
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:xenial
