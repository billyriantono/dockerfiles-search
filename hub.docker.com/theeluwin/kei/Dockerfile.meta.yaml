MetaArgs: null
Stages:
- BaseName: ubuntu:latest
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"Jamie Seol <theeluwin@gmail.com>"'
    Name: label
  - Env:
    - Key: LANG
      Value: C.UTF-8
    Name: env
  - Env:
    - Key: TZ
      Value: Asia/Seoul
    Name: env
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - CmdLine:
    - apt-get update &&     apt-get install -y --no-install-recommends tzdata git
      curl
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y python3-pip python3-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /usr/local/bin &&     ln -s /usr/bin/python3 python &&     ln -s /usr/bin/pip3
      pip &&     pip3 install --upgrade pip
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get clean &&     rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -sf /usr/share/zoneinfo/$TZ /etc/localtime &&     echo $TZ > /etc/timezone
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /workspace
  - CmdLine:
    - pip install awscli
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -o kubectl https://amazon-eks.s3-us-west-2.amazonaws.com/1.14.6/2019-08-22/bin/linux/amd64/kubectl
      &&     chmod +x ./kubectl &&     mv ./kubectl /usr/bin/ &&     echo 'alias k=kubectl'
      >> ~/.bashrc
    Name: run
    PrependShell: true
  - CmdLine:
    - "curl -L https://git.io/get_helm.sh | bash &&     helm init --client-only &&
      \    helm repo add jenkins-x\thttp://chartmuseum.jenkins-x.io"
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -L "https://github.com/jenkins-x/jx/releases/download/$(curl --silent "https://github.com/jenkins-x/jx/releases/latest"
      | sed 's#.*tag/\(.*\)\".*#\1#')/jx-linux-amd64.tar.gz" | tar xzv "jx" &&     chmod
      +x ./jx &&     mv ./jx /usr/bin/
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - scripts/eks-configure.sh
    - /usr/bin/eks-configure
  - Name: expose
    Ports:
    - "8000"
  - Name: expose
    Ports:
    - "8080"
  From:
    Image: ubuntu:latest
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:latest
