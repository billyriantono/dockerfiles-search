MetaArgs: null
Stages:
- BaseName: ricordanza/develop
  Commands:
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    - Key: PYTHONIOENCODING
      Value: utf-8
    Name: env
  - CmdLine:
    - ln -sf /bin/bash /bin/sh
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update -y
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y software-properties-common vim curl wget zip git python3-pip
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y language-pack-ja-base language-pack-ja fonts-ipaexfont-gothic
      fonts-ipafont-gothic
    Name: run
    PrependShell: true
  - CmdLine:
    - update-locale LANG=ja_JP.UTF-8 LANGUAGE="ja_JP:ja"
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y tzdata
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -sf /usr/share/zoneinfo/Asia/Tokyo /etc/localtime
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -sf /usr/bin/pip3 /usr/bin/pip
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -sf /usr/bin/python3 /usr/bin/python
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install selenium
    Name: run
    PrependShell: true
  - CmdLine:
    - sh -c 'echo "deb http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google.list'
    Name: run
    PrependShell: true
  - CmdLine:
    - wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key
      add -
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update -y && apt-get install -y google-chrome-stable
    Name: run
    PrependShell: true
  - CmdLine:
    - "CHROME_DRIVER_VERSION=`curl -sS chromedriver.storage.googleapis.com/LATEST_RELEASE`
      && \twget -N http://chromedriver.storage.googleapis.com/$CHROME_DRIVER_VERSION/chromedriver_linux64.zip
      -P ~/"
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip ~/chromedriver_linux64.zip -d ~/
    Name: run
    PrependShell: true
  - CmdLine:
    - rm ~/chromedriver_linux64.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - chown root:root ~/chromedriver
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod 755 ~/chromedriver
    Name: run
    PrependShell: true
  - CmdLine:
    - mv ~/chromedriver /usr/bin/chromedriver
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-add-repository -y ppa:mozillateam/firefox-next
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update -y
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y firefox
    Name: run
    PrependShell: true
  - CmdLine:
    - "GECKO_DRIVER_URL=$(curl -s https://api.github.com/repos/mozilla/geckodriver/releases/latest
      | python -c \"import sys, json; print(next(item['browser_download_url'] for
      item in json.load(sys.stdin)['assets'] if 'linux64' in item.get('browser_download_url',
      '')))\")  && \twget -N $GECKO_DRIVER_URL -P ~/"
    Name: run
    PrependShell: true
  - CmdLine:
    - tar -zxvf ~/geckodriver-*-linux64.tar.gz -C ~/
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -f ~/geckodriver-*-linux64.tar.gz
    Name: run
    PrependShell: true
  - CmdLine:
    - chown root:root ~/geckodriver
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod 755 ~/geckodriver
    Name: run
    PrependShell: true
  - CmdLine:
    - mv ~/geckodriver /usr/bin/geckodriver
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get autoremove
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get autoclean
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get clean
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -rf /var/cache/apt/*
    Name: run
    PrependShell: true
  - CmdLine:
    - rm -rf /var/log/*
    Name: run
    PrependShell: true
  From:
    Image: ricordanza/develop
  Name: ""
  Platform: ""
  SourceCode: FROM ricordanza/develop
