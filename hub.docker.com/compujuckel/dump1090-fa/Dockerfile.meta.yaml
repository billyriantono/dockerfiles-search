MetaArgs: null
Stages:
- BaseName: debian:jessie
  Commands:
  - CmdLine:
    - "apt-get update && \tapt-get install -y librtlsdr-dev fakeroot dpkg-dev git
      debhelper libusb-1.0-0-dev pkg-config dh-systemd libncurses5-dev libusb-1.0-0
      build-essential cmake libtecla1 libtecla-dev wget doxygen help2man pandoc"
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone --recursive https://github.com/Nuand/bladeRF.git
    Name: run
    PrependShell: true
  - Name: workdir
    Path: bladeRF
  - CmdLine:
    - git checkout tags/2016.06
    Name: run
    PrependShell: true
  - CmdLine:
    - dpkg-buildpackage -b
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /
  - CmdLine:
    - dpkg -i libbladerf1_2016.06_amd64.deb libbladerf-dev_2016.06_amd64.deb
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/flightaware/dump1090.git
    Name: run
    PrependShell: true
  - Name: workdir
    Path: dump1090
  - CmdLine:
    - dpkg-buildpackage -b
    Name: run
    PrependShell: true
  From:
    Image: debian:jessie
  Name: ""
  Platform: ""
  SourceCode: FROM debian:jessie
- BaseName: debian:jessie
  Commands:
  - Chown: ""
    From: "0"
    Name: copy
    SourcesAndDest:
    - libbladerf1_2016.06_amd64.deb
    - .
  - Chown: ""
    From: "0"
    Name: copy
    SourcesAndDest:
    - dump1090-fa_3.6.3_amd64.deb
    - .
  - CmdLine:
    - "apt-get update && \tapt-get install -y librtlsdr0 libusb-1.0-0 init-system-helpers
      lighttpd supervisor"
    Name: run
    PrependShell: true
  - CmdLine:
    - dpkg -i libbladerf1_2016.06_amd64.deb dump1090-fa_3.6.3_amd64.deb
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /run/dump1090-fa
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - supervisor
    - /etc/supervisor
  - Name: expose
    Ports:
    - "30001"
    - "30002"
    - "30003"
    - "30004"
    - "30005"
    - "30104"
    - "8080"
  - CmdLine:
    - supervisord
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - -c
    - /etc/supervisor/supervisord.conf
    Name: cmd
    PrependShell: false
  From:
    Image: debian:jessie
  Name: ""
  Platform: ""
  SourceCode: FROM debian:jessie
