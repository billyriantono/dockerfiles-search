MetaArgs: null
Stages:
- BaseName: mhart/alpine-node:latest
  Commands:
  - Key: pkg_version
    Name: arg
    Value: '"v1.0.1"'
  - Key: package_url
    Name: arg
    Value: '"https://github.com/jishi/node-sonos-http-api/tarball/${pkg_version}"'
  - Env:
    - Key: HTTP_PORT
      Value: "5005"
    Name: env
  - Env:
    - Key: HTTPS_PORT
      Value: "5006"
    Name: env
  - Env:
    - Key: ANNOUNCE_VOLUME
      Value: "40"
    Name: env
  - Env:
    - Key: VOICERSS_API_KEY
      Value: '""'
    Name: env
  - CmdLine:
    - apk update &&     apk add ca-certificates tar wget &&     update-ca-certificates
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./entrypoint.sh
    - /
  - CmdLine:
    - mkdir -p /opt/app &&     wget -q ${package_url} -O /tmp/package.tar.gz &&     tar
      xzf /tmp/package.tar.gz --strip-components=1 -C /opt/app &&     chmod +x /entrypoint.sh
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /opt/app/
  - CmdLine:
    - npm install --production
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - ${HTTPS_PORT}
    - ${HTTP_PORT}
    - "3500"
  - Name: volume
    Volumes:
    - /opt/app/cache
    - /opt/app/presets
  - CmdLine:
    - /entrypoint.sh
    Name: entrypoint
    PrependShell: false
  From:
    Image: mhart/alpine-node:latest
  Name: ""
  Platform: ""
  SourceCode: FROM mhart/alpine-node:latest
