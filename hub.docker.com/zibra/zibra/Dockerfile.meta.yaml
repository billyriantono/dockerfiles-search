MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: Nick Loman <n.j.loman@bham.ac.uk>
    Name: maintainer
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y git build-essential wget zlib1g-dev vim libncurses5-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y python python-pip
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install pysam pyvcf biopython clint
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y python3 python3-pip
    Name: run
    PrependShell: true
  - CmdLine:
    - pip3 install snakemake pandas
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /zibra
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /zibra/
  - CmdLine:
    - git clone --recursive https://github.com/lh3/bwa && cd bwa && make -j8
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y libbz2-dev liblzma-dev && wget https://github.com/samtools/samtools/releases/download/1.4/samtools-1.4.tar.bz2
      && tar xvjf samtools-1.4.tar.bz2 && cd samtools-1.4 && make
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/mengyao/Complete-Striped-Smith-Waterman-Library.git
      && cd Complete-Striped-Smith-Waterman-Library/src && make
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install git+https://github.com/arq5x/poretools.git@basecaller-choice
    Name: run
    PrependShell: true
  - CmdLine:
    - pip3 install git+https://github.com/rrwick/Porechop.git
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - HISTORY
    - /zibra/HISTORY
  - CmdLine:
    - git clone --recursive https://github.com/jts/nanopolish/ && cd nanopolish &&
      git checkout tags/v0.8.4 && make -j4
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/zibraproject/zika-pipeline
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /zibra/zika-pipeline/
  - Env:
    - Key: PATH
      Value: $PATH:/zibra/nanopolish:/zibra/bwa:/zibra/samtools-1.4:/zibra/zika-pipeline/scripts
    Name: env
  - Env:
    - Key: PYTHONPATH
      Value: /zibra/Complete-Striped-Smith-Waterman-Library/src
    Name: env
  - Env:
    - Key: LD_LIBRARY_PATH
      Value: /zibra/Complete-Striped-Smith-Waterman-Library/src
    Name: env
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
