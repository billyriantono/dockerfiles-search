MetaArgs: null
Stages:
- BaseName: anapsix/alpine-java:jre8
  Commands:
  - Maintainer: Conor Brennan <brennc27@tcd.ie>
    Name: maintainer
  - Name: expose
    Ports:
    - "3030"
  - CmdLine:
    - apk add --no-cache curl
    Name: run
    PrependShell: true
  - Env:
    - Key: JENA_ARCHIVE
      Value: https://archive.apache.org/dist/
    Name: env
  - Env:
    - Key: JENA_VERSION
      Value: 3.2.0
    Name: env
  - Env:
    - Key: JENA_DIR
      Value: /opt/jena
    Name: env
  - CmdLine:
    - mkdir $JENA_DIR &&     curl $JENA_ARCHIVE/jena/binaries/apache-jena-$JENA_VERSION.tar.gz
      | tar zxf - -C $JENA_DIR
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: $JENA_DIR/apache-jena-$JENA_VERSION/bin:$PATH
    Name: env
  - Env:
    - Key: FUSEKI_VERSION
      Value: 2.4.0
    Name: env
  - Env:
    - Key: FUSEKI_DIR
      Value: /opt/fuseki
    Name: env
  - Env:
    - Key: FUSEKI_HOME
      Value: $FUSEKI_DIR/apache-jena-fuseki-$FUSEKI_VERSION
    Name: env
  - CmdLine:
    - mkdir $FUSEKI_DIR &&     curl $JENA_ARCHIVE/jena/binaries/apache-jena-fuseki-$FUSEKI_VERSION.tar.gz
      | tar zxf - -C $FUSEKI_DIR
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: $FUSEKI_DIR/apache-jena-fuseki-$FUSEKI_VERSION:$PATH
    Name: env
  - Env:
    - Key: OWL_DIR
      Value: /opt/owl
    Name: env
  - Env:
    - Key: OWL_FILE
      Value: https://raw.githubusercontent.com/labda/DINTO/68a29b568d6690fd04284feb06d152ca6e1e2e46/DINTO%201/DINTO_1.owl
    Name: env
  - Name: workdir
    Path: $OWL_DIR
  - CmdLine:
    - curl $OWL_FILE -o ddis.owl
    Name: run
    PrependShell: true
  - CmdLine:
    - SORT_ARGS="-m" tdbloader2 --loc $OWL_DIR/tdb ddis.owl &&     rm -rf ddis.owl
    Name: run
    PrependShell: true
  - CmdLine:
    - fuseki-server
    - --loc=/opt/owl/tdb
    - /dinto
    Name: cmd
    PrependShell: false
  From:
    Image: anapsix/alpine-java:jre8
  Name: ""
  Platform: ""
  SourceCode: FROM anapsix/alpine-java:jre8
