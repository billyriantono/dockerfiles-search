MetaArgs: null
Stages:
- BaseName: debian
  Commands:
  - Maintainer: Gareth Jones (joneszone1975@gmail.com)
    Name: maintainer
  - Labels:
    - Key: Description
      Value: '"A simple image that gives me an up-to-date CMake and ninja build environment"'
    Name: label
  - CmdLine:
    - apt-get update && apt-get install -y build-essential doxygen git   subversion
      zlib1g-dev libcurl4-gnutls-dev python re2c
    Name: run
    PrependShell: true
  - Env:
    - Key: srcdir
      Value: /usr/src
    Name: env
  - Env:
    - Key: builddir
      Value: /usr/build
    Name: env
  - CmdLine:
    - mkdir -p ${builddir}
    Name: run
    PrependShell: true
  - Name: workdir
    Path: ${srcdir}
  - CmdLine:
    - git clone git://cmake.org/cmake.git && cd cmake && git checkout release &&   git
      checkout $(git describe --tags) && cd ..
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir cmake-build && cd cmake-build &&   /usr/src/cmake/bootstrap --parallel=$(nproc)
      --prefix=/usr &&   make -j$(nproc) &&   ./bin/cmake -DCMAKE_USE_SYSTEM_CURL:BOOL=ON
      -DCMAKE_USE_OPENSSL:BOOL=ON . &&   make install && cd .. && rm -rf cmake-build
      && rm -rf cmake
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/ninja-build/ninja.git && cd ninja &&   git checkout
      release && git checkout $(git describe --tags)
    Name: run
    PrependShell: true
  - CmdLine:
    - cd ninja && python ./configure.py --bootstrap && ./ninja &&   cp ./ninja /usr/bin/
      && cd .. && rm -rf ninja
    Name: run
    PrependShell: true
  - Name: volume
    Volumes:
    - ${srcdir}
  - Name: workdir
    Path: ${builddir}
  From:
    Image: debian
  Name: ""
  Platform: ""
  SourceCode: FROM debian
