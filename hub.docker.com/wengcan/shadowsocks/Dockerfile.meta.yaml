MetaArgs: null
Stages:
- BaseName: alpine:3.4
  Commands:
  - Maintainer: wengcan <wengcanvip@gmail.com>
    Name: maintainer
  - Env:
    - Key: BUILDDEPENDENCIES
      Value: git build-base gcc automake autoconf  c-ares-dev libev-dev libsodium-dev
        linux-headers mbedtls-dev pcre-dev  libtool openssl-dev  udns-dev asciidoc
        xmlto
    Name: env
  - Env:
    - Key: DEPENDENCIES
      Value: libcrypto1.0 pcre  libev libsodium mbedtls c-ares
    Name: env
  - CmdLine:
    - apk add --update --no-cache  --virtual .build-deps $BUILDDEPENDENCIES
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/shadowsocks/simple-obfs.git && cd simple-obfs &&
      git submodule update --init --recursive && ./autogen.sh && ./configure && make
      &&  make install && cd ../ && rm -rf simple-obfs
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/shadowsocks/shadowsocks-libev.git  && cd shadowsocks-libev  &&
      git submodule update --init --recursive  && ./autogen.sh  && ./configure --disable-documentation  &&
      make  && make install  && cd ../  && rm -rf  shadowsocks-libev  && apk add --no-cache
      $DEPENDENCIES  && apk del .build-deps  && rm -rf /var/cache/apk/*
    Name: run
    PrependShell: true
  - CmdLine:
    - bash
    Name: cmd
    PrependShell: false
  From:
    Image: alpine:3.4
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.4
