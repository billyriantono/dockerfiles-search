MetaArgs: null
Stages:
- BaseName: node:8.6
  Commands:
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./package.json
    - ./app/
  - Name: workdir
    Path: /app/
  - Env:
    - Key: NODE_ENV
      Value: production
    Name: env
  - Env:
    - Key: MT_TITLE
      Value: mailtrain
    Name: env
  - Env:
    - Key: MT_LANGUAGE
      Value: en
    Name: env
  - Env:
    - Key: MT_LOG_LEVEL
      Value: verbose
    Name: env
  - Env:
    - Key: MT_PORT
      Value: "3000"
    Name: env
  - Env:
    - Key: MT_HOST_INTERFACE
      Value: 0.0.0.0
    Name: env
  - Env:
    - Key: MT_SECRET
      Value: a cat
    Name: env
  - Env:
    - Key: MT_LOGGER
      Value: dev
    Name: env
  - Env:
    - Key: MT_USE_PROXY
      Value: "false"
    Name: env
  - Env:
    - Key: MT_MAX_POST
      Value: 2MB
    Name: env
  - Env:
    - Key: MYSQL_HOST
      Value: localhost
    Name: env
  - Env:
    - Key: MYSQL_USER
      Value: mysql
    Name: env
  - Env:
    - Key: MYSQL_PASSWORD
      Value: password
    Name: env
  - Env:
    - Key: MYSQL_DB
      Value: database
    Name: env
  - Env:
    - Key: MYSQL_PORT
      Value: "3306"
    Name: env
  - Env:
    - Key: USE_REDIS
      Value: "true"
    Name: env
  - Env:
    - Key: REDIS_HOST
      Value: localhost
    Name: env
  - Env:
    - Key: REDIS_PORT
      Value: "6379"
    Name: env
  - CmdLine:
    - npm install --no-progress --production && npm install --no-progress passport-ldapjs
      passport-ldapauth
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - .
    - /app
  - Name: expose
    Ports:
    - "3000"
  - CmdLine:
    - bash
    - /app/docker-entrypoint.sh
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - node
    - index.js
    Name: cmd
    PrependShell: false
  From:
    Image: node:8.6
  Name: ""
  Platform: ""
  SourceCode: FROM node:8.6
