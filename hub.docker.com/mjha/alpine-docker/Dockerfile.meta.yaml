MetaArgs:
- DefaultValue: "3.7"
  Key: ALPINE_VER
  ProvidedValue: null
  Value: "3.7"
Stages:
- BaseName: alpine:$ALPINE_VER
  Commands:
  - Maintainer: Mark Harkin
    Name: maintainer
  - Key: DOCKER_VER
    Name: arg
    Value: 17.12.1-ce
  - Env:
    - Key: DOCKER_CHANNEL
      Value: stable
    Name: env
  - Env:
    - Key: DOCKER_VER
      Value: $DOCKER_VER
    Name: env
  - Env:
    - Key: DOCKER_ARCH
      Value: x86_64
    Name: env
  - CmdLine:
    - addgroup -S docker  && adduser -S -g docker docker
    Name: run
    PrependShell: true
  - CmdLine:
    - apk add --no-cache --virtual .fetch-deps wget tar ca-certificates   && wget
      "https://download.docker.com/linux/static/${DOCKER_CHANNEL}/${DOCKER_ARCH}/docker-${DOCKER_VER}.tgz"   &&
      tar --extract --file docker-${DOCKER_VER}.tgz --strip-components 1 --directory
      /tmp docker   && mv /tmp/docker /usr/bin   && rm /tmp/*   && rm docker-${DOCKER_VER}.tgz   &&
      apk del .fetch-deps    && chown -R docker:docker /usr/bin/docker   && chmod
      770 /usr/bin/docker
    Name: run
    PrependShell: true
  - Name: user
    User: docker
  - CmdLine:
    - docker
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - info
    Name: cmd
    PrependShell: false
  From:
    Image: alpine:$ALPINE_VER
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:$ALPINE_VER
