MetaArgs: null
Stages:
- BaseName: alpine:3.10
  Commands:
  - Maintainer: Ulrich Schreiner <ulrich.schreiner@gmail.com>
    Name: maintainer
  - CmdLine:
    - "apk add --update \tbuild-base \tca-certificates \tcurl \tgit \tkrb5-dev \tlibffi-dev
      \topenssh \topenssl \topenssl-dev \tpython3 \tpython3-dev \trsync \tsshpass
      \tsudo \tunzip \t&& rm -rf /var/cache/apk/*"
    Name: run
    PrependShell: true
  - Env:
    - Key: ANSIBLE_VERSION
      Value: 2.9.2
    - Key: BOTO_VERSION
      Value: 2.49.0
    - Key: WINRM_VERSION
      Value: 0.3.0
    - Key: KERBEROS_VERSION
      Value: 1.3.0
    - Key: MITOGEN_VERSION
      Value: 0.2.9
    Name: env
  - Env:
    - Key: ANSIBLE_STRATEGY_PLUGINS
      Value: /mitogen-${MITOGEN_VERSION}/ansible_mitogen/plugins/strategy
    - Key: ANSIBLE_TRANSFORM_INVALID_GROUP_CHARS
      Value: ignore
    - Key: MITOGEN_TAG
      Value: v${MITOGEN_VERSION}
    Name: env
  - CmdLine:
    - "curl -L \"https://github.com/dw/mitogen/archive/$MITOGEN_TAG.tar.gz\" | \t\ttar
      xzv -C / && \t\tpip3 install --upgrade pip &&     pip3 --no-cache-dir install
      \"ansible==$ANSIBLE_VERSION\" \t     \"boto==$BOTO_VERSION\" \t     \"pywinrm==$WINRM_VERSION\"
      \t     \"kerberos==$KERBEROS_VERSION\" \t     netaddr &&     git clone https://github.com/kewlfft/ansible-aur.git
      /usr/share/ansible/plugins/modules/aur"
    Name: run
    PrependShell: true
  - Name: volume
    Volumes:
    - /work
  - Name: workdir
    Path: /work
  - Env:
    - Key: ANSIBLE_HOST_KEY_CHECKING
      Value: "False"
    Name: env
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - entry.sh
    - /entry.sh
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ansible.cfg
    - /etc/ansible/ansible.cfg
  - CmdLine:
    - /entry.sh
    Name: entrypoint
    PrependShell: false
  From:
    Image: alpine:3.10
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.10
