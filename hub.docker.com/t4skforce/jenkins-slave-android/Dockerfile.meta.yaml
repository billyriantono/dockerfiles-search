MetaArgs: null
Stages:
- BaseName: t4skforce/jenkins-slave
  Commands:
  - Env:
    - Key: KOTLIN_VERSION
      Value: '"v1.3.41"'
    Name: env
  - Env:
    - Key: KOTLIN_DOWNLOADURL
      Value: '"https://github.com/JetBrains/kotlin/releases/download/v1.3.41/kotlin-compiler-1.3.41.zip"'
    Name: env
  - Env:
    - Key: ANDROID_SDK_VERSION
      Value: '"4333796"'
    Name: env
  - Env:
    - Key: ANDROID_SDK_DOWNLOADURL
      Value: '"https://dl.google.com/android/repository/sdk-tools-linux-4333796.zip"'
    Name: env
  - Env:
    - Key: KOTLIN_HOME
      Value: /opt/kotlin
    Name: env
  - Env:
    - Key: ANDROID_HOME
      Value: /opt/android-sdk
    Name: env
  - Env:
    - Key: ANDROID_SDK_HOME
      Value: $ANDROID_HOME
    Name: env
  - Env:
    - Key: PATH
      Value: ${PATH}:${KOTLIN_HOME}/bin:${ANDROID_HOME}/emulator:${ANDROID_HOME}/tools:${ANDROID_HOME}/platform-tools:${ANDROID_HOME}/tools/bin
    Name: env
  - Name: user
    User: root
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - /install.sh
    - /tmp/install.sh
  - CmdLine:
    - apt-get update -qqy   && apt-get install -y curl build-essential sudo zip expect   &&
      curl -sL https://deb.nodesource.com/setup_10.x | bash -   && apt-get install
      --fix-missing   && apt-get install -y --no-install-recommends nodejs git gradle   &&
      cd /opt   && curl -Ls ${KOTLIN_DOWNLOADURL} --output kotlin.zip   && unzip -q
      kotlin.zip   && rm kotlin.zip   && mkdir -p ${ANDROID_SDK_HOME}   && cd ${ANDROID_SDK_HOME}   &&
      curl -Ls ${ANDROID_SDK_DOWNLOADURL} --output android-sdk.zip   && unzip -q android-sdk.zip   &&
      rm android-sdk.zip   && cd /home/jenkins   && chmod +x /tmp/install.sh && /tmp/install.sh   &&
      ln -s $ANDROID_HOME/build-tools/*/zipalign /usr/bin/zipalign   && npm install
      -g cordova@8.1.2   && npm install -g ionic   && npm install -g bower   && npm
      install -g gulp   && chmod 777 -R $ANDROID_HOME   && rm -rf /var/lib/apt/lists/*   &&
      rm -rf /tmp/*   && chown -R jenkins:jenkins /home/jenkins
    Name: run
    PrependShell: true
  - Name: user
    User: jenkins
  From:
    Image: t4skforce/jenkins-slave
  Name: ""
  Platform: ""
  SourceCode: FROM t4skforce/jenkins-slave
