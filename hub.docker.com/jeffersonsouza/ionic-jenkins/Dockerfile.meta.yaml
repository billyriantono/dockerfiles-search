MetaArgs: null
Stages:
- BaseName: node:9-alpine
  Commands:
  - Maintainer: Jefferson Souza <hsinfo@gmail.com>
    Name: maintainer
  - Env:
    - Key: ANDROID_SDK_VERSION
      Value: android-sdk_r24.4.1-linux.tgz
    Name: env
  - Env:
    - Key: ANDROID_SDK_APIS
      Value: android-19,android-21,android-22,android-23,android-24,android-25
    Name: env
  - Env:
    - Key: ANDROID_HOME
      Value: /opt/android-sdk-linux
    Name: env
  - Env:
    - Key: PATH
      Value: ${PATH}:${ANDROID_HOME}/tools:${ANDROID_HOME}/platform-tools
    Name: env
  - Env:
    - Key: ANDROID_BUILD_TOOLS_VERSION
      Value: 25.0.2
    Name: env
  - Env:
    - Key: SASS_BINARY_NAME
      Value: linux-x64-57
    Name: env
  - CmdLine:
    - apk -U --no-cache add tar openjdk8 python ruby git openssh g++ gcc libgcc libstdc++
      linux-headers make &&     rm /var/cache/apk/*
    Name: run
    PrependShell: true
  - CmdLine:
    - npm install -g npm &&     npm -g config set user $USER &&     npm install -g
      yarn node-sass cordova ionic@latest &&     echo y | cordova -v
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://dl.google.com/android/${ANDROID_SDK_VERSION}
    - /opt
  - CmdLine:
    - cd /opt &&     tar -xf ${ANDROID_SDK_VERSION} &&     rm -f ${ANDROID_SDK_VERSION}
    Name: run
    PrependShell: true
  - CmdLine:
    - echo y | android update sdk --no-ui -a --filter tools,platform-tools,${ANDROID_API_LEVELS},build-tools-${ANDROID_BUILD_TOOLS_VERSION}
      --no-https
    Name: run
    PrependShell: true
  - CmdLine:
    - delgroup ping
    Name: run
    PrependShell: true
  - CmdLine:
    - addgroup jenkins &&     adduser -D jenkins -s /bin/sh -G jenkins &&     chown
      -R jenkins:jenkins /home/jenkins &&     echo "jenkins:jenkins" | chpasswd &&     addgroup
      -g 999 $USER docker &&     sed -ri 's/(docker:x:999:)/\1jenkins/' /etc/group
    Name: run
    PrependShell: true
  - CmdLine:
    - ssh-keygen -A
    Name: run
    PrependShell: true
  - Name: user
    User: jenkins
  - CmdLine:
    - touch ~/.sudo_as_admin_successful
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /home/jenkins
  - Name: user
    User: root
  - Name: expose
    Ports:
    - "22"
  - CmdLine:
    - /usr/sbin/sshd
    - -D
    Name: cmd
    PrependShell: false
  From:
    Image: node:9-alpine
  Name: ""
  Platform: ""
  SourceCode: FROM node:9-alpine
