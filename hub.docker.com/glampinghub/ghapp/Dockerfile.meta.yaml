MetaArgs: null
Stages:
- BaseName: ubuntu:xenial
  Commands:
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    - Key: LANG
      Value: en_US.UTF-8
    - Key: LANGUAGE
      Value: en_US:en
    - Key: LC_ALL
      Value: en_US.UTF-8
    - Key: TERM
      Value: ${TERM:-xterm}
    - Key: PORT
      Value: "8000"
    - Key: ENV
      Value: develop
    - Key: PATH
      Value: /webapp/venv/bin/:/webapp/.venv/bin/:$PATH
    - Key: DEBUG
      Value: "True"
    Name: env
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://deb.nodesource.com/setup_6.x
    - /tmp/setup-nodejs
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./sd_notify
    - /usr/bin/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./docker-entrypoint.sh
    - /
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./http_ok-linux-amd64
    - /usr/local/bin/http_ok
  - CmdLine:
    - apt-get update     && apt-get install locales     && locale-gen en_US.UTF-8     &&
      echo 'debconf debconf/frontend select Noninteractive' | debconf-set-selections     &&
      bash /tmp/setup-nodejs     && apt-get install --no-install-recommends -qy         nodejs
      openssh-client git         build-essential awscli         virtualenv python-pip
      python-dev python-setuptools python-wheel         libpq-dev libmaxminddb0 libmaxminddb-dev
      libmemcached-dev         libjpeg8 libjpeg8-dev libopenjp2-7 libopenjp2-7-dev
      libtiff5 libtiff5-dev libfreetype6 libfreetype6-dev libwebp5 libwebp-dev         libgeos-3.5.0
      libgeos-dev gdal-bin libgdal-dev python-gdal binutils libproj-dev gdal-bin         wkhtmltopdf
      xvfb         libffi-dev         vim less jq         && ln -s /usr/include/freetype2
      /usr/local/include/freetype     && echo -n '#!/bin/sh\nxvfb-run -a /usr/bin/wkhtmltopdf
      "$@" || /usr/bin/wkhtmltopdf "$@"\n' > /usr/local/bin/wkhtmltopdf     && chmod
      +x /usr/local/bin/wkhtmltopdf     && npm install --global --production eslint     &&
      pip install flake8 flake8_formatter_junit_xml     && apt-get clean && rm -rf
      /var/lib/apt/lists/* /tmp/* /var/tmp/* && npm cache clean
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /webapp
  - CmdLine:
    - /docker-entrypoint.sh
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - /bin/sleep
    - infinity
    Name: cmd
    PrependShell: false
  - Labels:
    - Key: org.opencontainers.image.authors
      Value: '"Jos√© Luis Salvador Rufo <salvador.joseluis@gmail.com>"'
    - Key: org.opencontainers.image.title
      Value: '"Django container"'
    - Key: org.opencontainers.image.url
      Value: '"https://glampinghub.com"'
    - Key: org.opencontainers.image.vendor
      Value: '"Glamping Hub USA Inc."'
    Name: label
  From:
    Image: ubuntu:xenial
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:xenial
