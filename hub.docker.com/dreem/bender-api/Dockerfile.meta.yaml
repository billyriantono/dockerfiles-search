MetaArgs: null
Stages:
- BaseName: python:3.6
  Commands:
  - CmdLine:
    - apt-get update --fix-missing
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y apt-utils
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y build-essential ca-certificates git pkg-config python python-all-dev
      python-setuptools python-dev build-essential gfortran libatlas-base-dev libatlas3-base
      python-dev libjpeg-dev libxml2-dev libfreetype6-dev libpng-dev unzip zip zsh
      && rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -f -y postgresql-client
    Name: run
    PrependShell: true
  - Env:
    - Key: TERM
      Value: xterm
    Name: env
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./bender_service/requirements.txt
    - /requirements.txt
  - CmdLine:
    - pip install pip --upgrade
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install -r /requirements.txt
    Name: run
    PrependShell: true
  - CmdLine:
    - curl https://cdn.rawgit.com/zsh-users/antigen/v1.0.4/antigen.zsh > /root/antigen.zsh
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./scripts/.bashrc
    - /root/.bashrc
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./scripts/.zshrc
    - /root/.zshrc
  - CmdLine:
    - /bin/zsh /root/.zshrc
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./scripts/run_development.sh
    - /run_development.sh
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./scripts/run_packaged.sh
    - /run_packaged.sh
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./scripts/run_web.sh
    - /run_web.sh
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./scripts/run_web.sh
    - /run_tests.sh
  - CmdLine:
    - pip install benderopt==1.3.1
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./bender_service
    - /usr/src/app
  - Name: workdir
    Path: /usr/src/app
  - Name: expose
    Ports:
    - "8000"
  From:
    Image: python:3.6
  Name: ""
  Platform: ""
  SourceCode: FROM python:3.6
