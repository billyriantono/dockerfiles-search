MetaArgs: null
Stages:
- BaseName: nvidia/cudagl:9.0-devel-ubuntu16.04
  Commands:
  - Name: shell
    Shell:
    - /bin/bash
    - -c
  - CmdLine:
    - apt-get update -qq > /dev/null && apt-get install -y -qq sudo wget lsb-release
      iputils-ping > /dev/null &&     apt-get install -y -qq build-essential vim htop
      sshfs nfs-common git net-tools &&     rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - Env:
    - Key: ROS_DISTRO
      Value: kinetic
    Name: env
  - CmdLine:
    - sh -c 'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main"
      > /etc/apt/sources.list.d/ros-latest.list' &&     apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80'
      --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654 &&     apt-get update &&
      apt-get install -y         apt-utils         ros-${ROS_DISTRO}-desktop-full         ros-${ROS_DISTRO}-serial
      &&     rosdep init &&     rosdep update &&     echo "source /opt/ros/${ROS_DISTRO}/setup.bash"
      >> /root/.bashrc &&     source /root/.bashrc
    Name: run
    PrependShell: true
  - Env:
    - Key: CATKIN_WS
      Value: /root/catkin_ws
    Name: env
  - CmdLine:
    - mkdir -p $CATKIN_WS/src
    Name: run
    PrependShell: true
  - Name: workdir
    Path: $CATKIN_WS/src
  - CmdLine:
    - source /opt/ros/${ROS_DISTRO}/setup.bash     && apt-get update     && cd $CATKIN_WS     &&
      catkin_make
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y python-pip
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install pip==9.0.1
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install curl
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -sL https://deb.nodesource.com/setup_11.x | bash
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get -y install nodejs
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install jupyter ipywidgets jupyterlab bqplot pyyaml jupyros numpy==1.12.0
    Name: run
    PrependShell: true
  - CmdLine:
    - jupyter labextension install @jupyter-widgets/jupyterlab-manager
    Name: run
    PrependShell: true
  - CmdLine:
    - jupyter labextension install jupyter-ros
    Name: run
    PrependShell: true
  - CmdLine:
    - jupyter nbextension enable --py --sys-prefix jupyros
    Name: run
    PrependShell: true
  - CmdLine:
    - jupyter nbextension enable --py --sys-prefix widgetsnbextension
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install --no-cache-dir torch==1.0.1 -f https://download.pytorch.org/whl/cu90/stable
      torchvision typing
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install sidecar gdown h5py opencv-python
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install --upgrade cryptography matplotlib
    Name: run
    PrependShell: true
  - CmdLine:
    - python -m easy_install --upgrade pyOpenSSL
    Name: run
    PrependShell: true
  - CmdLine:
    - jupyter labextension install @jupyter-widgets/jupyterlab-sidecar
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y ros-${ROS_DISTRO}-teb-local-planner ros-${ROS_DISTRO}-interactive-marker-proxy
      ros-${ROS_DISTRO}-tf2-ros ros-${ROS_DISTRO}-rosbridge-server
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/RobotWebTools/tf2_web_republisher /root/catkin_ws/src/tf2_web_republisher/
    Name: run
    PrependShell: true
  - Name: workdir
    Path: $CATKIN_WS/src
  - CmdLine:
    - source /opt/ros/${ROS_DISTRO}/setup.bash     && cd $CATKIN_WS     && catkin_make     &&
      apt-get install ros-${ROS_DISTRO}-serial
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "8888"
  - Env:
    - Key: QT_X11_NO_MITSHM
      Value: "1"
    Name: env
  - CmdLine:
    - bash
    Name: cmd
    PrependShell: false
  From:
    Image: nvidia/cudagl:9.0-devel-ubuntu16.04
  Name: ""
  Platform: ""
  SourceCode: FROM nvidia/cudagl:9.0-devel-ubuntu16.04
