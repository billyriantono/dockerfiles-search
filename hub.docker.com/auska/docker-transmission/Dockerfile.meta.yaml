MetaArgs: null
Stages:
- BaseName: lsiobase/alpine:3.11
  Commands:
  - Key: BUILD_DATE
    Name: arg
    Value: null
  - Key: VERSION
    Name: arg
    Value: null
  - Labels:
    - Key: build_version
      Value: '"blog.auska.win version:- ${VERSION} Build-date:- ${BUILD_DATE}"'
    Name: label
  - Labels:
    - Key: maintainer
      Value: '"Auska"'
    Name: label
  - Env:
    - Key: TZ
      Value: Asia/Shanghai
    - Key: WEBUI_VERSION
      Value: 1.6.0-beta2
    - Key: USER
      Value: admin
    - Key: PASSWD
      Value: admin
    - Key: WEBUI_PORT
      Value: "9091"
    - Key: PORT
      Value: "51413"
    Name: env
  - CmdLine:
    - "echo \"**** install packages ****\" &&  apk add --no-cache \tcurl \tjq \topenssl
      \tp7zip \trsync \ttar \ttransmission-cli \ttransmission-daemon \tunrar \tunzip
      && curl -fSL https://github.com/ronggang/transmission-web-control/archive/v${WEBUI_VERSION}.zip
      -o twc.zip && unzip twc.zip -d /tmp && cp -rf /usr/share/transmission/web/index.html
      /usr/share/transmission/web/index.original.html && cp -rf /tmp/transmission-web-control-${WEBUI_VERSION}/src/*
      /usr/share/transmission/web/ && rm -rf /tmp/*"
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - root/
    - /
  - Name: expose
    Ports:
    - "51413"
    - "9091"
  - Name: volume
    Volumes:
    - /config
    - /downloads
    - /watch
  From:
    Image: lsiobase/alpine:3.11
  Name: ""
  Platform: ""
  SourceCode: FROM lsiobase/alpine:3.11
