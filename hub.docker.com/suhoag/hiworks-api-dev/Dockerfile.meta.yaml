MetaArgs: null
Stages:
- BaseName: ubuntu:19.04
  Commands:
  - CmdLine:
    - apt-get update &&     DEBIAN_FRONTEND=noninteractive apt-get  install apt-utils
      software-properties-common tzdata apache2 vim -y &&     ln -sf /usr/share/zoneinfo/Asia/Seoul
      /etc/localtime &&     add-apt-repository ppa:ondrej/php -y &&     apt-get update
      && apt upgrade -y &&     apt-get install php7.2 php7.2-fpm php7.2-mysql php7.2-mbstring
      php7.2-zip php7.2-xml php-xdebug php-memcache php-memcached -y
    Name: run
    PrependShell: true
  - CmdLine:
    - php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');" &&     php
      composer-setup.php &&     php -r "unlink('composer-setup.php');" &&     mv composer.phar
      /usr/bin/composer
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "xdebug.remote_enable=true" >> /etc/php/7.2/fpm/php.ini &&     echo "xdebug.remote_connect_back=true"
      >> /etc/php/7.2/fpm/php.ini &&     echo "xdebug.idekey=PHPSTORM" >> /etc/php/7.2/fpm/php.ini
      &&     sed -i 's/;date.timezone =/date.timezone = Asia\/Seoul/g' /etc/php/7.2/fpm/php.ini
      &&     sed -i 's/error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT/error_reporting
      = E_ALL/g' /etc/php/7.2/fpm/php.ini &&     sed -i 's/display_errors = Off/display_errors
      = On/g' /etc/php/7.2/fpm/php.ini
    Name: run
    PrependShell: true
  - CmdLine:
    - a2enmod proxy_fcgi setenvif rewrite ssl && a2enconf php7.2-fpm
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /etc/apache2/certificate
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get autoremove && apt-get clean &&     rm -rf /var/lib/apt/lists/* /tmp/*
      /var/tmp/* &&     rm -fr /etc/apache2/sites-enabled/*
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - docker-entrypoint.sh
    - /docker-entrypoint.sh
  - CmdLine:
    - chmod +x /docker-entrypoint.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - /docker-entrypoint.sh
    Name: entrypoint
    PrependShell: false
  - Name: volume
    Volumes:
    - /var/www
    - /etc/apache2/sites-enabled
    - /etc/apache2/certificate
  - Name: expose
    Ports:
    - "443"
    - "80"
  From:
    Image: ubuntu:19.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:19.04
