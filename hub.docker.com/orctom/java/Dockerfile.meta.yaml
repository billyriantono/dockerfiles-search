MetaArgs: null
Stages:
- BaseName: orctom/alpine:3.2
  Commands:
  - Maintainer: Hao Chen <orctom@gmail.com>
    Name: maintainer
  - Env:
    - Key: JAVA_VERSION_MAJOR
      Value: "7"
    Name: env
  - Env:
    - Key: JAVA_VERSION_MINOR
      Value: "79"
    Name: env
  - Env:
    - Key: JAVA_VERSION_BUILD
      Value: "15"
    Name: env
  - Env:
    - Key: PACKAGE_TYPE
      Value: server-jre
    Name: env
  - Env:
    - Key: JAVA_HOME
      Value: /usr/lib/jvm/java-${JAVA_VERSION_MAJOR}-oracle
    Name: env
  - CmdLine:
    - 'apk add --update curl tar && rm -rf /var/cache/apk/*   && mkdir -p $JAVA_HOME   &&
      curl -jkLH  "Cookie: oraclelicense=accept-securebackup-cookie" http://download.oracle.com/otn-pub/java/jdk/${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-b${JAVA_VERSION_BUILD}/${PACKAGE_TYPE}-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz
      -o /tmp/${PACKAGE_TYPE}-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz   &&
      tar -xf /tmp/${PACKAGE_TYPE}-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz
      -C $JAVA_HOME --strip-components=1   && rm /tmp/${PACKAGE_TYPE}-${JAVA_VERSION_MAJOR}u${JAVA_VERSION_MINOR}-linux-x64.tar.gz   &&
      ln -s $JAVA_HOME/bin/java /usr/bin/java   && ln -s $JAVA_HOME/bin/javac /usr/bin/javac   &&
      rm -rf $JAVA_HOME/*src.zip             $JAVA_HOME/lib/missioncontrol             $JAVA_HOME/lib/visualvm             $JAVA_HOME/lib/*javafx*             $JAVA_HOME/jre/lib/ext/jfxrt.jar             $JAVA_HOME/jre/bin/javaws             $JAVA_HOME/jre/lib/javaws.jar             $JAVA_HOME/jre/lib/desktop             $JAVA_HOME/jre/lib/*javafx*             $JAVA_HOME/jre/lib/*jfx*'
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: $PATH:$JAVA_HOME/bin
    Name: env
  From:
    Image: orctom/alpine:3.2
  Name: ""
  Platform: ""
  SourceCode: FROM orctom/alpine:3.2
