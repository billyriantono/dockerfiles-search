MetaArgs: null
Stages:
- BaseName: ubuntu:14.04
  Commands:
  - Maintainer: Neil Ellis neil@cazcade.com
    Name: maintainer
  - Env:
    - Key: HOME
      Value: /root
    Name: env
  - Name: workdir
    Path: /root
  - Env:
    - Key: SLIMERJS_VERSION_M
      Value: "0.9"
    Name: env
  - Env:
    - Key: SLIMERJS_VERSION_F
      Value: 0.9.0
    Name: env
  - Env:
    - Key: PHANTOM_VERSION
      Value: 1.9.7
    Name: env
  - CmdLine:
    - echo "deb http://archive.ubuntu.com/ubuntu trusty multiverse" >> /etc/apt/sources.list
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "deb http://archive.ubuntu.com/ubuntu trusty-updates multiverse" >> /etc/apt/sources.list
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "deb http://archive.ubuntu.com/ubuntu trusty-security multiverse" >> /etc/apt/sources.list
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /usr/local
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /data
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /app
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir ~/fonts/
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y curl
    Name: run
    PrependShell: true
  - CmdLine:
    - curl http://rendercatdeps.s3-website-us-east-1.amazonaws.com/fonts.tgz > ~/fonts/fonts.tgz
    Name: run
    PrependShell: true
  - CmdLine:
    - curl http://rendercatdeps.s3-website-us-east-1.amazonaws.com/google.zip > ~/fonts/google.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - curl http://rendercatdeps.s3-website-us-east-1.amazonaws.com/phantomjs-${PHANTOM_VERSION}-linux-x86_64.tar.bz2
      > /tmp/phantomjs-${PHANTOM_VERSION}-linux-x86_64.tar.bz2
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y make gcc g++ wget python software-properties-common
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /tmp &&   wget http://nodejs.org/dist/node-latest.tar.gz &&   tar xvzf node-latest.tar.gz
      &&   rm -f node-latest.tar.gz &&   cd node-v* &&   ./configure &&   CXX="g++
      -Wno-unused-local-typedefs" make &&   CXX="g++ -Wno-unused-local-typedefs" make
      install &&   cd /tmp &&   rm -rf /tmp/node-v* &&   echo '\n# Node.js\nexport
      PATH="node_modules/.bin:$PATH"' >> /root/.bashrc
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y  python-urllib3  perl-base perl libc6  dbus libdbus-glib-1-2  bzip2
      git htop unzip vim git-core xvfb timelimit psmisc graphicsmagick openssh-server
      fail2ban
    Name: run
    PrependShell: true
  - CmdLine:
    - yes |  apt-get install -y msttcorefonts
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y freetype*
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y fonts-cantarell lmodern ttf-aenigma ttf-georgewilliams ttf-bitstream-vera
      ttf-sjfonts ttf-tuffy tv-fonts ubuntustudio-font-meta
    Name: run
    PrependShell: true
  - CmdLine:
    - fc-cache -fv
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y libfreetype6 libfontconfig1
    Name: run
    PrependShell: true
  - CmdLine:
    - tar -xjvf /tmp/phantomjs-${PHANTOM_VERSION}-linux-x86_64.tar.bz2
    Name: run
    PrependShell: true
  - CmdLine:
    - mv phantomjs-${PHANTOM_VERSION}-linux-x86_64 /usr/local/phantomjs-${PHANTOM_VERSION}-linux-x86_64
    Name: run
    PrependShell: true
  - CmdLine:
    - ln -s /usr/local/phantomjs-${PHANTOM_VERSION}-linux-x86_64/bin/phantomjs /usr/local/bin/phantomjs
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod 755 /usr/local/phantomjs-${PHANTOM_VERSION}-linux-x86_64/bin/phantomjs
    Name: run
    PrependShell: true
  From:
    Image: ubuntu:14.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:14.04
