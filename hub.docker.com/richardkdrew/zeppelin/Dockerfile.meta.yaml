MetaArgs: null
Stages:
- BaseName: richardkdrew/maven
  Commands:
  - Maintainer: Richard Drew <richardkdrew@gmail.com>
    Name: maintainer
  - CmdLine:
    - "buildDeps='curl build-essential git python python-setuptools python-dev python-numpy'
      \t&& apt-get update \t&& apt-get install -y $buildDeps --no-install-recommends
      \t&& apt-get clean"
    Name: run
    PrependShell: true
  - CmdLine:
    - easy_install py4j
    Name: run
    PrependShell: true
  - Env:
    - Key: APACHE_SPARK_VERSION
      Value: 1.5.0
    - Key: SPARK_HOME
      Value: /usr/local/spark
    Name: env
  - Env:
    - Key: PATH
      Value: $PATH:$SPARK_HOME/bin
    Name: env
  - CmdLine:
    - mkdir -p ${SPARK_HOME}     && curl -sSL -o /Spark-${APACHE_SPARK_VERSION}.tar.gz
      http://d3kbcqa49mib13.cloudfront.net/spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz     &&
      tar zxf /Spark-${APACHE_SPARK_VERSION}.tar.gz -C /usr/local     && mv /usr/local/spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6/*
      ${SPARK_HOME}     && rm -f /Spark-${APACHE_SPARK_VERSION}.tar.gz     && rm -fr
      /usr/local/spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6
    Name: run
    PrependShell: true
  - Env:
    - Key: ZEPPELIN_HOME
      Value: /usr/local/zeppelin
    Name: env
  - CmdLine:
    - "mkdir -p ${ZEPPELIN_HOME} \t&& mkdir -p ${ZEPPELIN_HOME}/logs     && mkdir
      -p ${ZEPPELIN_HOME}/run     && mkdir -p ${ZEPPELIN_HOME}/data     && cd /usr/local
      \    && git clone https://github.com/apache/incubator-zeppelin.git     && mv
      /usr/local/incubator-zeppelin/* ${ZEPPELIN_HOME}     && rm -fr /usr/local/incubator-zeppelin"
    Name: run
    PrependShell: true
  - CmdLine:
    - git config --global url.https://github.com/.insteadOf git://github.com/     &&
      cd ${ZEPPELIN_HOME}     && mvn package -Dspark.version=${APACHE_SPARK_VERSION}
      -Pspark-1.5 -Dhadoop.version=2.6.0 -Phadoop-2.6 -Pyarn -DskipTests     && apt-get
      purge -y --auto-remove $buildDeps     && rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - Name: workdir
    Path: ${ZEPPELIN_HOME}
  - Name: volume
    Volumes:
    - '[${ZEPPELIN_HOME}/notebook,'
    - ${ZEPPELIN_HOME}/logs]
  - Name: expose
    Ports:
    - "4040"
    - "8080"
    - "8081"
  - CmdLine:
    - /usr/local/zeppelin/bin/zeppelin.sh
    Name: cmd
    PrependShell: false
  From:
    Image: richardkdrew/maven
  Name: ""
  Platform: ""
  SourceCode: FROM richardkdrew/maven
