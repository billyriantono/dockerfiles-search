MetaArgs: null
Stages:
- BaseName: centos:7
  Commands:
  - Maintainer: '"http://www.inwork.ch"'
    Name: maintainer
  - Env:
    - Key: RUBY_VERSION
      Value: 2.0.0-p648
    Name: env
  - Env:
    - Key: GOLANG_VERSION
      Value: 1.6.2
    Name: env
  - Env:
    - Key: GLIDE_VERSION
      Value: 0.11.0
    Name: env
  - Env:
    - Key: GOPATH
      Value: /go
    Name: env
  - Env:
    - Key: GOLANG_DOWNLOAD_URL
      Value: https://golang.org/dl/go$GOLANG_VERSION.linux-amd64.tar.gz
    Name: env
  - Env:
    - Key: GOLANG_DOWNLOAD_SHA256
      Value: e40c36ae71756198478624ed1bb4ce17597b3c19d243f3f0899bb5740d56212a
    Name: env
  - Env:
    - Key: GLIDE_DOWNLOAD_URL
      Value: https://github.com/Masterminds/glide/releases/download/v$GLIDE_VERSION/glide-v$GLIDE_VERSION-linux-amd64.tar.gz
    Name: env
  - CmdLine:
    - yum install -y epel-release
    Name: run
    PrependShell: true
  - CmdLine:
    - yum install -y tar git git-core sqlite sqlite-devel make gcc gcc-c++ patch ruby-devel
      zlib zlib-devel postgresql-devel   cmake openssh-client libxml2-devel libxslt-devel
      nodejs npm curl rpm-build readline readline-devel   libyaml-devel libffi-devel
      openssl-devel bzip2 autoconf automake libtool bison wget rubygems redis
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone git://github.com/sstephenson/rbenv.git /root/.rbenv
    Name: run
    PrependShell: true
  - CmdLine:
    - echo 'export PATH="/root/.rbenv/bin:$PATH"' >> /root/.bash_profile
    Name: run
    PrependShell: true
  - CmdLine:
    - echo 'eval "$(rbenv init -)"' >> /root/.bash_profile
    Name: run
    PrependShell: true
  - CmdLine:
    - echo 'eval "$(rbenv init -)"' >> /etc/profile.d/rbenv.sh
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone git://github.com/sstephenson/ruby-build.git /root/.rbenv/plugins/ruby-build
    Name: run
    PrependShell: true
  - CmdLine:
    - echo 'export PATH="/root/.rbenv/plugins/ruby-build/bin:$PATH"' >> /root/.bash_profile
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: /root/.rbenv/bin:$PATH
    Name: env
  - CmdLine:
    - exec $SHELL
    Name: run
    PrependShell: true
  - CmdLine:
    - rbenv install -v $RUBY_VERSION
    Name: run
    PrependShell: true
  - CmdLine:
    - rbenv global $RUBY_VERSION
    Name: run
    PrependShell: true
  - CmdLine:
    - gem install bundler
    Name: run
    PrependShell: true
  - CmdLine:
    - rbenv rehash
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -fsSL "$GOLANG_DOWNLOAD_URL" -o golang.tar.gz   && echo "$GOLANG_DOWNLOAD_SHA256  golang.tar.gz"
      | sha256sum -c -   && tar -C /usr/local -xzf golang.tar.gz   && rm golang.tar.gz
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: $GOPATH/bin:/usr/local/go/bin:$PATH
    Name: env
  - CmdLine:
    - mkdir -p "$GOPATH/src" "$GOPATH/bin" "$GOPATH/pkg" && chmod -R 777 "$GOPATH"
    Name: run
    PrependShell: true
  - CmdLine:
    - go get github.com/tools/godep
    Name: run
    PrependShell: true
  - Env:
    - Key: GLIDE_DOWNLOAD_URL
      Value: https://github.com/Masterminds/glide/releases/download/0.10.2/glide-0.10.2-linux-amd64.tar.gz
    Name: env
  - Env:
    - Key: GLIDE_DOWNLOAD_SHA256
      Value: 0eedb7f47ff4d184ab334f8dd8be843f8e98774b6ccd92cbe71a6e6c7a3d5da8
    Name: env
  - CmdLine:
    - curl -fsSL $GLIDE_DOWNLOAD_URL  -o glide-inux-amd64.tar.gz &&   tar xvf glide-inux-amd64.tar.gz
      &&   mv linux-amd64/glide /usr/bin/ &&   rm glide-inux-amd64.tar.gz &&   rm
      -Rf linux-amd64
    Name: run
    PrependShell: true
  From:
    Image: centos:7
  Name: ""
  Platform: ""
  SourceCode: FROM centos:7
