MetaArgs: null
Stages:
- BaseName: ubuntu:xenial
  Commands:
  - Maintainer: John Garza <johnegarza@wustl.edu>
    Name: maintainer
  - Labels:
    - Key: description
      Value: '"Image supporting the varscan_germline.cwl tool"'
    Name: label
  - CmdLine:
    - apt-get update -y && apt-get install -y     apt-utils     bzip2     default-jre     g++     libbz2-dev     liblzma-dev     make     ncurses-dev     wget     zlib1g-dev
    Name: run
    PrependShell: true
  - Env:
    - Key: VARSCAN_INSTALL_DIR
      Value: /opt/varscan
    Name: env
  - Name: workdir
    Path: $VARSCAN_INSTALL_DIR
  - CmdLine:
    - wget https://github.com/dkoboldt/varscan/releases/download/2.4.2/VarScan.v2.4.2.jar
      &&     ln -s VarScan.v2.4.2.jar VarScan.jar
    Name: run
    PrependShell: true
  - Env:
    - Key: SAMTOOLS_INSTALL_DIR
      Value: /opt/samtools
    Name: env
  - Name: workdir
    Path: /tmp
  - CmdLine:
    - wget https://github.com/samtools/samtools/releases/download/1.7/samtools-1.7.tar.bz2
      &&   tar --bzip2 -xf samtools-1.7.tar.bz2
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /tmp/samtools-1.7
  - CmdLine:
    - ./configure --enable-plugins --prefix=$SAMTOOLS_INSTALL_DIR &&   make all all-htslib
      &&   make install install-htslib
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /
  - CmdLine:
    - ln -s $SAMTOOLS_INSTALL_DIR/bin/samtools /usr/bin/samtools &&   rm -rf /tmp/samtools-1.7
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - varscan_germline_helper.sh
    - /usr/bin/varscan_germline_helper.sh
  From:
    Image: ubuntu:xenial
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:xenial
