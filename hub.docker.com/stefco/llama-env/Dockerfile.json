{
  "MetaArgs": [
    {
      "Key": "DOCKER_TAG",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    },
    {
      "Key": "NAME",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    },
    {
      "Key": "VERSION",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    },
    {
      "Key": "COMMIT",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    },
    {
      "Key": "URL",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    },
    {
      "Key": "BRANCH",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    },
    {
      "Key": "DATE",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    },
    {
      "Key": "REPO",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    },
    {
      "Key": "DOCKERFILE_PATH",
      "DefaultValue": null,
      "ProvidedValue": null,
      "Value": null
    }
  ],
  "Stages": [
    {
      "Name": "meta",
      "BaseName": "alpine",
      "SourceCode": "FROM alpine AS meta",
      "Platform": "",
      "As": "meta",
      "From": {
        "Image": "alpine"
      },
      "Commands": [
        {
          "Key": "DOCKER_TAG",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "NAME",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "VERSION",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "COMMIT",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "URL",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "BRANCH",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "DATE",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "REPO",
          "Name": "arg",
          "Value": null
        },
        {
          "Key": "DOCKERFILE_PATH",
          "Name": "arg",
          "Value": null
        },
        {
          "Chown": "",
          "From": "",
          "Name": "copy",
          "SourcesAndDest": [
            "\"${DOCKERFILE_PATH}\"",
            "/provision/\"${DOCKERFILE_PATH}\""
          ]
        },
        {
          "CmdLine": [
            "echo \u003e\u003e/etc/docker-meta.yml \"- name: ${NAME}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  version: ${VERSION}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  commit: ${COMMIT}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  url: ${URL}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  branch: ${BRANCH}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  date: ${DATE}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  repo: ${REPO}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  docker_tag: ${DOCKER_TAG}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  dockerfile_path: ${DOCKERFILE_PATH}\"     \u0026\u0026 echo \u003e\u003e/etc/docker-meta.yml \"  dockerfile: |\"     \u0026\u0026 sed \u003e\u003e/etc/docker-meta.yml 's/^/    /' \u003c/provision/\"${DOCKERFILE_PATH}\"     \u0026\u0026 rm -r /provision"
          ],
          "Name": "run",
          "PrependShell": true
        }
      ]
    },
    {
      "Name": "",
      "BaseName": "stefco/llama-base:deb-0.6.4",
      "SourceCode": "FROM stefco/llama-base:deb-0.6.4",
      "Platform": "",
      "From": {
        "Image": "stefco/llama-base:deb-0.6.4"
      },
      "Commands": [
        {
          "Key": "DOCKER_TAG",
          "Name": "arg",
          "Value": null
        },
        {
          "Chown": "",
          "From": "meta",
          "Name": "copy",
          "SourcesAndDest": [
            "/etc/docker-meta.yml",
            "/etc/new-docker-meta.yml"
          ]
        },
        {
          "CmdLine": [
            "cat /etc/new-docker-meta.yml \u003e\u003e/etc/docker-meta.yml     \u0026\u0026 echo New metadata:     \u0026\u0026 cat /etc/docker-meta.yml     \u0026\u0026 rm /etc/new-docker-meta.yml"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Chown": "",
          "From": "",
          "Name": "copy",
          "SourcesAndDest": [
            ".",
            "/root/provision"
          ]
        },
        {
          "CmdLine": [
            "mkdir -p ~/.local/share ~/.cache ~/.jupyter     \u0026\u0026 cp -R ~/provision/static/nbconfig ~/.jupyter/nbconfig     \u0026\u0026 conda install -y --file ~/provision/conda.txt     \u0026\u0026 pip install -r ~/provision/requirements.txt     \u0026\u0026 rm -r /opt/anaconda/pkgs     \u0026\u0026 jt         -t oceans16         -cellw 80%         -lineh 170         -altp -T         -vim         -f iosevka     \u0026\u0026 jupyter labextension install         @jupyter-widgets/jupyterlab-manager         ipytree         @jupyterlab/toc         jupyterlab-drawio         @krassowski/jupyterlab_go_to_definition         @ryantam626/jupyterlab_code_formatter     \u0026\u0026 rm -rf /root/provision"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "workdir",
          "Path": "/root"
        }
      ]
    }
  ]
}