MetaArgs: null
Stages:
- BaseName: ubuntu:xenial
  Commands:
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y apt-utils     git     python-dev     apt-utils     python-pip
      &&     pip install --upgrade pip
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install https://github.com/fchollet/keras/tarball/1.1.0
    Name: run
    PrependShell: true
  - CmdLine:
    - export TF_BINARY_URL=https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.10.0-cp27-none-linux_x86_64.whl
      &&     pip install --upgrade $TF_BINARY_URL
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y python3     xautomation     libglib2.0-dev     libgl1-mesa-dev     libglu1-mesa-dev     freeglut3-dev     libplib-dev     libopenal-dev     libalut-dev     libxi-dev     libxmu-dev     libxrender-dev     libxrandr-dev     libpng12-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install gym &&     pip install numpy &&     pip install h5py
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone --branch gym_torcs --single-branch https://github.com/pierg/rl_monitor.git  &&     cd
      rl_monitor/vtorcs-RL-color &&     chmod 777 configure &&     ./configure
    Name: run
    PrependShell: true
  - CmdLine:
    - cd rl_monitor/vtorcs-RL-color &&     make clean
    Name: run
    PrependShell: true
  - CmdLine:
    - cd rl_monitor/vtorcs-RL-color &&     make &&     make install &&     make datainstall
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y default-jdk     aspectj
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install screen
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y x11vnc xvfb
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir ~/.vnc
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "export DISPLAY=:1.0" >> .bashrc
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - practice.xml
    - ~/.torcs/config/raceman
  - Chown: ""
    Name: add
    SourcesAndDest:
    - practice.xml
    - /usr/local/share/games/torcs/config/raceman
  - Name: expose
    Ports:
    - "80"
  - Chown: ""
    Name: add
    SourcesAndDest:
    - entrypoint.sh
    - /
  - CmdLine:
    - /entrypoint.sh ; /bin/bash
    Name: entrypoint
    PrependShell: true
  - Name: workdir
    Path: rl_monitor/
  From:
    Image: ubuntu:xenial
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:xenial
