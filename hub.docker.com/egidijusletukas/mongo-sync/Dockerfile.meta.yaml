MetaArgs: null
Stages:
- BaseName: alpine
  Commands:
  - CmdLine:
    - apk update
    Name: run
    PrependShell: true
  - CmdLine:
    - apk upgrade
    Name: run
    PrependShell: true
  - CmdLine:
    - apk add git go musl-dev bash
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/mongodb/mongo-tools
    Name: run
    PrependShell: true
  - CmdLine:
    - cd mongo-tools &&     source ./set_gopath.sh &&     mkdir bin &&     go build
      -o bin/mongodump mongodump/main/mongodump.go &&     go build -o bin/mongorestore
      mongorestore/main/mongorestore.go
    Name: run
    PrependShell: true
  - CmdLine:
    - mv /mongo-tools/bin/mongodump /bin/mongodump
    Name: run
    PrependShell: true
  - CmdLine:
    - mv /mongo-tools/bin/mongorestore /bin/mongorestore
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./mongo-sync
    - /bin/mongo-sync
  From:
    Image: alpine
  Name: ""
  Platform: ""
  SourceCode: FROM alpine
