MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: Daniel E. Martin-Herranz <daniel@chronomics.co.uk>
    Name: maintainer
  - Name: workdir
    Path: /usr/local/bin
  - CmdLine:
    - apt-get update -y && apt-get install -y wget unzip build-essential openjdk-8-jre
      python-setuptools curl zlib1g-dev cmake libjsoncpp-dev libncurses5-dev libncursesw5-dev
      autoconf libbz2-dev liblzma-dev libcurl4-openssl-dev libssl-dev && easy_install
      pip && pip install --upgrade pip
    Name: run
    PrependShell: true
  - Env:
    - Key: DST
      Value: /tmp/
    Name: env
  - Env:
    - Key: URL
      Value: http://www.bioinformatics.babraham.ac.uk/projects/fastqc/
    Name: env
  - Env:
    - Key: ZIP
      Value: fastqc_v0.11.7.zip
    Name: env
  - CmdLine:
    - wget $URL/$ZIP -O $DST/$ZIP && unzip - $DST/$ZIP -d $DST && rm $DST/$ZIP &&
      cd $DST/FastQC && chmod 755 fastqc && ln -s $DST/FastQC/fastqc /usr/local/bin/fastqc
    Name: run
    PrependShell: true
  - CmdLine:
    - pip install 'cutadapt==1.16'
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /tmp/
  - CmdLine:
    - curl -fsSL https://github.com/FelixKrueger/TrimGalore/archive/0.4.5.tar.gz -o
      trim_galore.tar.gz
    Name: run
    PrependShell: true
  - CmdLine:
    - tar xvzf trim_galore.tar.gz
    Name: run
    PrependShell: true
  - CmdLine:
    - mv TrimGalore-0.4.5/trim_galore /usr/local/bin
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -fsSL https://github.com/BenLangmead/bowtie2/releases/download/v2.3.4.2/bowtie2-2.3.4.2-linux-x86_64.zip
      -o bowtie2.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip bowtie2.zip && rm bowtie2.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - mv bowtie2-2.3.4.2-linux-x86_64/ /usr/local/bin/bowtie2-2.3.4.2-linux-x86_64/
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: ${PATH}:/usr/local/bin/bowtie2-2.3.4.2-linux-x86_64/
    Name: env
  - CmdLine:
    - curl -fsSL https://github.com/samtools/samtools/releases/download/1.9/samtools-1.9.tar.bz2
      -o samtools.tar.bz2
    Name: run
    PrependShell: true
  - CmdLine:
    - tar jxf samtools.tar.bz2
    Name: run
    PrependShell: true
  - CmdLine:
    - cd samtools-1.9/ && ./configure && make && make install
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /tmp/
  - CmdLine:
    - curl -fsSL https://github.com/FelixKrueger/Bismark/archive/0.19.1.zip -o bismark.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip bismark.zip && rm bismark.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - mv Bismark-0.19.1/ /usr/local/bin/Bismark-0.19.1/
    Name: run
    PrependShell: true
  - Env:
    - Key: PATH
      Value: ${PATH}:/usr/local/bin/Bismark-0.19.1/
    Name: env
  - CmdLine:
    - curl -fsSL https://github.com/broadinstitute/picard/releases/download/2.18.11/picard.jar
      -o picard.jar
    Name: run
    PrependShell: true
  - CmdLine:
    - mv picard.jar /usr/local/bin/
    Name: run
    PrependShell: true
  - CmdLine:
    - cd
    Name: run
    PrependShell: true
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
