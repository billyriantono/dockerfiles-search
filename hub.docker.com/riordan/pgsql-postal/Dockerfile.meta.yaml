MetaArgs: null
Stages:
- BaseName: postgres:9.5
  Commands:
  - Maintainer: David Riordan <dr@daveriordan.com>
    Name: maintainer
  - CmdLine:
    - apt-get update
    Name: run
    PrependShell: true
  - CmdLine:
    - "apt-get install -y \tgit \tmake \tcurl \tlibsnappy-dev \tautoconf \tautomake
      \tlibtool \tpkg-config"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /usr/local && \tgit clone https://github.com/openvenues/libpostal"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /var && \tmkdir libpostal && \tcd libpostal && \tmkdir data"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /usr/local/libpostal && \t./bootstrap.sh && \t./configure --datadir=/var/libpostal/data
      && \tmake && \tmake install &&     make check"
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /usr/lib && \tgit clone https://github.com/pramsey/pgsql-postal.git"
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y postgresql-server-dev-9.5
    Name: run
    PrependShell: true
  - CmdLine:
    - "cd /usr/lib/pgsql-postal && \tmake && \tmake install"
    Name: run
    PrependShell: true
  - CmdLine:
    - "apt-get remove -y \tpostgresql-server-dev-9.5 \tpkg-config \tlibtool \tautomake
      \tautoconf \tgit \tmake \tcurl"
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get autoclean
    Name: run
    PrependShell: true
  From:
    Image: postgres:9.5
  Name: ""
  Platform: ""
  SourceCode: FROM postgres:9.5
