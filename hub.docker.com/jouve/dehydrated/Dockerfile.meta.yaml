MetaArgs: null
Stages:
- BaseName: alpine:3.10
  Commands:
  - CmdLine:
    - apk add --no-cache         bash         curl         openssl         python
    Name: run
    PrependShell: true
  - Key: DEHYDRATED_TAG
    Name: arg
    Value: v0.6.5
  - Key: LETSENCRYPT_OVH_HOOK
    Name: arg
    Value: 1800b57991db4357536561a06f82dbfe4f076a2d
  - CmdLine:
    - apk add --no-cache tar &&     mkdir dehydrated &&     curl -L https://github.com/lukas2511/dehydrated/archive/${DEHYDRATED_TAG}.tar.gz
      | tar -C dehydrated --strip-components 1 -xzf - &&     mkdir -p dehydrated/hooks/ovh
      &&     curl -L https://github.com/Rbeuque74/letsencrypt-ovh-hook/archive/${LETSENCRYPT_OVH_HOOK}.tar.gz
      | tar -C dehydrated/hooks/ovh --strip-components 1 -xzf - &&     apk del --no-cache
      tar
    Name: run
    PrependShell: true
  - CmdLine:
    - apk add --no-cache py2-pip &&     pip install --no-cache-dir -r dehydrated/hooks/ovh/requirements.txt
      &&     apk del --no-cache py2-pip
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /etc/dehydrated &&     sed         -e 's/#CHALLENGETYPE=.*/CHALLENGETYPE="dns-01"/'         -e
      's@#HOOK=.*@HOOK=/dehydrated/hooks/ovh/hook.py@'         /dehydrated/docs/examples/config
      > /dehydrated/config
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - /docker-entrypoint.sh
    - .
  - CmdLine:
    - /docker-entrypoint.sh
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - mkdir /var/run/dehydrated
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /var/run/dehydrated
  From:
    Image: alpine:3.10
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.10
