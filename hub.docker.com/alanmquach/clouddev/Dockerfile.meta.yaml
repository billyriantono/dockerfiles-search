MetaArgs: null
Stages:
- BaseName: ubuntu:trusty
  Commands:
  - Maintainer: Alan Quach <integsrtite@gmail.com>
    Name: maintainer
  - Env:
    - Key: TZ
      Value: America/Los_Angeles
    Name: env
  - CmdLine:
    - ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone
    Name: run
    PrependShell: true
  - CmdLine:
    - locale-gen en_US.UTF-8
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y openssh-server
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /var/run/sshd
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y ca-certificates
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y curl
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y zip unzip tar
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y dnsutils
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y man
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y build-essential
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y cmake python-dev python3-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y tmux
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y git
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y vim
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y mosh
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y python3-pip
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y tightvncserver
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y i3
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y terminator
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get install -y software-properties-common
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-add-repository -y ppa:webupd8team/java
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "oracle-java8-installer shared/accepted-oracle-license-v1-1 select true"
      | debconf-set-selections
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update && apt-get install -y oracle-java8-installer
    Name: run
    PrependShell: true
  - CmdLine:
    - wget https://download.jetbrains.com/idea/ideaIC-2016.2.5.tar.gz -O /tmp/intellij.tar.gz
      -q &&     echo 'Installing IntelliJ IDEA' &&     mkdir -p /opt/intellij &&     tar
      -xf /tmp/intellij.tar.gz --strip-components=1 -C /opt/intellij &&     rm /tmp/intellij.tar.gz
      &&     echo -ne '#!/bin/bash'"\n\nexec /opt/intellij/bin/idea.sh\n" > /usr/local/bin/intellij
      &&     chmod a+x /usr/local/bin/intellij
    Name: run
    PrependShell: true
  - Env:
    - Key: user
      Value: aquach
    Name: env
  - CmdLine:
    - adduser --gecos "" $user && adduser $user sudo && echo "$user:$user" | chpasswd
      && passwd -e aquach
    Name: run
    PrependShell: true
  - Name: user
    User: $user
  - CmdLine:
    - mkdir /home/$user/.ssh
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /home/$user/.vnc
    Name: run
    PrependShell: true
  - CmdLine:
    - echo 'localhost' > /home/$user/.vnc/config
    Name: run
    PrependShell: true
  - CmdLine:
    - echo $'#!/bin/sh\n\n[ -x /etc/vnc/xstartup ] && exec /etc/vnc/xstartup\n[ -r
      \$HOME/.Xresources ] && xrdb \$HOME/.Xresurces\nexec i3 &\n' > /home/$user/.vnc/xstartup
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod +x /home/$user/.vnc/xstartup
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir /home/$user/.i3
    Name: run
    PrependShell: true
  - CmdLine:
    - cp /etc/i3/config /home/$user/.i3/config
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "exec i3" > /home/$user/.xinitrc
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/alanmquach/dotfiles.git /home/$user/dotfiles
    Name: run
    PrependShell: true
  - CmdLine:
    - /home/$user/dotfiles/bootstrap.sh -f
    Name: run
    PrependShell: true
  - CmdLine:
    - pip3 install --user pygments
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/creationix/nvm.git /home/$user/.nvm
    Name: run
    PrependShell: true
  - CmdLine:
    - NVM_DIR=/home/$user/.nvm && . /home/$user/.nvm/nvm.sh && nvm install stable
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "22"
  - Name: expose
    Ports:
    - 60000-60010
  - Name: user
    User: root
  - CmdLine:
    - /usr/sbin/sshd
    - -D
    Name: cmd
    PrependShell: false
  From:
    Image: ubuntu:trusty
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:trusty
