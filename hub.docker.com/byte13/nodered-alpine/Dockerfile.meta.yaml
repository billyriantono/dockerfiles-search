MetaArgs: null
Stages:
- BaseName: byte13/nodejs-alpine:latest
  Commands:
  - CmdLine:
    - apk add make libc-dev g++ git python python3 --update
    Name: run
    PrependShell: true
  - CmdLine:
    - npm -g config set user root
    Name: run
    PrependShell: true
  - CmdLine:
    - npm install -g openid-connect &&     npm install -g --unsafe-perm node-red node-red-admin
      &&     npm install -g node-red/node-red-auth-twitter &&     npm install -g node-red/node-red-auth-github
      &&     npm install -g node-red-dashboard
    Name: run
    PrependShell: true
  - CmdLine:
    - apk del libc-dev g++ make git
    Name: run
    PrependShell: true
  - CmdLine:
    - '/usr/sbin/addgroup -g 1234 nodered     && /usr/sbin/adduser -D -H -s /bin/nologin
      -u 1234 -G nodered nodered     && echo "nodered  ALL=(ALL) NOPASSWD: /usr/bin/python"
      >>/etc/sudoers'
    Name: run
    PrependShell: true
  - CmdLine:
    - if ! [ -d /vol1 ] ; then mkdir /vol1; chown root:nodered /vol1; chmod 770 /vol1;
      fi
    Name: run
    PrependShell: true
  - Name: volume
    Volumes:
    - /vol1
  - Name: user
    User: nodered
  - Env:
    - Key: NRPORT
      Value: "7777"
    Name: env
  - CmdLine:
    - /usr/bin/node-red -s ${LOCALSETTINGS} -p ${NRPORT}
    Name: cmd
    PrependShell: true
  From:
    Image: byte13/nodejs-alpine:latest
  Name: ""
  Platform: ""
  SourceCode: FROM byte13/nodejs-alpine:latest
