MetaArgs: null
Stages:
- BaseName: cassandra:3.11.2
  Commands:
  - Chown: ""
    Name: add
    SourcesAndDest:
    - https://repo1.maven.org/maven2/io/prometheus/jmx/jmx_prometheus_javaagent/0.3.1/jmx_prometheus_javaagent-0.3.1.jar
    - .
  - Chown: ""
    Name: add
    SourcesAndDest:
    - cassandra.yml
    - .
  - CmdLine:
    - chmod 777 jmx_prometheus_javaagent-0.3.1.jar
    Name: run
    PrependShell: true
  - CmdLine:
    - chmod 777 cassandra.yml
    Name: run
    PrependShell: true
  - CmdLine:
    - ls -l
    Name: run
    PrependShell: true
  - CmdLine:
    - echo 'JVM_OPTS="$JVM_OPTS -javaagent:'/jmx_prometheus_javaagent-0.3.1.jar=7070:$PWD/cassandra.yml'"'
      >> $CASSANDRA_CONFIG/cassandra-env.sh
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "7070"
  From:
    Image: cassandra:3.11.2
  Name: ""
  Platform: ""
  SourceCode: FROM cassandra:3.11.2
