MetaArgs: null
Stages:
- BaseName: debian:latest
  Commands:
  - CmdLine:
    - apt-get update && apt-get install -y wget ca-certificates gnupg && apt-get -y
      clean &&   wget -q http://repositories.sensuapp.org/apt/pubkey.gpg -O- | apt-key
      add - &&   echo "deb     http://repositories.sensuapp.org/apt sensu main" |
      tee /etc/apt/sources.list.d/sensu.list
    Name: run
    PrependShell: true
  - CmdLine:
    - apt-get update &&     apt-get install -y sensu procps sysstat &&     apt-get
      -y clean
    Name: run
    PrependShell: true
  - Env:
    - Key: HOST_DEV_DIR
      Value: '"/host_dev"'
    - Key: HOST_PROC_DIR
      Value: '"/host_proc"'
    - Key: HOST_SYS_DIR
      Value: '"/host_sys"'
    Name: env
  - Env:
    - Key: PATH
      Value: '"/opt/sensu/embedded/bin:${PATH}"'
    Name: env
  - CmdLine:
    - gem install sensu-plugins-cpu-checks &&     gem install sensu-plugins-memory-checks
      &&     gem install sensu-plugins-network-checks
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p /etc/sensu/conf.d mkdir -p /etc/sensu/ssl
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./config
    - /etc/sensu/conf.d
  - Chown: ""
    Name: add
    SourcesAndDest:
    - ./ssl
    - /etc/sensu/ssl
  - Name: workdir
    Path: /opt/sensu/bin
  - CmdLine:
    - ./sensu-client
    - -d
    - /etc/sensu/conf.d
    Name: cmd
    PrependShell: false
  From:
    Image: debian:latest
  Name: ""
  Platform: ""
  SourceCode: FROM debian:latest
