MetaArgs: null
Stages:
- BaseName: ubuntu:18.04
  Commands:
  - Env:
    - Key: lofreq_version
      Value: 2.1.3.1
    Name: env
  - Env:
    - Key: samtools_version
      Value: "1.1"
    Name: env
  - CmdLine:
    - apt-get update -y && apt-get install -y     build-essential     zlib1g-dev     python3     python3-pip     unzip     curl     libnss-sss     vim     less     bzip2     libncurses5-dev     libncursesw5-dev     libbz2-dev     liblzma-dev     libcurl4-openssl-dev     wget     libtool     autotools-dev     automake     git
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /usr/local/bin/
  - CmdLine:
    - curl -L https://sourceforge.net/projects/samtools/files/samtools/${samtools_version}/samtools-${samtools_version}.tar.bz2
      > samtools-${samtools_version}.tar.bz2
    Name: run
    PrependShell: true
  - CmdLine:
    - tar -xjf /usr/local/bin/samtools-${samtools_version}.tar.bz2 -C /usr/local/bin/
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /usr/local/bin/samtools-${samtools_version}/ && make
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /usr/local/bin/samtools-${samtools_version}/ && make install
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /usr/local/bin/
  - CmdLine:
    - wget https://github.com/CSB5/lofreq/archive/v${lofreq_version}.zip
    Name: run
    PrependShell: true
  - CmdLine:
    - unzip v${lofreq_version}.zip
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /usr/local/bin/lofreq-${lofreq_version}
  - CmdLine:
    - autoreconf -i
    Name: run
    PrependShell: true
  - CmdLine:
    - ./configure SAMTOOLS=/usr/local/bin/samtools-${samtools_version} HTSLIB=/usr/local/bin/samtools-${samtools_version}/htslib-${samtools_version}
    Name: run
    PrependShell: true
  - CmdLine:
    - make
    Name: run
    PrependShell: true
  - CmdLine:
    - make install
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /usr/local/bin
  - CmdLine:
    - lofreq
    Name: cmd
    PrependShell: false
  From:
    Image: ubuntu:18.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:18.04
