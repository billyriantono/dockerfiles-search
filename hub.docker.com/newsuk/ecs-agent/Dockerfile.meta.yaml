MetaArgs: null
Stages:
- BaseName: alpine:3.10
  Commands:
  - Env:
    - Key: PACKAGES
      Value: '"  bash   ca-certificates   python3   git   openssh   "'
    - Key: PYTHONUNBUFFERED
      Value: "1"
    Name: env
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - pipeline.py
    - prepare-creds.py
    - /
  - CmdLine:
    - echo "**** install Python ****" &&   apk add --no-cache $PACKAGES &&   if [
      ! -e /usr/bin/python ]; then ln -sf python3 /usr/bin/python ; fi     && if [[
      ! -e /usr/bin/python ]];        then ln -sf /usr/bin/python3 /usr/bin/python;
      fi   && if [[ ! -e /usr/bin/python-config ]]; then ln -sf /usr/bin/python-config3
      /usr/bin/python-config; fi   &&   echo "**** install pip ****" &&   python3
      -m ensurepip &&   rm -r /usr/lib/python*/ensurepip &&   pip3 install --no-cache
      --upgrade pip setuptools wheel &&   if [ ! -e /usr/bin/pip ]; then ln -s pip3
      /usr/bin/pip ; fi   && pip install boto3   && mkdir ~/.aws   && touch ~/.aws/config   &&
      echo '[default]' >> ~/.aws/config   && echo 'region = eu-west-1' >> ~/.aws/config   &&
      echo 'output = json' >> ~/.aws/config   && mkdir ~/.ssh   && touch ~/.ssh/known_hosts   &&
      ssh-keyscan github.com >> ~/.ssh/known_hosts   && mkdir /nu-ecsplatform   &&
      mv /pipeline.py /nu-ecsplatform/
    Name: run
    PrependShell: true
  From:
    Image: alpine:3.10
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.10
