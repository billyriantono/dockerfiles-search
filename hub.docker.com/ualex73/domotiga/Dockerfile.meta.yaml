MetaArgs: null
Stages:
- BaseName: jlesage/baseimage-gui:ubuntu-18.04
  Commands:
  - Labels:
    - Key: maintainer
      Value: '"Alex <ualex73@gmail.com>"'
    Name: label
  - Key: VERSION
    Name: arg
    Value: '"1.0.026"'
  - Key: BUILDDATE
    Name: arg
    Value: '"20190427"'
  - CmdLine:
    - echo 'APT::Install-Recommends "0";' >> /etc/apt/apt.conf.d/no-recommends &&     echo
      "APT::Get::Assume-Yes "true";" > /etc/apt/apt.conf.d/always-yes &&     apt-get
      -qq update &&     apt-get install gnupg             locales &&     locale-gen
      en_US.UTF-8 &&     echo "deb http://ppa.launchpad.net/gambas-team/gambas3/ubuntu
      bionic main" >> /etc/apt/sources.list &&     apt-key adv --recv-keys --keyserver
      keyserver.ubuntu.com 50B027516CAEE58D &&     apt-get -qq update
    Name: run
    PrependShell: true
  - Env:
    - Key: LANG
      Value: en_US.UTF-8
    Name: env
  - Env:
    - Key: LANGUAGE
      Value: en_US:en
    Name: env
  - Env:
    - Key: LC_ALL
      Value: en_US.UTF-8
    Name: env
  - CmdLine:
    - apt-get install gambas3     iproute2     iputils-ping     arp-scan     rrdtool     git-core     mysql-client     build-essential     libudev-dev     libcurl4-gnutls-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - GIT_SSL_NO_VERIFY=true git clone --single-branch https://github.com/DomotiGa/DomotiGa.git
      /domotiga &&     rm -rf /domotiga/.git &&     chown -R 1000:1000 /domotiga
    Name: run
    PrependShell: true
  - CmdLine:
    - GIT_SSL_NO_VERIFY=true git clone https://github.com/OpenZWave/open-zwave /domotiga/wrappers/domozwave/open-zwave
      &&     rm -rf /domotiga/wrappers/domozwave/open-zwave/.git &&     cd /domotiga/wrappers/domozwave/open-zwave
      &&     make &&     cd /domotiga/wrappers/domozwave &&     make &&     make install
      &&     rm -f /domotiga/wrappers/domozwave/libdomozwave.so &&     mv /domotiga/wrappers/domozwave/open-zwave
      /domotiga/wrappers/domozwave/open-zwave.bak &&     mkdir /domotiga/wrappers/domozwave/open-zwave
      &&     mv /domotiga/wrappers/domozwave/open-zwave.bak/config /domotiga/wrappers/domozwave/open-zwave
      &&     rm -rf /domotiga/wrappers/domozwave/open-zwave.bak
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - rootfs/
    - /
  - Name: workdir
    Path: /domotiga
  - Env:
    - Key: APP_NAME
      Value: '"DomotiGa"'
    Name: env
  - Env:
    - Key: SUP_GROUP_IDS
      Value: "20"
    Name: env
  - Env:
    - Key: KEEP_APP_RUNNING
      Value: "1"
    Name: env
  - CmdLine:
    - apt-get purge git     git-man     git-core &&     apt-get autoremove &&     apt-get
      clean &&     rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - 19009/udp
    - 9090/tcp
  - Name: volume
    Volumes:
    - /domotiga/config
    - /domotiga/logs
    - /domotiga/rrd
  From:
    Image: jlesage/baseimage-gui:ubuntu-18.04
  Name: ""
  Platform: ""
  SourceCode: FROM jlesage/baseimage-gui:ubuntu-18.04
