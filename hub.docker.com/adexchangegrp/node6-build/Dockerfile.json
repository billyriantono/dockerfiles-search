{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "node:6",
      "SourceCode": "FROM node:6",
      "Platform": "",
      "From": {
        "Image": "node:6"
      },
      "Commands": [
        {
          "Maintainer": "AdExchange Group LLC \u003cadexchangedevops@adexchangegrp.com\u003e",
          "Name": "maintainer"
        },
        {
          "CmdLine": [
            "apt-get update \u0026\u0026 apt-get install -y git openssh-client tar curl python make g++ python-pip python-dev"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "VER=\"17.03.0-ce\"     \u0026\u0026 curl -L -o /tmp/docker-$VER.tgz https://get.docker.com/builds/Linux/x86_64/docker-$VER.tgz     \u0026\u0026 tar -xz -C /tmp -f /tmp/docker-$VER.tgz     \u0026\u0026 mv /tmp/docker/* /usr/bin     \u0026\u0026 rm /tmp/docker-$VER.tgz"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "pip install --upgrade awscli"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "rm -rf /usr/local/lib/node_modules/npm   \u0026\u0026 mkdir /usr/local/lib/node_modules/npm   \u0026\u0026 curl -sL https://github.com/npm/npm/archive/v5.4.0.tar.gz | tar xz -C /usr/local/lib/node_modules/npm --strip-components=1   \u0026\u0026 npm --version"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Env": [
            {
              "Key": "YARN_VERSION",
              "Value": "1.6.0"
            }
          ],
          "Name": "env"
        },
        {
          "CmdLine": [
            "set -ex   \u0026\u0026 for key in     6A010C5166006599AA17F08146C2130DFD2497F5   ; do     gpg --keyserver pgp.mit.edu --recv-keys \"$key\" ||     gpg --keyserver keyserver.pgp.com --recv-keys \"$key\" ||     gpg --keyserver ha.pool.sks-keyservers.net --recv-keys \"$key\" ;   done   \u0026\u0026 curl -fSLO --compressed \"https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz\"   \u0026\u0026 curl -fSLO --compressed \"https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz.asc\"   \u0026\u0026 gpg --batch --verify yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz   \u0026\u0026 rm -rf /opt/yarn /usr/local/bin/yarn /usr/local/bin/yarnpkg   \u0026\u0026 mkdir -p /opt/yarn   \u0026\u0026 tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/yarn --strip-components=1   \u0026\u0026 ln -s /opt/yarn/bin/yarn /usr/local/bin/yarn   \u0026\u0026 ln -s /opt/yarn/bin/yarn /usr/local/bin/yarnpkg   \u0026\u0026 rm yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "git config --global user.email \"adexchangedevops@adexchangegrp.com\"     \u0026\u0026 git config --global user.name \"CircleCi\"     \u0026\u0026 mkdir ~/.ssh     \u0026\u0026 ssh-keyscan -t rsa github.com \u003e ~/.ssh/known_hosts"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "expose",
          "Ports": [
            "3000"
          ]
        }
      ]
    }
  ]
}