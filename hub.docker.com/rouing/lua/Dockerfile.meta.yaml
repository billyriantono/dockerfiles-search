MetaArgs: null
Stages:
- BaseName: alpine
  Commands:
  - Maintainer: '[William C Ardoin](https://git.rouing.me/)'
    Name: maintainer
  - Env:
    - Key: LUA_MAJOR_VERSION
      Value: "5.3"
    Name: env
  - Env:
    - Key: LUA_MINOR_VERSION
      Value: "5"
    Name: env
  - Env:
    - Key: LUA_VERSION
      Value: ${LUA_MAJOR_VERSION}.${LUA_MINOR_VERSION}
    Name: env
  - CmdLine:
    - apk add --update make tar unzip gcc openssl-dev readline-dev curl libc-dev
    Name: run
    PrependShell: true
  - CmdLine:
    - curl -L http://www.lua.org/ftp/lua-${LUA_VERSION}.tar.gz | tar xzf -
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /lua-$LUA_VERSION
  - CmdLine:
    - make linux test
    Name: run
    PrependShell: true
  - CmdLine:
    - make install
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /
  - Env:
    - Key: WITH_LUA
      Value: /usr/local/
    Name: env
  - Env:
    - Key: LUA_LIB
      Value: /usr/local/lib/lua
    Name: env
  - Env:
    - Key: LUA_LIBDIR
      Value: /usr/local/lib/lua
    Name: env
  - Env:
    - Key: LUA_INCLUDE
      Value: /usr/local/include
    Name: env
  - CmdLine:
    - rm /lua-$LUA_VERSION -rf
    Name: run
    PrependShell: true
  From:
    Image: alpine
  Name: ""
  Platform: ""
  SourceCode: FROM alpine
