{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "nephatrine/alpine-s6:3.8",
      "SourceCode": "FROM nephatrine/alpine-s6:3.8",
      "Platform": "",
      "From": {
        "Image": "nephatrine/alpine-s6:3.8"
      },
      "Commands": [
        {
          "Labels": [
            {
              "Key": "maintainer",
              "Value": "\"Daniel Wolf \u003cnephatrine@gmail.com\u003e\""
            }
          ],
          "Name": "label"
        },
        {
          "Key": "GITEA_VERSION",
          "Name": "arg",
          "Value": "release/v1.7"
        },
        {
          "Env": [
            {
              "Key": "GOPATH",
              "Value": "\"/usr\""
            }
          ],
          "Name": "env"
        },
        {
          "CmdLine": [
            "echo \"====== INSTALL PACKAGES ======\"  \u0026\u0026 apk add    certbot    git git-lfs    openssh-keygen    openssh-server    sqlite  \u0026\u0026 apk add --virtual .build-gitea    build-base    go   \u0026\u0026 echo \"====== CONFIGURE SYSTEM ======\"  \u0026\u0026 mkdir -p /etc/gitea  \u0026\u0026 usermod -p '*' -s /bin/bash guardian   \u0026\u0026 echo \"====== COMPILE GITEA ======\"  \u0026\u0026 cd /usr/src  \u0026\u0026 go get -u github.com/jteeuwen/go-bindata  \u0026\u0026 go get -d -u code.gitea.io/gitea  \u0026\u0026 cd code.gitea.io/gitea  \u0026\u0026 git fetch \u0026\u0026 git fetch --tags  \u0026\u0026 git checkout \"$GITEA_VERSION\"  \u0026\u0026 PATH=\"$GOPATH/bin:$PATH\" TAGS=\"bindata sqlite sqlite_unlock_notify\" make generate build  \u0026\u0026 mv ./gitea /usr/bin/  \u0026\u0026 cp ./custom/conf/app.ini.sample /etc/gitea/app.ini.sample   \u0026\u0026 echo \"====== CLEANUP ======\"  \u0026\u0026 cd /usr/src  \u0026\u0026 apk del --purge .build-gitea  \u0026\u0026 rm -rf /tmp/* /usr/pkg/* /usr/src/* /var/cache/apk/*"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "expose",
          "Ports": [
            "22/tcp",
            "3000/tcp"
          ]
        },
        {
          "Chown": "",
          "From": "",
          "Name": "copy",
          "SourcesAndDest": [
            "override",
            "/"
          ]
        }
      ]
    }
  ]
}