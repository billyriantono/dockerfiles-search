MetaArgs: null
Stages:
- BaseName: sgrio/java-oracle
  Commands:
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - Key: GRAPHOUSE_ROOT
    Name: arg
    Value: /opt/graphouse
  - CmdLine:
    - apt-get update &&     apt-get install -y --no-install-recommends apt-transport-https
      git ca-certificates wget &&     rm -rf /var/lib/apt/lists/* /var/cache/debconf
      /var/cache/oracle-* &&     apt-get clean
    Name: run
    PrependShell: true
  - CmdLine:
    - cd /tmp/ &&     git clone https://github.com/yandex/graphouse.git &&     cd
      graphouse &&     JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8 ./gradlew build installDist
      &&     mv /tmp/graphouse/build/install/graphouse /opt/ &&     ln -sf $GRAPHOUSE_ROOT/conf/
      /etc/graphouse &&     ln -sf $GRAPHOUSE_ROOT/log/ /var/log/graphouse &&     rm
      -rf /tmp/graphouse
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - run.sh
    - /usr/local/bin/run.sh
  - CmdLine:
    - chmod +x /usr/local/bin/run.sh
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "2003"
    - "2005"
  - Name: workdir
    Path: $GRAPHOUSE_ROOT
  - CmdLine:
    - bash
    - /usr/local/bin/run.sh
    Name: cmd
    PrependShell: false
  From:
    Image: sgrio/java-oracle
  Name: ""
  Platform: ""
  SourceCode: FROM sgrio/java-oracle
