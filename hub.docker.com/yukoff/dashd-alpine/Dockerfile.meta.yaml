MetaArgs: null
Stages:
- BaseName: yukoff/alpine-bdb48:latest
  Commands:
  - Env:
    - Key: VERSION
      Value: ${VERSION:-0.12.2.1}
    Name: env
  - Env:
    - Key: HOME
      Value: /dash
    Name: env
  - Env:
    - Key: USERID
      Value: ${USERID:-1000}
    Name: env
  - Env:
    - Key: GROUPID
      Value: ${GROUPID:-1000}
    Name: env
  - CmdLine:
    - addgroup -g ${GROUPID} dash &&     adduser -u ${USERID} -G dash -S -D -H -h
      /dash dash
    Name: run
    PrependShell: true
  - CmdLine:
    - apk --no-cache upgrade &&     apk --no-cache add       git       build-base       ccache       autoconf       automake       boost-dev       boost       boost-system       boost-filesystem       boost-program_options       boost-thread       libevent-dev       libevent       libgcc       libressl-dev       libressl       libstdc++       libtool       zeromq-dev       libzmq       miniupnpc-dev       miniupnpc
      &&     git clone -b v${VERSION} --depth 50 https://github.com/dashpay/dash.git
      /tmp/dash &&     cd /tmp/dash &&     ./autogen.sh &&     ./configure --prefix=/usr                 --disable-shared                 --enable-static                 --disable-tests                 --without-gui
      &&     make -j `grep -c ^processor /proc/cpuinfo` &&     make install &&     strip
      -s /usr/bin/*dash* &&     cd - &&     apk del       miniupnpc-dev       zeromq-dev       libtool       libressl-dev       libevent-dev       boost-dev       automake       autoconf       ccache       build-base       git
      &&     rm -rf /tmp/dash
    Name: run
    PrependShell: true
  - Name: user
    User: dash
  - Name: volume
    Volumes:
    - /dash
  - Name: expose
    Ports:
    - "19998"
    - "19999"
    - "9998"
    - "9999"
  - Name: workdir
    Path: /dash
  From:
    Image: yukoff/alpine-bdb48:latest
  Name: ""
  Platform: ""
  SourceCode: FROM yukoff/alpine-bdb48:latest
