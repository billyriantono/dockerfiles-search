MetaArgs: null
Stages:
- BaseName: alpine:3.8
  Commands:
  - CmdLine:
    - apk --no-cache add tini lighttpd lighttpd-mod_auth     && echo 'include_shell
      "cat /etc/lighttpd/conf.d/*conf 2> /dev/null"' >> /etc/lighttpd/lighttpd.conf     &&
      mkdir -p /etc/lighttpd/conf.d     && mkdir -p /var/log/lighttpd     && mkdir
      -p /var/www/html     && chown lighttpd /run     && ln -sf /dev/stderr /var/log/lighttpd/access.log     &&
      ln -sf /dev/stderr /var/log/lighttpd/error.log     && sed -i 's/\(^server.document-root.*$\)/#\1/g'
      /etc/lighttpd/lighttpd.conf
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./conf/000-base.conf
    - /etc/lighttpd/conf.d/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./www/index.html
    - /var/www/html/index.html
  - Name: user
    User: lighttpd
  - Name: expose
    Ports:
    - "8000"
  - CmdLine:
    - tini
    - --
    Name: entrypoint
    PrependShell: false
  - CmdLine:
    - lighttpd
    - -D
    - -f
    - /etc/lighttpd/lighttpd.conf
    Name: cmd
    PrependShell: false
  From:
    Image: alpine:3.8
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.8
