MetaArgs: null
Stages:
- BaseName: alpine:3.6
  Commands:
  - Maintainer: Holger Amann <holger@nextjournal.com>
    Name: maintainer
  - Key: ERLANG_VERSION
    Name: arg
    Value: "20.0"
  - Labels:
    - Key: name
      Value: '"erlang"'
    - Key: version
      Value: $ERLANG_VERSION
    Name: label
  - Key: DISABLED_APPS
    Name: arg
    Value: '''megaco wx debugger jinterface orber reltool observer gs et'''
  - Key: ERLANG_DOWNLOAD_URL
    Name: arg
    Value: '"https://github.com/erlang/otp/archive/OTP-${ERLANG_VERSION}.tar.gz"'
  - CmdLine:
    - set -xe     && apk --update add --virtual build-dependencies curl ca-certificates
      build-base autoconf perl ncurses-dev openssl-dev unixodbc-dev tar ncurses openssl
      unixodbc     && curl -fSL -o otp-src.tar.gz "$ERLANG_DOWNLOAD_URL"     && mkdir
      -p /usr/src/otp-src     && tar -xzf otp-src.tar.gz -C /usr/src/otp-src --strip-components=1     &&
      rm otp-src.tar.gz     && cd /usr/src/otp-src     && for lib in ${DISABLED_APPS}
      ; do touch lib/${lib}/SKIP ; done     && ./otp_build autoconf     && ./configure         --enable-smp-support         --enable-m64-build         --disable-native-libs         --enable-sctp         --enable-threads         --enable-kernel-poll         --disable-hipe     &&
      make -j$(getconf _NPROCESSORS_ONLN)     && make install     && find /usr/local
      -name examples | xargs rm -rf     && apk del build-dependencies     && ls -d
      /usr/local/lib/erlang/lib/*/src | xargs rm -rf     && rm -rf       /opt       /var/cache/apk/*       /tmp/*       /usr/src
    Name: run
    PrependShell: true
  From:
    Image: alpine:3.6
  Name: ""
  Platform: ""
  SourceCode: FROM alpine:3.6
