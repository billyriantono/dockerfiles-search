MetaArgs: null
Stages:
- BaseName: python:2.7
  Commands:
  - Maintainer: Thierry Valero (IRD/MIVEGEC)
    Name: maintainer
  - CmdLine:
    - apt-get update            &&     apt-get install -y                 imagemagick                      ghostscript             &&     apt-get
      clean             &&     rm -rf /var/lib/apt/lists/*
    Name: run
    PrependShell: true
  - CmdLine:
    - mkdir -p                            /usr/src/app
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /usr/src/app
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./usr-src-app/requirements.txt
    - /usr/src/app/
  - CmdLine:
    - pip install -r requirements.txt
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./usr-src-app
    - /usr/src/app
  - Env:
    - Key: SPECIFY_KEY
      Value: None
    Name: env
  - Env:
    - Key: SPECIFY_HOST
      Value: localhost
    Name: env
  - Env:
    - Key: SPECIFY_PORT
      Value: "8080"
    Name: env
  - Name: expose
    Ports:
    - "8080"
  - Env:
    - Key: BASE_DIR
      Value: /home/specify/attachments/
    Name: env
  - CmdLine:
    - mkdir -p /home/specify/attachments
    Name: run
    PrependShell: true
  - Env:
    - Key: SPECIFY_VERSION
      Value: r002-20181228
    Name: env
  - Labels:
    - Key: org.label-schema.schema-version
      Value: '"1.0"'
    Name: label
  - Labels:
    - Key: name
      Value: '''Specify-Web-Asset-Server'''
    Name: label
  - Labels:
    - Key: description
      Value: '''Specify Web Asset Server in a container'''
    Name: label
  - Labels:
    - Key: docker.cmd
      Value: '''docker run -it -d quay.io/mivegec/specify-web-asset-server:latest
        -v ./data/attachments:/home/specify/attachments:rw'''
    Name: label
  - Labels:
    - Key: version
      Value: ${SPECIFY_VERSION}
    Name: label
  - Labels:
    - Key: vendor
      Value: MIVEGEC
    Name: label
  - Labels:
    - Key: url
      Value: http://www.vectobol.net/
    Name: label
  - Labels:
    - Key: vcs-type
      Value: git
    Name: label
  - Labels:
    - Key: vcs-url
      Value: git@github.com:tvalero/web-asset-server.git
    Name: label
  - Labels:
    - Key: vcs-ref
      Value: ${SPECIFY_VERSION}
    Name: label
  - Labels:
    - Key: distribution-scope
      Value: public
    Name: label
  - CmdLine:
    - python server.py
    Name: entrypoint
    PrependShell: true
  From:
    Image: python:2.7
  Name: ""
  Platform: ""
  SourceCode: FROM python:2.7
