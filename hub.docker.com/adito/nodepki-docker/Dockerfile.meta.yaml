MetaArgs: null
Stages:
- BaseName: node:7-alpine
  Commands:
  - CmdLine:
    - apk add --no-cache     openssl     curl     supervisor
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - supervisord.conf
    - /etc/supervisor/supervisord.conf
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - setup.sh
    - /root/
  - Name: workdir
    Path: /root
  - CmdLine:
    - curl -L https://github.com/aditosoftware/nodepki/archive/master.tar.gz | tar
      xz && mv nodepki-master nodepki && curl -L https://github.com/aditosoftware/nodepki-client/archive/master.tar.gz
      | tar xz && mv nodepki-client-master nodepki-client && curl -L https://github.com/aditosoftware/nodepki-webclient/archive/master.tar.gz
      | tar xz && mv nodepki-webclient-master nodepki-webclient && cd /root/nodepki-client
      && npm install && cd /root/nodepki-webclient && npm install && cd /root/nodepki
      && npm install
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "2560"
    - "5000"
    - "8080"
  - CmdLine:
    - /usr/bin/supervisord -c /etc/supervisor/supervisord.conf
    Name: cmd
    PrependShell: true
  From:
    Image: node:7-alpine
  Name: ""
  Platform: ""
  SourceCode: FROM node:7-alpine
