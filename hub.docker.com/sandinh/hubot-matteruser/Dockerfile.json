{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "node:alpine",
      "SourceCode": "FROM node:alpine",
      "Platform": "",
      "From": {
        "Image": "node:alpine"
      },
      "Commands": [
        {
          "Key": "hubot_owner",
          "Name": "arg",
          "Value": "ohze"
        },
        {
          "Key": "hubot_name",
          "Name": "arg",
          "Value": "ohze-bot"
        },
        {
          "Key": "hubot_description",
          "Name": "arg",
          "Value": "\"ohze bot\""
        },
        {
          "CmdLine": [
            "npm install -g yo generator-hubot \u0026\u0026   adduser -h /hubot -s /bin/sh -S hubot"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Name": "user",
          "User": "hubot"
        },
        {
          "Name": "workdir",
          "Path": "/hubot"
        },
        {
          "CmdLine": [
            "echo \"n\" | yo hubot --adapter matteruser     --owner=\"${hubot_owner}\"     --name=\"${hubot_name}\"     --description=\"${hubot_desciption}\"     --defaults \u0026\u0026   rm hubot-scripts.json \u0026\u0026   npm install hubot-matteruser     hubot-jira-bot     hubot-jira-links"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Chown": "",
          "From": "",
          "Name": "copy",
          "SourcesAndDest": [
            "external-scripts.json",
            "external-scripts.json"
          ]
        },
        {
          "CmdLine": [
            "./bin/hubot",
            "-a",
            "matteruser"
          ],
          "Name": "cmd",
          "PrependShell": false
        },
        {
          "Name": "expose",
          "Ports": [
            "8080"
          ]
        }
      ]
    }
  ]
}