MetaArgs: null
Stages:
- BaseName: alpine
  Commands:
  - Maintainer: Roger Cui <itabas016@gmail.com>
    Name: maintainer
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - .
    - /tmp/repo
  - CmdLine:
    - set -ex  && apk add --no-cache --virtual .build-deps       autoconf       automake       build-base       c-ares-dev       cmake       git       libev-dev       libtool       libressl-dev       libsodium-dev       linux-headers       mbedtls-dev       mbedtls-static       pcre-dev       zlib-dev  &&
      cd /tmp/repo  && git clone --recursive https://github.com/shadowsocks/shadowsocks-libev.git  &&
      cd shadowsocks-libev  && ./autogen.sh  && ./configure --prefix=/usr --disable-documentation  &&
      make install  && apk del .build-deps  && apk add --no-cache       rng-tools       $(scanelf
      --needed --nobanner /usr/bin/ss-*       | awk '{ gsub(/,/, "\nso:", $2); print
      "so:" $2 }'       | sort -u)  && rm -rf /tmp/repo
    Name: run
    PrependShell: true
  - Name: user
    User: nobody
  - CmdLine:
    - /usr/bin/ss-server
    Name: entrypoint
    PrependShell: false
  From:
    Image: alpine
  Name: ""
  Platform: ""
  SourceCode: FROM alpine
