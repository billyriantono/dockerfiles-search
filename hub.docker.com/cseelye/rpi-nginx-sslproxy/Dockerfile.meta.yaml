MetaArgs: null
Stages:
- BaseName: cseelye/rpi-nginx-base
  Commands:
  - Maintainer: Carl Seelye <cseelye@gmail.com>
    Name: maintainer
  - Env:
    - Key: LE_WORKING_DIR
      Value: /letsencrypt
    - Key: SSL_DIR
      Value: /etc/nginx/ssl
    Name: env
  - CmdLine:
    - cross-build-start
    Name: run
    PrependShell: false
  - CmdLine:
    - apt-get update &&     apt-get install --assume-yes curl &&     mkdir --parents
      "$LE_WORKING_DIR" &&     mkdir --parents "$SSL_DIR" &&     curl https://raw.githubusercontent.com/Neilpang/acme.sh/master/acme.sh
      --output /tmp/acme.sh &&     chmod 755 /tmp/acme.sh &&     cd /tmp &&     ./acme.sh
      install nocron
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - generate-dhparams.sh
    - letsencrypt-nginx.conf
    - $LE_WORKING_DIR/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - nginx-configure.sh
    - template-nginx-proxy.conf
    - /nginx-configure/
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - supervisord.conf
    - /etc/supervisor/conf.d/supervisord.conf
  - CmdLine:
    - cross-build-end
    Name: run
    PrependShell: false
  From:
    Image: cseelye/rpi-nginx-base
  Name: ""
  Platform: ""
  SourceCode: FROM cseelye/rpi-nginx-base
