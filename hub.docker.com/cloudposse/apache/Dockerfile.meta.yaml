MetaArgs: null
Stages:
- BaseName: ubuntu:16.04
  Commands:
  - Maintainer: Erik Osterman "e@osterman.com"
    Name: maintainer
  - Name: user
    User: root
  - Env:
    - Key: APACHE_RUN_USER
      Value: www-data
    Name: env
  - Env:
    - Key: APACHE_RUN_GROUP
      Value: www-data
    Name: env
  - Env:
    - Key: APACHE_LOG_DIR
      Value: /var/log/apache2
    Name: env
  - Env:
    - Key: APACHE_PID_FILE
      Value: /var/run/apache2.pid
    Name: env
  - Env:
    - Key: APACHE_RUN_DIR
      Value: /var/run/apache2
    Name: env
  - Env:
    - Key: APACHE_LOCK_DIR
      Value: /var/lock/apache2
    Name: env
  - Env:
    - Key: APACHE_SERVER_ADMIN
      Value: admin@localhost
    Name: env
  - Env:
    - Key: APACHE_SERVER_NAME
      Value: localhost
    Name: env
  - Env:
    - Key: APACHE_SERVER_ALIAS
      Value: docker.localhost
    Name: env
  - Env:
    - Key: APACHE_DOCUMENT_ROOT
      Value: /var/www/html
    Name: env
  - Env:
    - Key: APACHE_WORKER_START_SERVERS
      Value: "2"
    Name: env
  - Env:
    - Key: APACHE_WORKER_MIN_SPARE_THREADS
      Value: "2"
    Name: env
  - Env:
    - Key: APACHE_WORKER_MAX_SPARE_THREADS
      Value: "10"
    Name: env
  - Env:
    - Key: APACHE_WORKER_THREAD_LIMIT
      Value: "64"
    Name: env
  - Env:
    - Key: APACHE_WORKER_THREADS_PER_CHILD
      Value: "25"
    Name: env
  - Env:
    - Key: APACHE_WORKER_MAX_REQUEST_WORKERS
      Value: "4"
    Name: env
  - Env:
    - Key: APACHE_WORKER_MAX_CONNECTIONS_PER_CHILD
      Value: "0"
    Name: env
  - Env:
    - Key: TIMEZONE
      Value: Etc/UTC
    Name: env
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: noninteractive
    Name: env
  - CmdLine:
    - apt-get update &&     apt-get upgrade -y &&     apt-get install -y wget curl
      locales apache2 tzdata m4 &&     apt-get clean
    Name: run
    PrependShell: true
  - Env:
    - Key: LANGUAGE
      Value: en_US.UTF-8
    Name: env
  - Env:
    - Key: LANG
      Value: en_US.UTF-8
    Name: env
  - Env:
    - Key: LC_ALL
      Value: en_US.UTF-8
    Name: env
  - CmdLine:
    - locale-gen $LANGUAGE &&     dpkg-reconfigure locales &&     echo "$TIMEZONE"
      > /etc/timezone &&     dpkg-reconfigure -f noninteractive tzdata
    Name: run
    PrependShell: true
  - Chown: ""
    Name: add
    SourcesAndDest:
    - rootfs
    - /
  - CmdLine:
    - a2enconf server-name &&     a2enmod rewrite &&     a2enmod cgi &&     a2enmod
      expires &&     a2enmod headers &&     a2enmod remoteip &&     a2enmod status
      &&     a2dismod mpm_prefork &&     a2dismod mpm_event &&     a2enmod mpm_worker
      &&     a2disconf serve-cgi-bin &&     a2enconf db-env &&     a2enconf html &&     a2enconf
      logging &&     a2enconf cgi-bin &&     a2enconf error-log &&     a2enconf security
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - "80"
  - CmdLine:
    - /start
    Name: entrypoint
    PrependShell: false
  From:
    Image: ubuntu:16.04
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:16.04
