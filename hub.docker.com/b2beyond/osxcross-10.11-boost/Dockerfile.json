{
  "MetaArgs": null,
  "Stages": [
    {
      "Name": "",
      "BaseName": "ubuntu:16.04",
      "SourceCode": "FROM ubuntu:16.04",
      "Platform": "",
      "From": {
        "Image": "ubuntu:16.04"
      },
      "Commands": [
        {
          "Maintainer": "Olivier Sinnaeve",
          "Name": "maintainer"
        },
        {
          "CmdLine": [
            "apt-get update \u0026\u0026     DEBIAN_FRONTEND=noninteractive apt-get upgrade -yy \u0026\u0026     DEBIAN_FRONTEND=noninteractive apt-get install -yy         automake                    bison                       curl                        file                        flex                        git                         libtool                     pkg-config                  python                      texinfo                     cmake                       wget                \tzip \t\t            software-properties-common         python-software-properties \u0026\u0026     apt-add-repository \"deb http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.8 main\" \u0026\u0026     apt-get update \u0026\u0026     apt-get -yy -qq --force-yes install clang-3.8 lldb-3.8"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "ln -f -s /usr/bin/clang-3.8 /usr/bin/clang\t\u0026\u0026 ln -f -s /usr/bin/clang++-3.8 /usr/bin/clang++"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Env": [
            {
              "Key": "OSXCROSS_SDK_VERSION",
              "Value": "10.11"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "MACOSX_DEPLOYMENT_TARGET",
              "Value": "10.11"
            }
          ],
          "Name": "env"
        },
        {
          "CmdLine": [
            "SDK_VERSION=$OSXCROSS_SDK_VERSION                               OSX_VERSION_MIN=$MACOSX_DEPLOYMENT_TARGET                       mkdir /opt/osxcross \u0026\u0026                                          cd /opt \u0026\u0026                                                      git clone https://github.com/tpoechtrager/osxcross.git \u0026\u0026       cd osxcross \u0026\u0026                                                  git checkout c5ffd32171b3771ef6412e5ba2a6fd09e694294a \u0026\u0026        sed -i -e 's|-march=native||g' ./build_clang.sh ./wrapper/build.sh \u0026\u0026     ./tools/get_dependencies.sh \u0026\u0026                                  curl -L -o ./tarballs/MacOSX${OSXCROSS_SDK_VERSION}.sdk.tar.xz     https://github.com/apriorit/osxcross-sdks/raw/master/MacOSX${OSXCROSS_SDK_VERSION}.sdk.tar.xz \u0026\u0026     yes | PORTABLE=true ./build.sh \u0026\u0026                               ./build_compiler_rt.sh"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "Env": [
            {
              "Key": "UNATTENDED",
              "Value": "1"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "AR",
              "Value": "x86_64-apple-darwin15-ar"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "LD",
              "Value": "x86_64-apple-darwin15-ld"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "CC",
              "Value": "x86_64-apple-darwin15-cc"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "CXX",
              "Value": "x86_64-apple-darwin15-c++"
            }
          ],
          "Name": "env"
        },
        {
          "Env": [
            {
              "Key": "PATH",
              "Value": "$PATH:/opt/osxcross/target/bin"
            }
          ],
          "Name": "env"
        },
        {
          "CmdLine": [
            "osxcross-macports -v install boost \u0026\u0026     ln -s /opt/osxcross/target/bin/x86_64-apple-darwin15-otool /opt/osxcross/target/bin/otool \u0026\u0026     ln -s /opt/osxcross/target/bin/x86_64-apple-darwin15-install_name_tool /opt/osxcross/target/bin/install_name_tool"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "apt-add-repository \"deb http://llvm.org/apt/trusty/ llvm-toolchain-trusty-3.8 main\" \u0026\u0026     apt-get update \u0026\u0026     apt-get -yy -qq --force-yes install clang-3.8 lldb-3.8 \u0026\u0026     ln -f -s /usr/bin/clang-3.8 /usr/bin/clang\t\u0026\u0026 ln -f -s /usr/bin/clang++-3.8 /usr/bin/clang++"
          ],
          "Name": "run",
          "PrependShell": true
        },
        {
          "CmdLine": [
            "/bin/bash"
          ],
          "Name": "cmd",
          "PrependShell": true
        }
      ]
    }
  ]
}