MetaArgs: null
Stages:
- BaseName: ubuntu:trusty
  Commands:
  - Maintainer: Holden Omans <holden.omans@gmail.com>
    Name: maintainer
  - Env:
    - Key: DEBIAN_FRONTEND
      Value: '"noninteractive"'
    - Key: LANG
      Value: '"en_US.UTF-8"'
    - Key: LC_ALL
      Value: '"C.UTF-8"'
    - Key: LANGUAGE
      Value: '"en_US.UTF-8"'
    Name: env
  - CmdLine:
    - echo "deb http://archive.ubuntu.com/ubuntu trusty multiverse" >> /etc/apt/sources.list
      &&     apt-get -q update &&     apt-get -qy --force-yes dist-upgrade &&     apt-get
      install -qy       git curl supervisor ca-certificates       python-software-properties
      software-properties-common python-pip python-dev build-essential python-imaging       procps
      bzip2 libgnutlsxx27 libogg0 libjpeg8 libpng12-0       libvpx1 libtheora0 libxvidcore4
      libmpeg2-4       libvorbis0a libfaad2 libmp3lame0 libmpg123-0 libmad0 libopus0
      libvo-aacenc0       libtiff5-dev libjpeg8-dev zlib1g-dev libfreetype6-dev liblcms2-dev
      libwebp-dev tcl8.6-dev tk8.6-dev python-tk
    Name: run
    PrependShell: true
  - CmdLine:
    - curl http://www.rarlab.com/rar/unrarsrc-5.2.6.tar.gz -G -o /root/unrarsrc-5.2.6.tar.gz
      &&   tar xzf /root/unrarsrc-5.2.6.tar.gz -C /root/
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /root/unrar
  - CmdLine:
    - make lib && make install-lib
    Name: run
    PrependShell: true
  - Name: workdir
    Path: /
  - CmdLine:
    - rm -r /root/unrar*
    Name: run
    PrependShell: true
  - Env:
    - Key: UNRAR_LIB_PATH
      Value: /usr/lib/libunrar.so
    Name: env
  - CmdLine:
    - pip install -U pip setuptools certifi &&   pip install pillow configparser beautifulsoup4
      unrar natsort PyPDF2
    Name: run
    PrependShell: true
  - CmdLine:
    - add-apt-repository -y ppa:jcfp/ppa && apt-get -q update &&   apt-get install
      -qy sabnzbdplus sabnzbdplus-theme-classic sabnzbdplus-theme-mobile     sabnzbdplus-theme-plush
      par2 python-yenc unzip unrar
    Name: run
    PrependShell: true
  - CmdLine:
    - git clone https://github.com/midgetspy/Sick-Beard.git /opt/sickbeard &&  git
      clone https://github.com/RuudBurger/CouchPotatoServer.git /opt/couchpotato &&  git
      clone https://github.com/gugahoi/maraschino.git /opt/maraschino &&  git clone
      https://github.com/rembo10/headphones.git /opt/headphones &&  git clone https://github.com/Kalinon/mylar.git
      /opt/mylar
    Name: run
    PrependShell: true
  - CmdLine:
    - add-apt-repository -y ppa:mc3man/trusty-media && apt-get -q update &&   apt-get
      install -qy ffmpeg &&   apt-get purge -y --auto-remove curl gcc make yasm bzip2     libc6-dev
      libgnutls-dev libogg-dev librtmp-dev libjpeg-dev libpng12-dev     libvpx-dev
      libtheora-dev libxvidcore-dev libmpeg2-4-dev libssl-dev     libvorbis-dev libfaad-dev
      libmp3lame-dev libmpg123-dev libmad0-dev     libopus-dev libvo-aacenc-dev build-essential
      python-dev &&   apt-get autoremove -y &&   apt-get clean &&   rm -rf /var/lib/apt/lists/*
      &&   rm -rf /tmp/*
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - supervisord.conf
    - /etc/supervisor/conf.d/supervisord.conf
  - CmdLine:
    - mkdir -p /var/log/supervisor
    Name: run
    PrependShell: true
  - Name: volume
    Volumes:
    - /config
    - /data
    - /opt/mylar/cache
  - Name: expose
    Ports:
    - "5050"
    - "7000"
    - "8080"
    - "8081"
    - "8085"
    - "8090"
    - "8181"
  - CmdLine:
    - /usr/bin/supervisord
    Name: entrypoint
    PrependShell: false
  From:
    Image: ubuntu:trusty
  Name: ""
  Platform: ""
  SourceCode: FROM ubuntu:trusty
