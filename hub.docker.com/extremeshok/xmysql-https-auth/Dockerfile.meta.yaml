MetaArgs: null
Stages:
- As: build
  BaseName: extremeshok/baseimage-alpine:latest
  Commands:
  - Labels:
    - Key: mantainer
      Value: '"Adrian Kriel <admin@extremeshok.com>"'
    - Key: vendor
      Value: '"eXtremeSHOK.com"'
    Name: label
  - CmdLine:
    - echo "**** install nginx ****"   && apk-install nginx
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "**** install node with work around due to segfault ****"   && apk-install     paxctl     nodejs     nodejs-npm   &&
      paxctl -cm $(which node)   && apk del paxctl
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "**** install xmysql ****"   && npm install -g xmysql
    Name: run
    PrependShell: true
  - CmdLine:
    - echo "**** install bash runtime packages ****"   && apk-install     bash     coreutils     curl     inotify-tools     mariadb-client     openssl     tzdata
    Name: run
    PrependShell: true
  - Chown: ""
    From: ""
    Name: copy
    SourcesAndDest:
    - ./rootfs/
    - /
  - CmdLine:
    - echo "**** configure ****"   && mkdir -p /tmp/xmysql   && mkdir -p /certs   &&
      chown -R nginx:nginx /var/www   && chmod 777 /xshok_gen_nginx_api_conf.sh   &&
      chmod 777 /xshok-monitor-certs.sh
    Name: run
    PrependShell: true
  - Name: expose
    Ports:
    - 443/tcp
  - Name: workdir
    Path: /tmp
  - CmdLine:
    - /init
    Name: entrypoint
    PrependShell: false
  From:
    Image: extremeshok/baseimage-alpine:latest
  Name: build
  Platform: ""
  SourceCode: FROM extremeshok/baseimage-alpine:latest AS BUILD
